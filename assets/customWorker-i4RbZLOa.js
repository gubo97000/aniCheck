(function(){"use strict";function N0(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}const F0=["132615","106495","20947","118940"];var to=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Fn(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var Ul={exports:{}},ro={},Hl={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function $0(){if(Hv)return Ze;Hv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),d=Symbol.iterator;function g(I){return I===null||typeof I!="object"?null:(I=d&&I[d]||I["@@iterator"],typeof I=="function"?I:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,w={};function y(I,$,Q){this.props=I,this.context=$,this.refs=w,this.updater=Q||m}y.prototype.isReactComponent={},y.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},y.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function b(){}b.prototype=y.prototype;function E(I,$,Q){this.props=I,this.context=$,this.refs=w,this.updater=Q||m}var S=E.prototype=new b;S.constructor=E,p(S,y.prototype),S.isPureReactComponent=!0;var T=Array.isArray,A=Object.prototype.hasOwnProperty,D={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function L(I,$,Q){var ue,ne={},Z=null,G=null;if($!=null)for(ue in $.ref!==void 0&&(G=$.ref),$.key!==void 0&&(Z=""+$.key),$)A.call($,ue)&&!P.hasOwnProperty(ue)&&(ne[ue]=$[ue]);var J=arguments.length-2;if(J===1)ne.children=Q;else if(1<J){for(var ee=Array(J),ce=0;ce<J;ce++)ee[ce]=arguments[ce+2];ne.children=ee}if(I&&I.defaultProps)for(ue in J=I.defaultProps,J)ne[ue]===void 0&&(ne[ue]=J[ue]);return{$$typeof:t,type:I,key:Z,ref:G,props:ne,_owner:D.current}}function _(I,$){return{$$typeof:t,type:I.type,key:$,ref:I.ref,props:I.props,_owner:I._owner}}function F(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function N(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Q){return $[Q]})}var B=/\/+/g;function V(I,$){return typeof I=="object"&&I!==null&&I.key!=null?N(""+I.key):$.toString(36)}function M(I,$,Q,ue,ne){var Z=typeof I;(Z==="undefined"||Z==="boolean")&&(I=null);var G=!1;if(I===null)G=!0;else switch(Z){case"string":case"number":G=!0;break;case"object":switch(I.$$typeof){case t:case e:G=!0}}if(G)return G=I,ne=ne(G),I=ue===""?"."+V(G,0):ue,T(ne)?(Q="",I!=null&&(Q=I.replace(B,"$&/")+"/"),M(ne,$,Q,"",function(ce){return ce})):ne!=null&&(F(ne)&&(ne=_(ne,Q+(!ne.key||G&&G.key===ne.key?"":(""+ne.key).replace(B,"$&/")+"/")+I)),$.push(ne)),1;if(G=0,ue=ue===""?".":ue+":",T(I))for(var J=0;J<I.length;J++){Z=I[J];var ee=ue+V(Z,J);G+=M(Z,$,Q,ee,ne)}else if(ee=g(I),typeof ee=="function")for(I=ee.call(I),J=0;!(Z=I.next()).done;)Z=Z.value,ee=ue+V(Z,J++),G+=M(Z,$,Q,ee,ne);else if(Z==="object")throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return G}function H(I,$,Q){if(I==null)return I;var ue=[],ne=0;return M(I,ue,"","",function(Z){return $.call(Q,Z,ne++)}),ue}function W(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(Q){(I._status===0||I._status===-1)&&(I._status=1,I._result=Q)},function(Q){(I._status===0||I._status===-1)&&(I._status=2,I._result=Q)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var q={current:null},Y={transition:null},te={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:Y,ReactCurrentOwner:D};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:H,forEach:function(I,$,Q){H(I,function(){$.apply(this,arguments)},Q)},count:function(I){var $=0;return H(I,function(){$++}),$},toArray:function(I){return H(I,function($){return $})||[]},only:function(I){if(!F(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ze.Component=y,Ze.Fragment=r,Ze.Profiler=a,Ze.PureComponent=E,Ze.StrictMode=n,Ze.Suspense=f,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ze.act=re,Ze.cloneElement=function(I,$,Q){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ue=p({},I.props),ne=I.key,Z=I.ref,G=I._owner;if($!=null){if($.ref!==void 0&&(Z=$.ref,G=D.current),$.key!==void 0&&(ne=""+$.key),I.type&&I.type.defaultProps)var J=I.type.defaultProps;for(ee in $)A.call($,ee)&&!P.hasOwnProperty(ee)&&(ue[ee]=$[ee]===void 0&&J!==void 0?J[ee]:$[ee])}var ee=arguments.length-2;if(ee===1)ue.children=Q;else if(1<ee){J=Array(ee);for(var ce=0;ce<ee;ce++)J[ce]=arguments[ce+2];ue.children=J}return{$$typeof:t,type:I.type,key:ne,ref:Z,props:ue,_owner:G}},Ze.createContext=function(I){return I={$$typeof:o,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:i,_context:I},I.Consumer=I},Ze.createElement=L,Ze.createFactory=function(I){var $=L.bind(null,I);return $.type=I,$},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(I){return{$$typeof:l,render:I}},Ze.isValidElement=F,Ze.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:W}},Ze.memo=function(I,$){return{$$typeof:c,type:I,compare:$===void 0?null:$}},Ze.startTransition=function(I){var $=Y.transition;Y.transition={};try{I()}finally{Y.transition=$}},Ze.unstable_act=re,Ze.useCallback=function(I,$){return q.current.useCallback(I,$)},Ze.useContext=function(I){return q.current.useContext(I)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(I){return q.current.useDeferredValue(I)},Ze.useEffect=function(I,$){return q.current.useEffect(I,$)},Ze.useId=function(){return q.current.useId()},Ze.useImperativeHandle=function(I,$,Q){return q.current.useImperativeHandle(I,$,Q)},Ze.useInsertionEffect=function(I,$){return q.current.useInsertionEffect(I,$)},Ze.useLayoutEffect=function(I,$){return q.current.useLayoutEffect(I,$)},Ze.useMemo=function(I,$){return q.current.useMemo(I,$)},Ze.useReducer=function(I,$,Q){return q.current.useReducer(I,$,Q)},Ze.useRef=function(I){return q.current.useRef(I)},Ze.useState=function(I){return q.current.useState(I)},Ze.useSyncExternalStore=function(I,$,Q){return q.current.useSyncExternalStore(I,$,Q)},Ze.useTransition=function(){return q.current.useTransition()},Ze.version="18.3.1",Ze}var Gv;function Kv(){return Gv||(Gv=1,Hl.exports=$0()),Hl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function q0(){if(Yv)return ro;Yv=1;var t=Kv(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,f,c){var v,d={},g=null,m=null;c!==void 0&&(g=""+c),f.key!==void 0&&(g=""+f.key),f.ref!==void 0&&(m=f.ref);for(v in f)n.call(f,v)&&!i.hasOwnProperty(v)&&(d[v]=f[v]);if(l&&l.defaultProps)for(v in f=l.defaultProps,f)d[v]===void 0&&(d[v]=f[v]);return{$$typeof:e,type:l,key:g,ref:m,props:d,_owner:a.current}}return ro.Fragment=r,ro.jsx=o,ro.jsxs=o,ro}var Xv;function Gl(){return Xv||(Xv=1,Ul.exports=q0()),Ul.exports}var gn=Gl(),Zv={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Zv);var ds=Zv.exports,Kl={};function dt(){return dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dt.apply(null,arguments)}function ta(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Qv(t){if(!ta(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=Qv(t[r])}),e}function Cn(t,e,r={clone:!0}){const n=r.clone?dt({},t):t;return ta(t)&&ta(e)&&Object.keys(e).forEach(a=>{ta(e[a])&&Object.prototype.hasOwnProperty.call(t,a)&&ta(t[a])?n[a]=Cn(t[a],e[a],r):r.clone?n[a]=ta(e[a])?Qv(e[a]):e[a]:n[a]=e[a]}),n}var V0=Object.freeze({__proto__:null,default:Cn,isPlainObject:ta});function no(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var W0=Object.freeze({__proto__:null,default:no}),Jv={exports:{}},ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=Symbol.for("react.element"),Xl=Symbol.for("react.portal"),hs=Symbol.for("react.fragment"),gs=Symbol.for("react.strict_mode"),ps=Symbol.for("react.profiler"),ms=Symbol.for("react.provider"),ys=Symbol.for("react.context"),U0=Symbol.for("react.server_context"),bs=Symbol.for("react.forward_ref"),ws=Symbol.for("react.suspense"),xs=Symbol.for("react.suspense_list"),Es=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),H0=Symbol.for("react.offscreen"),jv;jv=Symbol.for("react.module.reference");function Zr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Yl:switch(t=t.type,t){case hs:case ps:case gs:case ws:case xs:return t;default:switch(t=t&&t.$$typeof,t){case U0:case ys:case bs:case Ss:case Es:case ms:return t;default:return e}}case Xl:return e}}}ht.ContextConsumer=ys,ht.ContextProvider=ms,ht.Element=Yl,ht.ForwardRef=bs,ht.Fragment=hs,ht.Lazy=Ss,ht.Memo=Es,ht.Portal=Xl,ht.Profiler=ps,ht.StrictMode=gs,ht.Suspense=ws,ht.SuspenseList=xs,ht.isAsyncMode=function(){return!1},ht.isConcurrentMode=function(){return!1},ht.isContextConsumer=function(t){return Zr(t)===ys},ht.isContextProvider=function(t){return Zr(t)===ms},ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yl},ht.isForwardRef=function(t){return Zr(t)===bs},ht.isFragment=function(t){return Zr(t)===hs},ht.isLazy=function(t){return Zr(t)===Ss},ht.isMemo=function(t){return Zr(t)===Es},ht.isPortal=function(t){return Zr(t)===Xl},ht.isProfiler=function(t){return Zr(t)===ps},ht.isStrictMode=function(t){return Zr(t)===gs},ht.isSuspense=function(t){return Zr(t)===ws},ht.isSuspenseList=function(t){return Zr(t)===xs},ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hs||t===ps||t===gs||t===ws||t===xs||t===H0||typeof t=="object"&&t!==null&&(t.$$typeof===Ss||t.$$typeof===Es||t.$$typeof===ms||t.$$typeof===ys||t.$$typeof===bs||t.$$typeof===jv||t.getModuleId!==void 0)},ht.typeOf=Zr,Jv.exports=ht;var ed=Jv.exports;const G0=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function td(t){const e=`${t}`.match(G0);return e&&e[1]||""}function rd(t,e=""){return t.displayName||t.name||td(t)||e}function nd(t,e,r){const n=rd(e);return t.displayName||(n!==""?`${r}(${n})`:r)}function K0(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return rd(t,"Component");if(typeof t=="object")switch(t.$$typeof){case ed.ForwardRef:return nd(t,t.render,"ForwardRef");case ed.Memo:return nd(t,t.type,"memo");default:return}}}var Y0=Object.freeze({__proto__:null,default:K0,getFunctionName:td});function ra(t){if(typeof t!="string")throw new Error(no(7));return t.charAt(0).toUpperCase()+t.slice(1)}var X0=Object.freeze({__proto__:null,default:ra});function Z0(...t){return t.reduce((e,r)=>r==null?e:function(...a){e.apply(this,a),r.apply(this,a)},()=>{})}function Q0(t,e=166){let r;function n(...a){const i=()=>{t.apply(this,a)};clearTimeout(r),r=setTimeout(i,e)}return n.clear=()=>{clearTimeout(r)},n}function J0(t,e){return()=>null}var at=Kv(),j0=z0(at),Zl=N0({__proto__:null,default:j0},[at]);function e1(t,e){var r,n;return at.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function ad(t){return t&&t.ownerDocument||document}function t1(t){return ad(t).defaultView||window}function r1(t,e){return()=>null}function id(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const od=typeof window<"u"?at.useLayoutEffect:at.useEffect;let sd=0;function n1(t){const[e,r]=at.useState(t),n=t||e;return at.useEffect(()=>{e==null&&(sd+=1,r(`mui-${sd}`))},[e]),n}const ud=Zl.useId;function a1(t){if(ud!==void 0){const e=ud();return t??e}return n1(t)}function i1(t,e,r,n,a){return null}function o1({controlled:t,default:e,name:r,state:n="value"}){const{current:a}=at.useRef(t!==void 0),[i,o]=at.useState(e),l=a?t:i,f=at.useCallback(c=>{a||o(c)},[]);return[l,f]}function s1(t){const e=at.useRef(t);return od(()=>{e.current=t}),at.useRef((...r)=>(0,e.current)(...r)).current}function u1(...t){return at.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{id(r,e)})},t)}class Ql{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Ql}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}let Cs=!0,Jl=!1;const l1=new Ql,f1={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c1(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&f1[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function v1(t){t.metaKey||t.altKey||t.ctrlKey||(Cs=!0)}function jl(){Cs=!1}function d1(){this.visibilityState==="hidden"&&Jl&&(Cs=!0)}function h1(t){t.addEventListener("keydown",v1,!0),t.addEventListener("mousedown",jl,!0),t.addEventListener("pointerdown",jl,!0),t.addEventListener("touchstart",jl,!0),t.addEventListener("visibilitychange",d1,!0)}function g1(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Cs||c1(e)}function p1(){const t=at.useCallback(a=>{a!=null&&h1(a.ownerDocument)},[]),e=at.useRef(!1);function r(){return e.current?(Jl=!0,l1.start(100,()=>{Jl=!1}),e.current=!1,!0):!1}function n(a){return g1(a)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}function ld(t,e){const r=dt({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=dt({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const a=t[n]||{},i=e[n];r[n]={},!i||!Object.keys(i)?r[n]=a:!a||!Object.keys(a)?r[n]=i:(r[n]=dt({},i),Object.keys(a).forEach(o=>{r[n][o]=ld(a[o],i[o])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function m1(t,e,r=void 0){const n={};return Object.keys(t).forEach(a=>{n[a]=t[a].reduce((i,o)=>{if(o){const l=e(o);l!==""&&i.push(l),r&&r[o]&&i.push(r[o])}return i},[]).join(" ")}),n}const fd=t=>t,cd=(()=>{let t=fd;return{configure(e){t=e},generate(e){return t(e)},reset(){t=fd}}})(),y1={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function vd(t,e,r="Mui"){const n=y1[e];return n?`${r}-${n}`:`${cd.generate(t)}-${e}`}function b1(t,e,r="Mui"){const n={};return e.forEach(a=>{n[a]=vd(t,a,r)}),n}function w1(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}var x1=Object.freeze({__proto__:null,default:w1});function na(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dd(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=dd(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function E1(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=dd(t))&&(n&&(n+=" "),n+=e);return n}function S1(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:ld(e.components[r].defaultProps,n)}const C1=["values","unit","step"],T1=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>dt({},r,{[n.key]:n.val}),{})};function hd(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,a=na(t,C1),i=T1(e),o=Object.keys(i);function l(g){return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${r})`}function f(g){return`@media (max-width:${(typeof e[g]=="number"?e[g]:g)-n/100}${r})`}function c(g,m){const p=o.indexOf(m);return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${r}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:m)-n/100}${r})`}function v(g){return o.indexOf(g)+1<o.length?c(g,o[o.indexOf(g)+1]):l(g)}function d(g){const m=o.indexOf(g);return m===0?l(o[1]):m===o.length-1?f(o[m]):c(g,o[o.indexOf(g)+1]).replace("@media","@media not all and")}return dt({keys:o,values:i,up:l,down:f,between:c,only:v,not:d,unit:r},a)}const P1={borderRadius:4};function ao(t,e){return e?Cn(t,e,{clone:!1}):t}const ef={xs:0,sm:600,md:900,lg:1200,xl:1536},gd={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${ef[t]}px)`};function zn(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const i=n.breakpoints||gd;return e.reduce((o,l,f)=>(o[i.up(i.keys[f])]=r(e[f]),o),{})}if(typeof e=="object"){const i=n.breakpoints||gd;return Object.keys(e).reduce((o,l)=>{if(Object.keys(i.values||ef).indexOf(l)!==-1){const f=i.up(l);o[f]=r(e[l],l)}else{const f=l;o[f]=e[f]}return o},{})}return r(e)}function A1(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,a)=>{const i=t.up(a);return n[i]={},n},{}))||{}}function D1(t,e){return t.reduce((r,n)=>{const a=r[n];return(!a||Object.keys(a).length===0)&&delete r[n],r},e)}function Ts(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((a,i)=>a&&a[i]?a[i]:null,t);if(n!=null)return n}return e.split(".").reduce((n,a)=>n&&n[a]!=null?n[a]:null,t)}function Ps(t,e,r,n=r){let a;return typeof t=="function"?a=t(r):Array.isArray(t)?a=t[r]||n:a=Ts(t,r)||n,e&&(a=e(a,n,t)),a}function Nt(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:a}=t,i=o=>{if(o[e]==null)return null;const l=o[e],f=o.theme,c=Ts(f,n)||{};return zn(o,l,d=>{let g=Ps(c,a,d);return d===g&&typeof d=="string"&&(g=Ps(c,a,`${e}${d==="default"?"":ra(d)}`,d)),r===!1?g:{[r]:g}})};return i.propTypes={},i.filterProps=[e],i}function k1(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const _1={m:"margin",p:"padding"},R1={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},pd={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},O1=k1(t=>{if(t.length>2)if(pd[t])t=pd[t];else return[t];const[e,r]=t.split(""),n=_1[e],a=R1[r]||"";return Array.isArray(a)?a.map(i=>n+i):[n+a]}),tf=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],rf=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...tf,...rf];function io(t,e,r,n){var a;const i=(a=Ts(t,e,!1))!=null?a:r;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function md(t){return io(t,"spacing",8)}function oo(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function L1(t,e){return r=>t.reduce((n,a)=>(n[a]=oo(e,r),n),{})}function I1(t,e,r,n){if(e.indexOf(r)===-1)return null;const a=O1(r),i=L1(a,n),o=t[r];return zn(t,o,i)}function yd(t,e){const r=md(t.theme);return Object.keys(t).map(n=>I1(t,e,n,r)).reduce(ao,{})}function Ot(t){return yd(t,tf)}Ot.propTypes={},Ot.filterProps=tf;function Lt(t){return yd(t,rf)}Lt.propTypes={},Lt.filterProps=rf;function M1(t=8){if(t.mui)return t;const e=md({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function As(...t){const e=t.reduce((n,a)=>(a.filterProps.forEach(i=>{n[i]=a}),n),{}),r=n=>Object.keys(n).reduce((a,i)=>e[i]?ao(a,e[i](n)):a,{});return r.propTypes={},r.filterProps=t.reduce((n,a)=>n.concat(a.filterProps),[]),r}function Qr(t){return typeof t!="number"?t:`${t}px solid`}function Jr(t,e){return Nt({prop:t,themeKey:"borders",transform:e})}const B1=Jr("border",Qr),N1=Jr("borderTop",Qr),F1=Jr("borderRight",Qr),z1=Jr("borderBottom",Qr),$1=Jr("borderLeft",Qr),q1=Jr("borderColor"),V1=Jr("borderTopColor"),W1=Jr("borderRightColor"),U1=Jr("borderBottomColor"),H1=Jr("borderLeftColor"),G1=Jr("outline",Qr),K1=Jr("outlineColor"),Ds=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=io(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:oo(e,n)});return zn(t,t.borderRadius,r)}return null};Ds.propTypes={},Ds.filterProps=["borderRadius"],As(B1,N1,F1,z1,$1,q1,V1,W1,U1,H1,Ds,G1,K1);const ks=t=>{if(t.gap!==void 0&&t.gap!==null){const e=io(t.theme,"spacing",8),r=n=>({gap:oo(e,n)});return zn(t,t.gap,r)}return null};ks.propTypes={},ks.filterProps=["gap"];const _s=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=io(t.theme,"spacing",8),r=n=>({columnGap:oo(e,n)});return zn(t,t.columnGap,r)}return null};_s.propTypes={},_s.filterProps=["columnGap"];const Rs=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=io(t.theme,"spacing",8),r=n=>({rowGap:oo(e,n)});return zn(t,t.rowGap,r)}return null};Rs.propTypes={},Rs.filterProps=["rowGap"];const Y1=Nt({prop:"gridColumn"}),X1=Nt({prop:"gridRow"}),Z1=Nt({prop:"gridAutoFlow"}),Q1=Nt({prop:"gridAutoColumns"}),J1=Nt({prop:"gridAutoRows"}),j1=Nt({prop:"gridTemplateColumns"}),eb=Nt({prop:"gridTemplateRows"}),tb=Nt({prop:"gridTemplateAreas"}),rb=Nt({prop:"gridArea"});As(ks,_s,Rs,Y1,X1,Z1,Q1,J1,j1,eb,tb,rb);function ti(t,e){return e==="grey"?e:t}const nb=Nt({prop:"color",themeKey:"palette",transform:ti}),ab=Nt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ti}),ib=Nt({prop:"backgroundColor",themeKey:"palette",transform:ti});As(nb,ab,ib);function Br(t){return t<=1&&t!==0?`${t*100}%`:t}const ob=Nt({prop:"width",transform:Br}),nf=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,a;const i=((n=t.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||ef[r];return i?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Br(r)}};return zn(t,t.maxWidth,e)}return null};nf.filterProps=["maxWidth"];const sb=Nt({prop:"minWidth",transform:Br}),ub=Nt({prop:"height",transform:Br}),lb=Nt({prop:"maxHeight",transform:Br}),fb=Nt({prop:"minHeight",transform:Br});Nt({prop:"size",cssProperty:"width",transform:Br}),Nt({prop:"size",cssProperty:"height",transform:Br});const cb=Nt({prop:"boxSizing"});As(ob,nf,sb,ub,lb,fb,cb);const so={border:{themeKey:"borders",transform:Qr},borderTop:{themeKey:"borders",transform:Qr},borderRight:{themeKey:"borders",transform:Qr},borderBottom:{themeKey:"borders",transform:Qr},borderLeft:{themeKey:"borders",transform:Qr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Qr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ds},color:{themeKey:"palette",transform:ti},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ti},backgroundColor:{themeKey:"palette",transform:ti},p:{style:Lt},pt:{style:Lt},pr:{style:Lt},pb:{style:Lt},pl:{style:Lt},px:{style:Lt},py:{style:Lt},padding:{style:Lt},paddingTop:{style:Lt},paddingRight:{style:Lt},paddingBottom:{style:Lt},paddingLeft:{style:Lt},paddingX:{style:Lt},paddingY:{style:Lt},paddingInline:{style:Lt},paddingInlineStart:{style:Lt},paddingInlineEnd:{style:Lt},paddingBlock:{style:Lt},paddingBlockStart:{style:Lt},paddingBlockEnd:{style:Lt},m:{style:Ot},mt:{style:Ot},mr:{style:Ot},mb:{style:Ot},ml:{style:Ot},mx:{style:Ot},my:{style:Ot},margin:{style:Ot},marginTop:{style:Ot},marginRight:{style:Ot},marginBottom:{style:Ot},marginLeft:{style:Ot},marginX:{style:Ot},marginY:{style:Ot},marginInline:{style:Ot},marginInlineStart:{style:Ot},marginInlineEnd:{style:Ot},marginBlock:{style:Ot},marginBlockStart:{style:Ot},marginBlockEnd:{style:Ot},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ks},rowGap:{style:Rs},columnGap:{style:_s},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Br},maxWidth:{style:nf},minWidth:{transform:Br},height:{transform:Br},maxHeight:{transform:Br},minHeight:{transform:Br},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function vb(...t){const e=t.reduce((n,a)=>n.concat(Object.keys(a)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function db(t,e){return typeof t=="function"?t(e):t}function bd(){function t(r,n,a,i){const o={[r]:n,theme:a},l=i[r];if(!l)return{[r]:n};const{cssProperty:f=r,themeKey:c,transform:v,style:d}=l;if(n==null)return null;if(c==="typography"&&n==="inherit")return{[r]:n};const g=Ts(a,c)||{};return d?d(o):zn(o,n,p=>{let w=Ps(g,v,p);return p===w&&typeof p=="string"&&(w=Ps(g,v,`${r}${p==="default"?"":ra(p)}`,p)),f===!1?w:{[f]:w}})}function e(r){var n;const{sx:a,theme:i={}}=r||{};if(!a)return null;const o=(n=i.unstable_sxConfig)!=null?n:so;function l(f){let c=f;if(typeof f=="function")c=f(i);else if(typeof f!="object")return f;if(!c)return null;const v=A1(i.breakpoints),d=Object.keys(v);let g=v;return Object.keys(c).forEach(m=>{const p=db(c[m],i);if(p!=null)if(typeof p=="object")if(o[m])g=ao(g,t(m,p,i,o));else{const w=zn({theme:i},p,y=>({[m]:y}));vb(w,p)?g[m]=e({sx:p,theme:i}):g=ao(g,w)}else g=ao(g,t(m,p,i,o))}),D1(d,g)}return Array.isArray(a)?a.map(l):l(a)}return e}const Os=bd();Os.filterProps=["sx"];function wd(t,e){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:r.palette.mode===t?e:{}}const hb=["breakpoints","palette","spacing","shape"];function af(t={},...e){const{breakpoints:r={},palette:n={},spacing:a,shape:i={}}=t,o=na(t,hb),l=hd(r),f=M1(a);let c=Cn({breakpoints:l,direction:"ltr",components:{},palette:dt({mode:"light"},n),spacing:f,shape:dt({},P1,i)},o);return c.applyStyles=wd,c=e.reduce((v,d)=>Cn(v,d),c),c.unstable_sxConfig=dt({},so,o?.unstable_sxConfig),c.unstable_sx=function(d){return Os({sx:d,theme:this})},c}var gb=Object.freeze({__proto__:null,default:af,private_createBreakpoints:hd,unstable_applyStyles:wd});function xd(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var pb=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mb=xd(function(t){return pb.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function yb(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function bb(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var wb=function(){function t(r){var n=this;this._insertTag=function(a){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,i),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bb(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=yb(a);try{i.insertRule(n,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),vr="-ms-",Ls="-moz-",st="-webkit-",Ed="comm",of="rule",sf="decl",xb="@import",Sd="@keyframes",Eb="@layer",Sb=Math.abs,Is=String.fromCharCode,Cb=Object.assign;function Tb(t,e){return nr(t,0)^45?(((e<<2^nr(t,0))<<2^nr(t,1))<<2^nr(t,2))<<2^nr(t,3):0}function Cd(t){return t.trim()}function Pb(t,e){return(t=e.exec(t))?t[0]:t}function ut(t,e,r){return t.replace(e,r)}function uf(t,e){return t.indexOf(e)}function nr(t,e){return t.charCodeAt(e)|0}function uo(t,e,r){return t.slice(e,r)}function Tn(t){return t.length}function lf(t){return t.length}function Ms(t,e){return e.push(t),t}function Ab(t,e){return t.map(e).join("")}var Bs=1,ri=1,Td=0,Pr=0,Vt=0,ni="";function Ns(t,e,r,n,a,i,o){return{value:t,root:e,parent:r,type:n,props:a,children:i,line:Bs,column:ri,length:o,return:""}}function lo(t,e){return Cb(Ns("",null,null,"",null,null,0),t,{length:-t.length},e)}function Db(){return Vt}function kb(){return Vt=Pr>0?nr(ni,--Pr):0,ri--,Vt===10&&(ri=1,Bs--),Vt}function Nr(){return Vt=Pr<Td?nr(ni,Pr++):0,ri++,Vt===10&&(ri=1,Bs++),Vt}function Pn(){return nr(ni,Pr)}function Fs(){return Pr}function fo(t,e){return uo(ni,t,e)}function co(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Pd(t){return Bs=ri=1,Td=Tn(ni=t),Pr=0,[]}function Ad(t){return ni="",t}function zs(t){return Cd(fo(Pr-1,ff(t===91?t+2:t===40?t+1:t)))}function _b(t){for(;(Vt=Pn())&&Vt<33;)Nr();return co(t)>2||co(Vt)>3?"":" "}function Rb(t,e){for(;--e&&Nr()&&!(Vt<48||Vt>102||Vt>57&&Vt<65||Vt>70&&Vt<97););return fo(t,Fs()+(e<6&&Pn()==32&&Nr()==32))}function ff(t){for(;Nr();)switch(Vt){case t:return Pr;case 34:case 39:t!==34&&t!==39&&ff(Vt);break;case 40:t===41&&ff(t);break;case 92:Nr();break}return Pr}function Ob(t,e){for(;Nr()&&t+Vt!==57;)if(t+Vt===84&&Pn()===47)break;return"/*"+fo(e,Pr-1)+"*"+Is(t===47?t:Nr())}function Lb(t){for(;!co(Pn());)Nr();return fo(t,Pr)}function Ib(t){return Ad($s("",null,null,null,[""],t=Pd(t),0,[0],t))}function $s(t,e,r,n,a,i,o,l,f){for(var c=0,v=0,d=o,g=0,m=0,p=0,w=1,y=1,b=1,E=0,S="",T=a,A=i,D=n,P=S;y;)switch(p=E,E=Nr()){case 40:if(p!=108&&nr(P,d-1)==58){uf(P+=ut(zs(E),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:P+=zs(E);break;case 9:case 10:case 13:case 32:P+=_b(p);break;case 92:P+=Rb(Fs()-1,7);continue;case 47:switch(Pn()){case 42:case 47:Ms(Mb(Ob(Nr(),Fs()),e,r),f);break;default:P+="/"}break;case 123*w:l[c++]=Tn(P)*b;case 125*w:case 59:case 0:switch(E){case 0:case 125:y=0;case 59+v:b==-1&&(P=ut(P,/\f/g,"")),m>0&&Tn(P)-d&&Ms(m>32?kd(P+";",n,r,d-1):kd(ut(P," ","")+";",n,r,d-2),f);break;case 59:P+=";";default:if(Ms(D=Dd(P,e,r,c,v,a,l,S,T=[],A=[],d),i),E===123)if(v===0)$s(P,e,D,D,T,i,d,l,A);else switch(g===99&&nr(P,3)===110?100:g){case 100:case 108:case 109:case 115:$s(t,D,D,n&&Ms(Dd(t,D,D,0,0,a,l,S,a,T=[],d),A),a,A,d,l,n?T:A);break;default:$s(P,D,D,D,[""],A,0,l,A)}}c=v=m=0,w=b=1,S=P="",d=o;break;case 58:d=1+Tn(P),m=p;default:if(w<1){if(E==123)--w;else if(E==125&&w++==0&&kb()==125)continue}switch(P+=Is(E),E*w){case 38:b=v>0?1:(P+="\f",-1);break;case 44:l[c++]=(Tn(P)-1)*b,b=1;break;case 64:Pn()===45&&(P+=zs(Nr())),g=Pn(),v=d=Tn(S=P+=Lb(Fs())),E++;break;case 45:p===45&&Tn(P)==2&&(w=0)}}return i}function Dd(t,e,r,n,a,i,o,l,f,c,v){for(var d=a-1,g=a===0?i:[""],m=lf(g),p=0,w=0,y=0;p<n;++p)for(var b=0,E=uo(t,d+1,d=Sb(w=o[p])),S=t;b<m;++b)(S=Cd(w>0?g[b]+" "+E:ut(E,/&\f/g,g[b])))&&(f[y++]=S);return Ns(t,e,r,a===0?of:l,f,c,v)}function Mb(t,e,r){return Ns(t,e,r,Ed,Is(Db()),uo(t,2,-2),0)}function kd(t,e,r,n){return Ns(t,e,r,sf,uo(t,0,n),uo(t,n+1,-1),n)}function ai(t,e){for(var r="",n=lf(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function Bb(t,e,r,n){switch(t.type){case Eb:if(t.children.length)break;case xb:case sf:return t.return=t.return||t.value;case Ed:return"";case Sd:return t.return=t.value+"{"+ai(t.children,n)+"}";case of:t.value=t.props.join(",")}return Tn(r=ai(t.children,n))?t.return=t.value+"{"+r+"}":""}function Nb(t){var e=lf(t);return function(r,n,a,i){for(var o="",l=0;l<e;l++)o+=t[l](r,n,a,i)||"";return o}}function Fb(t){return function(e){e.root||(e=e.return)&&t(e)}}var zb=function(e,r,n){for(var a=0,i=0;a=i,i=Pn(),a===38&&i===12&&(r[n]=1),!co(i);)Nr();return fo(e,Pr)},$b=function(e,r){var n=-1,a=44;do switch(co(a)){case 0:a===38&&Pn()===12&&(r[n]=1),e[n]+=zb(Pr-1,r,n);break;case 2:e[n]+=zs(a);break;case 4:if(a===44){e[++n]=Pn()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Is(a)}while(a=Nr());return e},qb=function(e,r){return Ad($b(Pd(e),r))},_d=new WeakMap,Vb=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!_d.get(n))&&!a){_d.set(e,!0);for(var i=[],o=qb(r,i),l=n.props,f=0,c=0;f<o.length;f++)for(var v=0;v<l.length;v++,c++)e.props[c]=i[f]?o[f].replace(/&\f/g,l[v]):l[v]+" "+o[f]}}},Wb=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function Rd(t,e){switch(Tb(t,e)){case 5103:return st+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return st+t+Ls+t+vr+t+t;case 6828:case 4268:return st+t+vr+t+t;case 6165:return st+t+vr+"flex-"+t+t;case 5187:return st+t+ut(t,/(\w+).+(:[^]+)/,st+"box-$1$2"+vr+"flex-$1$2")+t;case 5443:return st+t+vr+"flex-item-"+ut(t,/flex-|-self/,"")+t;case 4675:return st+t+vr+"flex-line-pack"+ut(t,/align-content|flex-|-self/,"")+t;case 5548:return st+t+vr+ut(t,"shrink","negative")+t;case 5292:return st+t+vr+ut(t,"basis","preferred-size")+t;case 6060:return st+"box-"+ut(t,"-grow","")+st+t+vr+ut(t,"grow","positive")+t;case 4554:return st+ut(t,/([^-])(transform)/g,"$1"+st+"$2")+t;case 6187:return ut(ut(ut(t,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),t,"")+t;case 5495:case 3959:return ut(t,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return ut(ut(t,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+vr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+t+t;case 4095:case 3583:case 4068:case 2532:return ut(t,/(.+)-inline(.+)/,st+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Tn(t)-1-e>6)switch(nr(t,e+1)){case 109:if(nr(t,e+4)!==45)break;case 102:return ut(t,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+Ls+(nr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~uf(t,"stretch")?Rd(ut(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(nr(t,e+1)!==115)break;case 6444:switch(nr(t,Tn(t)-3-(~uf(t,"!important")&&10))){case 107:return ut(t,":",":"+st)+t;case 101:return ut(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(nr(t,14)===45?"inline-":"")+"box$3$1"+st+"$2$3$1"+vr+"$2box$3")+t}break;case 5936:switch(nr(t,e+11)){case 114:return st+t+vr+ut(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return st+t+vr+ut(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return st+t+vr+ut(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return st+t+vr+t+t}return t}var Ub=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case sf:e.return=Rd(e.value,e.length);break;case Sd:return ai([lo(e,{value:ut(e.value,"@","@"+st)})],a);case of:if(e.length)return Ab(e.props,function(i){switch(Pb(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ai([lo(e,{props:[ut(i,/:(read-\w+)/,":"+Ls+"$1")]})],a);case"::placeholder":return ai([lo(e,{props:[ut(i,/:(plac\w+)/,":"+st+"input-$1")]}),lo(e,{props:[ut(i,/:(plac\w+)/,":"+Ls+"$1")]}),lo(e,{props:[ut(i,/:(plac\w+)/,vr+"input-$1")]})],a)}return""})}},Hb=[Ub],Od=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var y=w.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var a=e.stylisPlugins||Hb,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var y=w.getAttribute("data-emotion").split(" "),b=1;b<y.length;b++)i[y[b]]=!0;l.push(w)});var f,c=[Vb,Wb];{var v,d=[Bb,Fb(function(w){v.insert(w)})],g=Nb(c.concat(a,d)),m=function(y){return ai(Ib(y),g)};f=function(y,b,E,S){v=E,m(y?y+"{"+b.styles+"}":b.styles),S&&(p.inserted[b.name]=!0)}}var p={key:r,sheet:new wb({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:f};return p.sheet.hydrate(l),p},Ld={exports:{}},gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=typeof Symbol=="function"&&Symbol.for,cf=Jt?Symbol.for("react.element"):60103,vf=Jt?Symbol.for("react.portal"):60106,qs=Jt?Symbol.for("react.fragment"):60107,Vs=Jt?Symbol.for("react.strict_mode"):60108,Ws=Jt?Symbol.for("react.profiler"):60114,Us=Jt?Symbol.for("react.provider"):60109,Hs=Jt?Symbol.for("react.context"):60110,df=Jt?Symbol.for("react.async_mode"):60111,Gs=Jt?Symbol.for("react.concurrent_mode"):60111,Ks=Jt?Symbol.for("react.forward_ref"):60112,Ys=Jt?Symbol.for("react.suspense"):60113,Gb=Jt?Symbol.for("react.suspense_list"):60120,Xs=Jt?Symbol.for("react.memo"):60115,Zs=Jt?Symbol.for("react.lazy"):60116,Kb=Jt?Symbol.for("react.block"):60121,Yb=Jt?Symbol.for("react.fundamental"):60117,Xb=Jt?Symbol.for("react.responder"):60118,Zb=Jt?Symbol.for("react.scope"):60119;function Fr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cf:switch(t=t.type,t){case df:case Gs:case qs:case Ws:case Vs:case Ys:return t;default:switch(t=t&&t.$$typeof,t){case Hs:case Ks:case Zs:case Xs:case Us:return t;default:return e}}case vf:return e}}}function Id(t){return Fr(t)===Gs}gt.AsyncMode=df,gt.ConcurrentMode=Gs,gt.ContextConsumer=Hs,gt.ContextProvider=Us,gt.Element=cf,gt.ForwardRef=Ks,gt.Fragment=qs,gt.Lazy=Zs,gt.Memo=Xs,gt.Portal=vf,gt.Profiler=Ws,gt.StrictMode=Vs,gt.Suspense=Ys,gt.isAsyncMode=function(t){return Id(t)||Fr(t)===df},gt.isConcurrentMode=Id,gt.isContextConsumer=function(t){return Fr(t)===Hs},gt.isContextProvider=function(t){return Fr(t)===Us},gt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cf},gt.isForwardRef=function(t){return Fr(t)===Ks},gt.isFragment=function(t){return Fr(t)===qs},gt.isLazy=function(t){return Fr(t)===Zs},gt.isMemo=function(t){return Fr(t)===Xs},gt.isPortal=function(t){return Fr(t)===vf},gt.isProfiler=function(t){return Fr(t)===Ws},gt.isStrictMode=function(t){return Fr(t)===Vs},gt.isSuspense=function(t){return Fr(t)===Ys},gt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qs||t===Gs||t===Ws||t===Vs||t===Ys||t===Gb||typeof t=="object"&&t!==null&&(t.$$typeof===Zs||t.$$typeof===Xs||t.$$typeof===Us||t.$$typeof===Hs||t.$$typeof===Ks||t.$$typeof===Yb||t.$$typeof===Xb||t.$$typeof===Zb||t.$$typeof===Kb)},gt.typeOf=Fr,Ld.exports=gt;var Qb=Ld.exports,Md=Qb,Jb={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Bd={};Bd[Md.ForwardRef]=Jb,Bd[Md.Memo]=jb;var ew=!0;function tw(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):n+=a+" "}),n}var Nd=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||ew===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},Fd=function(e,r,n){Nd(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var i=r;do e.insert(r===i?"."+a:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function rw(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var nw={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},aw=/[A-Z]|^ms/g,iw=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zd=function(e){return e.charCodeAt(1)===45},$d=function(e){return e!=null&&typeof e!="boolean"},hf=xd(function(t){return zd(t)?t:t.replace(aw,"-$&").toLowerCase()}),qd=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(iw,function(n,a,i){return An={name:a,styles:i,next:An},a})}return nw[e]!==1&&!zd(e)&&typeof r=="number"&&r!==0?r+"px":r},WI="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function vo(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return An={name:r.name,styles:r.styles,next:An},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)An={name:n.name,styles:n.styles,next:An},n=n.next;var a=r.styles+";";return a}return ow(t,e,r)}case"function":{if(t!==void 0){var i=An,o=r(t);return An=i,vo(t,e,o)}break}}if(e==null)return r;var l=e[r];return l!==void 0?l:r}function ow(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=vo(t,e,r[a])+";";else for(var i in r){var o=r[i];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=i+"{"+e[o]+"}":$d(o)&&(n+=hf(i)+":"+qd(i,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)$d(o[l])&&(n+=hf(i)+":"+qd(i,o[l])+";");else{var f=vo(t,e,o);switch(i){case"animation":case"animationName":{n+=hf(i)+":"+f+";";break}default:n+=i+"{"+f+"}"}}}return n}var Vd=/label:\s*([^\s;\n{]+)\s*(;|$)/g,An,gf=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,i="";An=void 0;var o=e[0];o==null||o.raw===void 0?(a=!1,i+=vo(n,r,o)):i+=o[0];for(var l=1;l<e.length;l++)i+=vo(n,r,e[l]),a&&(i+=o[l]);Vd.lastIndex=0;for(var f="",c;(c=Vd.exec(i))!==null;)f+="-"+c[1];var v=rw(i)+f;return{name:v,styles:i,next:An}},sw=function(e){return e()},Wd=Zl.useInsertionEffect?Zl.useInsertionEffect:!1,uw=Wd||sw,Ud=Wd||at.useLayoutEffect,Hd=at.createContext(typeof HTMLElement<"u"?Od({key:"css"}):null),lw=Hd.Provider,Gd=function(e){return at.forwardRef(function(r,n){var a=at.useContext(Hd);return e(r,a,n)})},Qs=at.createContext({}),pf={exports:{}},Kd;function Yd(){return Kd||(Kd=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var i in a)({}).hasOwnProperty.call(a,i)&&(r[i]=a[i])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(pf)),pf.exports}Yd();var fw=Gd(function(t,e){var r=t.styles,n=gf([r],void 0,at.useContext(Qs)),a=at.useRef();return Ud(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,f=document.querySelector('style[data-emotion="'+i+" "+n.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),f!==null&&(l=!0,f.setAttribute("data-emotion",i),o.hydrate([f])),a.current=[o,l],function(){o.flush()}},[e]),Ud(function(){var i=a.current,o=i[0],l=i[1];if(l){i[1]=!1;return}if(n.next!==void 0&&Fd(e,n.next,!0),o.tags.length){var f=o.tags[o.tags.length-1].nextElementSibling;o.before=f,o.flush()}e.insert("",n,o,!1)},[e,n.name]),null});function Xd(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return gf(e)}var cw=function(){var e=Xd.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},vw=mb,dw=function(e){return e!=="theme"},Zd=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?vw:dw},Qd=function(e,r,n){var a;if(r){var i=r.shouldForwardProp;a=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof a!="function"&&n&&(a=e.__emotion_forwardProp),a},hw=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return Nd(r,n,a),uw(function(){return Fd(r,n,a)}),null},gw=function t(e,r){var n=e.__emotion_real===e,a=n&&e.__emotion_base||e,i,o;r!==void 0&&(i=r.label,o=r.target);var l=Qd(e,r,n),f=l||Zd(a),c=!f("as");return function(){var v=arguments,d=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),v[0]==null||v[0].raw===void 0)d.push.apply(d,v);else{d.push(v[0][0]);for(var g=v.length,m=1;m<g;m++)d.push(v[m],v[0][m])}var p=Gd(function(w,y,b){var E=c&&w.as||a,S="",T=[],A=w;if(w.theme==null){A={};for(var D in w)A[D]=w[D];A.theme=at.useContext(Qs)}typeof w.className=="string"?S=tw(y.registered,T,w.className):w.className!=null&&(S=w.className+" ");var P=gf(d.concat(T),y.registered,A);S+=y.key+"-"+P.name,o!==void 0&&(S+=" "+o);var L=c&&l===void 0?Zd(E):f,_={};for(var F in w)c&&F==="as"||L(F)&&(_[F]=w[F]);return _.className=S,_.ref=b,at.createElement(at.Fragment,null,at.createElement(hw,{cache:y,serialized:P,isStringTag:typeof E=="string"}),at.createElement(E,_))});return p.displayName=i!==void 0?i:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=a,p.__emotion_styles=d,p.__emotion_forwardProp=l,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(w,y){return t(w,dt({},r,y,{shouldForwardProp:Qd(p,y,!0)})).apply(void 0,d)},p}},pw=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],mf=gw.bind();pw.forEach(function(t){mf[t]=mf(t)});let yf;typeof document=="object"&&(yf=Od({key:"css",prepend:!0}));function mw(t){const{injectFirst:e,children:r}=t;return e&&yf?gn.jsx(lw,{value:yf,children:r}):r}function yw(t){return t==null||Object.keys(t).length===0}function bw(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?a=>e(yw(a)?r:a):e;return gn.jsx(fw,{styles:n})}function ww(t,e){return mf(t,e)}var xw=Object.freeze({__proto__:null,GlobalStyles:bw,StyledEngineProvider:mw,ThemeContext:Qs,css:Xd,default:ww,internal_processStyles:(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},keyframes:cw});function Ew(t){return Object.keys(t).length===0}function Sw(t=null){const e=at.useContext(Qs);return!e||Ew(e)?t:e}const Cw=af();function Tw(t=Cw){return Sw(t)}function Pw({props:t,name:e,defaultTheme:r,themeId:n}){let a=Tw(r);return n&&(a=a[n]||a),S1({theme:a,name:e,props:t})}const Aw=["sx"],Dw=t=>{var e,r;const n={systemProps:{},otherProps:{}},a=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:so;return Object.keys(t).forEach(i=>{a[i]?n.systemProps[i]=t[i]:n.otherProps[i]=t[i]}),n};function kw(t){const{sx:e}=t,r=na(t,Aw),{systemProps:n,otherProps:a}=Dw(r);let i;return Array.isArray(e)?i=[n,...e]:typeof e=="function"?i=(...o)=>{const l=e(...o);return ta(l)?dt({},n,l):n}:i=dt({},n,e),dt({},a,{sx:i})}var _w=Object.freeze({__proto__:null,default:Os,extendSxProp:kw,unstable_createStyleFunctionSx:bd,unstable_defaultSxConfig:so});function Rw(t,e){return dt({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Ft={},Ow=Fn(W0),Lw=Fn(x1),Jd=ds;Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.alpha=nh,Ft.blend=Gw,Ft.colorChannel=void 0;var Iw=Ft.darken=wf;Ft.decomposeColor=jr,Ft.emphasize=ah;var Mw=Ft.getContrastRatio=qw;Ft.getLuminance=Js,Ft.hexToRgb=eh,Ft.hslToRgb=rh;var Bw=Ft.lighten=xf;Ft.private_safeAlpha=Vw,Ft.private_safeColorChannel=void 0,Ft.private_safeDarken=Ww,Ft.private_safeEmphasize=Hw,Ft.private_safeLighten=Uw,Ft.recomposeColor=ii,Ft.rgbToHex=$w;var jd=Jd(Ow),Nw=Jd(Lw);function bf(t,e=0,r=1){return(0,Nw.default)(t,e,r)}function eh(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,a)=>a<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Fw(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function jr(t){if(t.type)return t;if(t.charAt(0)==="#")return jr(eh(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,jd.default)(9,t));let n=t.substring(e+1,t.length-1),a;if(r==="color"){if(n=n.split(" "),a=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error((0,jd.default)(10,a))}else n=n.split(",");return n=n.map(i=>parseFloat(i)),{type:r,values:n,colorSpace:a}}const th=t=>{const e=jr(t);return e.values.slice(0,3).map((r,n)=>e.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")};Ft.colorChannel=th;const zw=(t,e)=>{try{return th(t)}catch{return t}};Ft.private_safeColorChannel=zw;function ii(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((a,i)=>i<3?parseInt(a,10):a):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function $w(t){if(t.indexOf("#")===0)return t;const{values:e}=jr(t);return`#${e.map((r,n)=>Fw(n===3?Math.round(255*r):r)).join("")}`}function rh(t){t=jr(t);const{values:e}=t,r=e[0],n=e[1]/100,a=e[2]/100,i=n*Math.min(a,1-a),o=(c,v=(c+r/30)%12)=>a-i*Math.max(Math.min(v-3,9-v,1),-1);let l="rgb";const f=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(l+="a",f.push(e[3])),ii({type:l,values:f})}function Js(t){t=jr(t);let e=t.type==="hsl"||t.type==="hsla"?jr(rh(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function qw(t,e){const r=Js(t),n=Js(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function nh(t,e){return t=jr(t),e=bf(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ii(t)}function Vw(t,e,r){try{return nh(t,e)}catch{return t}}function wf(t,e){if(t=jr(t),e=bf(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return ii(t)}function Ww(t,e,r){try{return wf(t,e)}catch{return t}}function xf(t,e){if(t=jr(t),e=bf(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return ii(t)}function Uw(t,e,r){try{return xf(t,e)}catch{return t}}function ah(t,e=.15){return Js(t)>.5?wf(t,e):xf(t,e)}function Hw(t,e,r){try{return ah(t,e)}catch{return t}}function Gw(t,e,r,n=1){const a=(f,c)=>Math.round((f**(1/n)*(1-r)+c**(1/n)*r)**n),i=jr(t),o=jr(e),l=[a(i.values[0],o.values[0]),a(i.values[1],o.values[1]),a(i.values[2],o.values[2])];return ii({type:"rgb",values:l})}const ho={black:"#000",white:"#fff"},Kw={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},oi={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},si={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},go={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ui={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},li={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},fi={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Yw=["mode","contrastThreshold","tonalOffset"],ih={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ho.white,default:ho.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ef={text:{primary:ho.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ho.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function oh(t,e,r,n){const a=n.light||n,i=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=Bw(t.main,a):e==="dark"&&(t.dark=Iw(t.main,i)))}function Xw(t="light"){return t==="dark"?{main:ui[200],light:ui[50],dark:ui[400]}:{main:ui[700],light:ui[400],dark:ui[800]}}function Zw(t="light"){return t==="dark"?{main:oi[200],light:oi[50],dark:oi[400]}:{main:oi[500],light:oi[300],dark:oi[700]}}function Qw(t="light"){return t==="dark"?{main:si[500],light:si[300],dark:si[700]}:{main:si[700],light:si[400],dark:si[800]}}function Jw(t="light"){return t==="dark"?{main:li[400],light:li[300],dark:li[700]}:{main:li[700],light:li[500],dark:li[900]}}function jw(t="light"){return t==="dark"?{main:fi[400],light:fi[300],dark:fi[700]}:{main:fi[800],light:fi[500],dark:fi[900]}}function ex(t="light"){return t==="dark"?{main:go[400],light:go[300],dark:go[700]}:{main:"#ed6c02",light:go[500],dark:go[900]}}function tx(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2}=t,a=na(t,Yw),i=t.primary||Xw(e),o=t.secondary||Zw(e),l=t.error||Qw(e),f=t.info||Jw(e),c=t.success||jw(e),v=t.warning||ex(e);function d(w){return Mw(w,Ef.text.primary)>=r?Ef.text.primary:ih.text.primary}const g=({color:w,name:y,mainShade:b=500,lightShade:E=300,darkShade:S=700})=>{if(w=dt({},w),!w.main&&w[b]&&(w.main=w[b]),!w.hasOwnProperty("main"))throw new Error(no(11,y?` (${y})`:"",b));if(typeof w.main!="string")throw new Error(no(12,y?` (${y})`:"",JSON.stringify(w.main)));return oh(w,"light",E,n),oh(w,"dark",S,n),w.contrastText||(w.contrastText=d(w.main)),w},m={dark:Ef,light:ih};return Cn(dt({common:dt({},ho),mode:e,primary:g({color:i,name:"primary"}),secondary:g({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:l,name:"error"}),warning:g({color:v,name:"warning"}),info:g({color:f,name:"info"}),success:g({color:c,name:"success"}),grey:Kw,contrastThreshold:r,getContrastText:d,augmentColor:g,tonalOffset:n},m[e]),a)}const rx=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function nx(t){return Math.round(t*1e5)/1e5}const sh={textTransform:"uppercase"},uh='"Roboto", "Helvetica", "Arial", sans-serif';function ax(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:n=uh,fontSize:a=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:f=700,htmlFontSize:c=16,allVariants:v,pxToRem:d}=r,g=na(r,rx),m=a/14,p=d||(b=>`${b/c*m}rem`),w=(b,E,S,T,A)=>dt({fontFamily:n,fontWeight:b,fontSize:p(E),lineHeight:S},n===uh?{letterSpacing:`${nx(T/E)}em`}:{},A,v),y={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(l,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(l,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(l,14,1.75,.4,sh),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,sh),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cn(dt({htmlFontSize:c,pxToRem:p,fontFamily:n,fontSize:a,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:f},y),g,{clone:!1})}const ix=.2,ox=.14,sx=.12;function At(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${ix})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${ox})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${sx})`].join(",")}const ux=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],lx=["duration","easing","delay"],fx={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},cx={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lh(t){return`${Math.round(t)}ms`}function vx(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function dx(t){const e=dt({},fx,t.easing),r=dt({},cx,t.duration);return dt({getAutoHeightDuration:vx,create:(a=["all"],i={})=>{const{duration:o=r.standard,easing:l=e.easeInOut,delay:f=0}=i;return na(i,lx),(Array.isArray(a)?a:[a]).map(c=>`${c} ${typeof o=="string"?o:lh(o)} ${l} ${typeof f=="string"?f:lh(f)}`).join(",")}},t,{easing:e,duration:r})}const hx={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},gx=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function px(t={},...e){const{mixins:r={},palette:n={},transitions:a={},typography:i={}}=t,o=na(t,gx);if(t.vars)throw new Error(no(18));const l=tx(n),f=af(t);let c=Cn(f,{mixins:Rw(f.breakpoints,r),palette:l,shadows:ux.slice(),typography:ax(l,i),transitions:dx(a),zIndex:dt({},hx)});return c=Cn(c,o),c=e.reduce((v,d)=>Cn(v,d),c),c.unstable_sxConfig=dt({},so,o?.unstable_sxConfig),c.unstable_sx=function(d){return Os({sx:d,theme:this})},c}const fh=px();var ch="$$material";function mx({props:t,name:e}){return Pw({props:t,name:e,defaultTheme:fh,themeId:ch})}var po={},Sf={exports:{}},vh;function yx(){return vh||(vh=1,function(t){function e(r,n){if(r==null)return{};var a={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(n.indexOf(i)>=0)continue;a[i]=r[i]}return a}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Sf)),Sf.exports}var bx=Fn(xw),wx=Fn(V0),xx=Fn(X0),Ex=Fn(Y0),Sx=Fn(gb),Cx=Fn(_w),ci=ds;Object.defineProperty(po,"__esModule",{value:!0});var Tx=po.default=Fx;po.shouldForwardProp=js,po.systemDefaultTheme=void 0;var en=ci(Yd()),Cf=ci(yx()),dh=Ox(bx),Px=wx;ci(xx),ci(Ex);var Ax=ci(Sx),Dx=ci(Cx);const kx=["ownerState"],_x=["variants"],Rx=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function hh(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(hh=function(n){return n?r:e})(t)}function Ox(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=hh(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=a?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}function Lx(t){return Object.keys(t).length===0}function Ix(t){return typeof t=="string"&&t.charCodeAt(0)>96}function js(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Mx=po.systemDefaultTheme=(0,Ax.default)(),Bx=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function eu({defaultTheme:t,theme:e,themeId:r}){return Lx(e)?t:e[r]||e}function Nx(t){return t?(e,r)=>r[t]:null}function tu(t,e){let{ownerState:r}=e,n=(0,Cf.default)(e,kx);const a=typeof t=="function"?t((0,en.default)({ownerState:r},n)):t;if(Array.isArray(a))return a.flatMap(i=>tu(i,(0,en.default)({ownerState:r},n)));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:i=[]}=a;let l=(0,Cf.default)(a,_x);return i.forEach(f=>{let c=!0;typeof f.props=="function"?c=f.props((0,en.default)({ownerState:r},n,r)):Object.keys(f.props).forEach(v=>{r?.[v]!==f.props[v]&&n[v]!==f.props[v]&&(c=!1)}),c&&(Array.isArray(l)||(l=[l]),l.push(typeof f.style=="function"?f.style((0,en.default)({ownerState:r},n,r)):f.style))}),l}return a}function Fx(t={}){const{themeId:e,defaultTheme:r=Mx,rootShouldForwardProp:n=js,slotShouldForwardProp:a=js}=t,i=o=>(0,Dx.default)((0,en.default)({},o,{theme:eu((0,en.default)({},o,{defaultTheme:r,themeId:e}))}));return i.__mui_systemSx=!0,(o,l={})=>{(0,dh.internal_processStyles)(o,A=>A.filter(D=>!(D!=null&&D.__mui_systemSx)));const{name:f,slot:c,skipVariantsResolver:v,skipSx:d,overridesResolver:g=Nx(Bx(c))}=l,m=(0,Cf.default)(l,Rx),p=v!==void 0?v:c&&c!=="Root"&&c!=="root"||!1,w=d||!1;let y,b=js;c==="Root"||c==="root"?b=n:c?b=a:Ix(o)&&(b=void 0);const E=(0,dh.default)(o,(0,en.default)({shouldForwardProp:b,label:y},m)),S=A=>typeof A=="function"&&A.__emotion_real!==A||(0,Px.isPlainObject)(A)?D=>tu(A,(0,en.default)({},D,{theme:eu({theme:D.theme,defaultTheme:r,themeId:e})})):A,T=(A,...D)=>{let P=S(A);const L=D?D.map(S):[];f&&g&&L.push(N=>{const B=eu((0,en.default)({},N,{defaultTheme:r,themeId:e}));if(!B.components||!B.components[f]||!B.components[f].styleOverrides)return null;const V=B.components[f].styleOverrides,M={};return Object.entries(V).forEach(([H,W])=>{M[H]=tu(W,(0,en.default)({},N,{theme:B}))}),g(N,M)}),f&&!p&&L.push(N=>{var B;const V=eu((0,en.default)({},N,{defaultTheme:r,themeId:e})),M=V==null||(B=V.components)==null||(B=B[f])==null?void 0:B.variants;return tu({variants:M},(0,en.default)({},N,{theme:V}))}),w||L.push(i);const _=L.length-D.length;if(Array.isArray(A)&&_>0){const N=new Array(_).fill("");P=[...A,...N],P.raw=[...A.raw,...N]}const F=E(P,...L);return o.muiName&&(F.muiName=o.muiName),F};return E.withConfig&&(T.withConfig=E.withConfig),T}}function zx(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const $x=Tx({themeId:ch,defaultTheme:fh,rootShouldForwardProp:t=>zx(t)&&t!=="classes"});function qx(t){return vd("MuiSvgIcon",t)}b1("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Vx=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Wx=t=>{const{color:e,fontSize:r,classes:n}=t,a={root:["root",e!=="inherit"&&`color${ra(e)}`,`fontSize${ra(r)}`]};return m1(a,qx,n)},Ux=$x("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${ra(r.color)}`],e[`fontSize${ra(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var r,n,a,i,o,l,f,c,v,d,g,m,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((i=t.typography)==null||(o=i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem",medium:((l=t.typography)==null||(f=l.pxToRem)==null?void 0:f.call(l,24))||"1.5rem",large:((c=t.typography)==null||(v=c.pxToRem)==null?void 0:v.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(g=(t.vars||t).palette)==null||(g=g[e.color])==null?void 0:g.main)!=null?d:{action:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),Tf=at.forwardRef(function(e,r){const n=mx({props:e,name:"MuiSvgIcon"}),{children:a,className:i,color:o="inherit",component:l="svg",fontSize:f="medium",htmlColor:c,inheritViewBox:v=!1,titleAccess:d,viewBox:g="0 0 24 24"}=n,m=na(n,Vx),p=at.isValidElement(a)&&a.type==="svg",w=dt({},n,{color:o,component:l,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:v,viewBox:g,hasSvgAsChild:p}),y={};v||(y.viewBox=g);const b=Wx(w);return gn.jsxs(Ux,dt({as:l,className:E1(b.root,i),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:r},y,m,p&&a.props,{ownerState:w,children:[p?a.props.children:a,d?gn.jsx("title",{children:d}):null]}))});Tf.muiName="SvgIcon";function Hx(t,e){function r(n,a){return gn.jsx(Tf,dt({"data-testid":`${e}Icon`,ref:a},n,{children:t}))}return r.muiName=Tf.muiName,at.memo(at.forwardRef(r))}var Gx=Object.freeze({__proto__:null,capitalize:ra,createChainedFunction:Z0,createSvgIcon:Hx,debounce:Q0,deprecatedPropType:J0,isMuiElement:e1,ownerDocument:ad,ownerWindow:t1,requirePropFactory:r1,setRef:id,unstable_ClassNameGenerator:{configure:t=>{cd.configure(t)}},unstable_useEnhancedEffect:od,unstable_useId:a1,unsupportedProp:i1,useControlled:o1,useEventCallback:s1,useForkRef:u1,useIsFocusVisible:p1}),Kx=Fn(Gx),gh;function ph(){return gh||(gh=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Kx}(Kl)),Kl}var Pf={},Yx=ds;Object.defineProperty(Pf,"__esModule",{value:!0});var Af=Pf.default=void 0,Xx=Yx(ph()),Zx=Gl();Af=Pf.default=(0,Xx.default)((0,Zx.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.88-11.71L10 14.17l-1.88-1.88a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l2.59 2.59c.39.39 1.02.39 1.41 0L17.3 9.7c.39-.39.39-1.02 0-1.41-.39-.39-1.03-.39-1.42 0"}),"CheckCircleOutlineRounded");var Df={},Qx=ds;Object.defineProperty(Df,"__esModule",{value:!0});var mo=Df.default=void 0,Jx=Qx(ph()),jx=Gl();mo=Df.default=(0,Jx.default)((0,jx.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01C8.58 8.28 10.13 7 12 7c2.21 0 4 1.79 4 4h.5c1.38 0 2.5 1.12 2.5 2.5S17.88 16 16.5 16"}),"CloudCircle");function Ht(t){"@babel/helpers - typeof";return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(t)}function kf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _f(t,e,r){return e&&eE(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pn(t,e){return tE(t)||rE(t,e)||yh(t,e)||nE()}function tE(t){if(Array.isArray(t))return t}function rE(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,l;try{for(r=r.call(t);!(a=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));a=!0);}catch(f){i=!0,l=f}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function yh(t,e){if(t){if(typeof t=="string")return bh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bh(t,e)}}function bh(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aE(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=yh(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,l;return{s:function(){r=r.call(t)},n:function(){var f=r.next();return i=f.done,f},e:function(f){o=!0,l=f},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw l}}}}var Gt=typeof window>"u"?null:window,wh=Gt?Gt.navigator:null;Gt&&Gt.document;var iE=Ht(""),xh=Ht({}),oE=Ht(function(){}),sE=typeof HTMLElement>"u"?"undefined":Ht(HTMLElement),yo=function(e){return e&&e.instanceString&&kt(e.instanceString)?e.instanceString():null},Le=function(e){return e!=null&&Ht(e)==iE},kt=function(e){return e!=null&&Ht(e)===oE},bt=function(e){return!zr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},rt=function(e){return e!=null&&Ht(e)===xh&&!bt(e)&&e.constructor===Object},uE=function(e){return e!=null&&Ht(e)===xh},xe=function(e){return e!=null&&Ht(e)===Ht(1)&&!isNaN(e)},lE=function(e){return xe(e)&&Math.floor(e)===e},ru=function(e){if(sE!=="undefined")return e!=null&&e instanceof HTMLElement},zr=function(e){return bo(e)||Eh(e)},bo=function(e){return yo(e)==="collection"&&e._private.single},Eh=function(e){return yo(e)==="collection"&&!e._private.single},Rf=function(e){return yo(e)==="core"},Sh=function(e){return yo(e)==="stylesheet"},fE=function(e){return yo(e)==="event"},aa=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},cE=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},vE=function(e){return rt(e)&&xe(e.x1)&&xe(e.x2)&&xe(e.y1)&&xe(e.y2)},dE=function(e){return uE(e)&&kt(e.then)},hE=function(){return wh&&wh.userAgent.match(/msie|trident|edge/i)},wo=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function a(){var i=this,o=arguments,l,f=r.apply(i,o),c=a.cache;return(l=c[f])||(l=c[f]=e.apply(i,o)),l};return n.cache={},n},Of=wo(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),nu=wo(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Ch=wo(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Th=function(e){return aa(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Kt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",gE="rgb[a]?\\(("+Kt+"[%]?)\\s*,\\s*("+Kt+"[%]?)\\s*,\\s*("+Kt+"[%]?)(?:\\s*,\\s*("+Kt+"))?\\)",pE="rgb[a]?\\((?:"+Kt+"[%]?)\\s*,\\s*(?:"+Kt+"[%]?)\\s*,\\s*(?:"+Kt+"[%]?)(?:\\s*,\\s*(?:"+Kt+"))?\\)",mE="hsl[a]?\\(("+Kt+")\\s*,\\s*("+Kt+"[%])\\s*,\\s*("+Kt+"[%])(?:\\s*,\\s*("+Kt+"))?\\)",yE="hsl[a]?\\((?:"+Kt+")\\s*,\\s*(?:"+Kt+"[%])\\s*,\\s*(?:"+Kt+"[%])(?:\\s*,\\s*(?:"+Kt+"))?\\)",bE="\\#[0-9a-fA-F]{3}",wE="\\#[0-9a-fA-F]{6}",Ph=function(e,r){return e<r?-1:e>r?1:0},xE=function(e,r){return-1*Ph(e,r)},Ne=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];t[o]=n[o]}}return t},EE=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,o=16;return r?(n=parseInt(e[1]+e[1],o),a=parseInt(e[2]+e[2],o),i=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),a=parseInt(e[3]+e[4],o),i=parseInt(e[5]+e[6],o)),[n,a,i]}},SE=function(e){var r,n,a,i,o,l,f,c;function v(p,w,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?p+(w-p)*6*y:y<1/2?w:y<2/3?p+(w-p)*(2/3-y)*6:p}var d=new RegExp("^"+mE+"$").exec(e);if(d){if(n=parseInt(d[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(d[2]),a<0||a>100||(a=a/100,i=parseFloat(d[3]),i<0||i>100)||(i=i/100,o=d[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)l=f=c=Math.round(i*255);else{var g=i<.5?i*(1+a):i+a-i*a,m=2*i-g;l=Math.round(255*v(m,g,n+1/3)),f=Math.round(255*v(m,g,n)),c=Math.round(255*v(m,g,n-1/3))}r=[l,f,c,o]}return r},CE=function(e){var r,n=new RegExp("^"+gE+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var l=a[1]||a[2]||a[3],f=a[1]&&a[2]&&a[3];if(l&&!f)return;var c=n[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;r.push(c)}}return r},TE=function(e){return AE[e.toLowerCase()]},PE=function(e){return(bt(e)?e:null)||TE(e)||EE(e)||CE(e)||SE(e)},AE={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ah=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(rt(o))throw Error("Tried to set map with object key");i<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=e.value}},Dh=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(rt(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r};function DE(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Da=DE,xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kE(t,e){return e={exports:{}},t(e,e.exports),e.exports}var _E=typeof xo=="object"&&xo&&xo.Object===Object&&xo,RE=_E,OE=typeof self=="object"&&self&&self.Object===Object&&self,LE=RE||OE||Function("return this")(),au=LE,IE=function(){return au.Date.now()},Lf=IE,ME=/\s/;function BE(t){for(var e=t.length;e--&&ME.test(t.charAt(e)););return e}var NE=BE,FE=/^\s+/;function zE(t){return t&&t.slice(0,NE(t)+1).replace(FE,"")}var $E=zE,qE=au.Symbol,vi=qE,kh=Object.prototype,VE=kh.hasOwnProperty,WE=kh.toString,Eo=vi?vi.toStringTag:void 0;function UE(t){var e=VE.call(t,Eo),r=t[Eo];try{t[Eo]=void 0;var n=!0}catch{}var a=WE.call(t);return n&&(e?t[Eo]=r:delete t[Eo]),a}var HE=UE,GE=Object.prototype,KE=GE.toString;function YE(t){return KE.call(t)}var XE=YE,ZE="[object Null]",QE="[object Undefined]",_h=vi?vi.toStringTag:void 0;function JE(t){return t==null?t===void 0?QE:ZE:_h&&_h in Object(t)?HE(t):XE(t)}var Rh=JE;function jE(t){return t!=null&&typeof t=="object"}var e2=jE,t2="[object Symbol]";function r2(t){return typeof t=="symbol"||e2(t)&&Rh(t)==t2}var So=r2,Oh=NaN,n2=/^[-+]0x[0-9a-f]+$/i,a2=/^0b[01]+$/i,i2=/^0o[0-7]+$/i,o2=parseInt;function s2(t){if(typeof t=="number")return t;if(So(t))return Oh;if(Da(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Da(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=$E(t);var r=a2.test(t);return r||i2.test(t)?o2(t.slice(2),r?2:8):n2.test(t)?Oh:+t}var Lh=s2,u2="Expected a function",l2=Math.max,f2=Math.min;function c2(t,e,r){var n,a,i,o,l,f,c=0,v=!1,d=!1,g=!0;if(typeof t!="function")throw new TypeError(u2);e=Lh(e)||0,Da(r)&&(v=!!r.leading,d="maxWait"in r,i=d?l2(Lh(r.maxWait)||0,e):i,g="trailing"in r?!!r.trailing:g);function m(D){var P=n,L=a;return n=a=void 0,c=D,o=t.apply(L,P),o}function p(D){return c=D,l=setTimeout(b,e),v?m(D):o}function w(D){var P=D-f,L=D-c,_=e-P;return d?f2(_,i-L):_}function y(D){var P=D-f,L=D-c;return f===void 0||P>=e||P<0||d&&L>=i}function b(){var D=Lf();if(y(D))return E(D);l=setTimeout(b,w(D))}function E(D){return l=void 0,g&&n?m(D):(n=a=void 0,o)}function S(){l!==void 0&&clearTimeout(l),c=0,n=f=a=l=void 0}function T(){return l===void 0?o:E(Lf())}function A(){var D=Lf(),P=y(D);if(n=arguments,a=this,f=D,P){if(l===void 0)return p(f);if(d)return clearTimeout(l),l=setTimeout(b,e),m(f)}return l===void 0&&(l=setTimeout(b,e)),o}return A.cancel=S,A.flush=T,A}var iu=c2,If=Gt?Gt.performance:null,Ih=If&&If.now?function(){return If.now()}:function(){return Date.now()},v2=function(){if(Gt){if(Gt.requestAnimationFrame)return function(t){Gt.requestAnimationFrame(t)};if(Gt.mozRequestAnimationFrame)return function(t){Gt.mozRequestAnimationFrame(t)};if(Gt.webkitRequestAnimationFrame)return function(t){Gt.webkitRequestAnimationFrame(t)};if(Gt.msRequestAnimationFrame)return function(t){Gt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Ih())},1e3/60)}}(),ou=function(e){return v2(e)},$n=Ih,di=9261,Mh=65599,Co=5381,Bh=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:di,n=r,a;a=e.next(),!a.done;)n=n*Mh+a.value|0;return n},To=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:di;return r*Mh+e|0},Po=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Co;return(r<<5)+r+e|0},d2=function(e,r){return e*2097152+r},ia=function(e){return e[0]*2097152+e[1]},su=function(e,r){return[To(e[0],r[0]),Po(e[1],r[1])]},h2=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return Bh(o,r)},ka=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return Bh(o,r)},Nh=function(){return g2(arguments)},g2=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=ka(a):r=ka(a,r)}return r},Fh=!0,p2=console.warn!=null,m2=console.trace!=null,Mf=Number.MAX_SAFE_INTEGER||9007199254740991,zh=function(){return!0},uu=function(){return!1},$h=function(){return 0},Bf=function(){},It=function(e){throw new Error(e)},qh=function(e){if(e!==void 0)Fh=!!e;else return Fh},ft=function(e){qh()&&(p2?console.warn(e):(console.log(e),m2&&console.trace()))},y2=function(e){return Ne({},e)},Dn=function(e){return e==null?e:bt(e)?e.slice():rt(e)?y2(e):e},b2=function(e){return e.slice()},Vh=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},w2={},Wh=function(){return w2},ar=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],l=n?.[o];a[o]=l===void 0?e[o]:l}return a}},oa=function(e,r,n){for(var a=e.length-1;a>=0;a--)e[a]===r&&e.splice(a,1)},Nf=function(e){e.splice(0,e.length)},x2=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},mn=function(e,r,n){return n&&(r=Ch(n,r)),e[r]},sa=function(e,r,n,a){n&&(r=Ch(n,r)),e[r]=a},E2=function(){function t(){kf(this,t),this._obj={}}return _f(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),kn=typeof Map<"u"?Map:E2,S2="undefined",C2=function(){function t(e){if(kf(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return _f(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),hi=(typeof Set>"u"?"undefined":Ht(Set))!==S2?Set:C2,lu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Rf(e)){It("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){It("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new hi,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,l=e.pan(),f=e.zoom();i.position={x:(o.x-l.x)/f,y:(o.y-l.y)/f}}var c=[];bt(r.classes)?c=r.classes:Le(r.classes)&&(c=r.classes.split(/\s+/));for(var v=0,d=c.length;v<d;v++){var g=c[v];!g||g===""||i.classes.add(g)}this.createEmitter();var m=r.style||r.css;m&&(ft("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(m)),(n===void 0||n)&&this.restore()},Uh=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var o;rt(n)&&!zr(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!kt(a)?a:i,a=kt(a)?a:function(){};for(var l=this._private.cy,f=n=Le(n)?this.filter(n):n,c=[],v=[],d={},g={},m={},p=0,w,y=this.byGroup(),b=y.nodes,E=y.edges,S=0;S<f.length;S++){var T=f[S],A=T.id();T.isNode()&&(c.unshift(T),e.bfs&&(m[A]=!0,v.push(T)),g[A]=0)}for(var D=function(){var V=e.bfs?c.shift():c.pop(),M=V.id();if(e.dfs){if(m[M])return"continue";m[M]=!0,v.push(V)}var H=g[M],W=d[M],q=W!=null?W.source():null,Y=W!=null?W.target():null,te=W==null?void 0:V.same(q)?Y[0]:q[0],re=void 0;if(re=a(V,W,te,p++,H),re===!0)return w=V,"break";if(re===!1)return"break";for(var I=V.connectedEdges().filter(function(Z){return(!i||Z.source().same(V))&&E.has(Z)}),$=0;$<I.length;$++){var Q=I[$],ue=Q.connectedNodes().filter(function(Z){return!Z.same(V)&&b.has(Z)}),ne=ue.id();ue.length!==0&&!m[ne]&&(ue=ue[0],c.push(ue),e.bfs&&(m[ne]=!0,v.push(ue)),d[ne]=Q,g[ne]=g[M]+1)}};c.length!==0;){var P=D();if(P!=="continue"&&P==="break")break}for(var L=l.collection(),_=0;_<v.length;_++){var F=v[_],N=d[F.id()];N!=null&&L.push(N),L.push(F)}return{path:l.collection(L),found:l.collection(w)}}},Ao={breadthFirstSearch:Uh({bfs:!0}),depthFirstSearch:Uh({dfs:!0})};Ao.bfs=Ao.breadthFirstSearch,Ao.dfs=Ao.depthFirstSearch;var T2=kE(function(t,e){(function(){var r,n,a,i,o,l,f,c,v,d,g,m,p,w,y;a=Math.floor,d=Math.min,n=function(b,E){return b<E?-1:b>E?1:0},v=function(b,E,S,T,A){var D;if(S==null&&(S=0),A==null&&(A=n),S<0)throw new Error("lo must be non-negative");for(T==null&&(T=b.length);S<T;)D=a((S+T)/2),A(E,b[D])<0?T=D:S=D+1;return[].splice.apply(b,[S,S-S].concat(E)),E},l=function(b,E,S){return S==null&&(S=n),b.push(E),w(b,0,b.length-1,S)},o=function(b,E){var S,T;return E==null&&(E=n),S=b.pop(),b.length?(T=b[0],b[0]=S,y(b,0,E)):T=S,T},c=function(b,E,S){var T;return S==null&&(S=n),T=b[0],b[0]=E,y(b,0,S),T},f=function(b,E,S){var T;return S==null&&(S=n),b.length&&S(b[0],E)<0&&(T=[b[0],E],E=T[0],b[0]=T[1],y(b,0,S)),E},i=function(b,E){var S,T,A,D,P,L;for(E==null&&(E=n),D=function(){L=[];for(var _=0,F=a(b.length/2);0<=F?_<F:_>F;0<=F?_++:_--)L.push(_);return L}.apply(this).reverse(),P=[],T=0,A=D.length;T<A;T++)S=D[T],P.push(y(b,S,E));return P},p=function(b,E,S){var T;if(S==null&&(S=n),T=b.indexOf(E),T!==-1)return w(b,0,T,S),y(b,T,S)},g=function(b,E,S){var T,A,D,P,L;if(S==null&&(S=n),A=b.slice(0,E),!A.length)return A;for(i(A,S),L=b.slice(E),D=0,P=L.length;D<P;D++)T=L[D],f(A,T,S);return A.sort(S).reverse()},m=function(b,E,S){var T,A,D,P,L,_,F,N,B;if(S==null&&(S=n),E*10<=b.length){if(D=b.slice(0,E).sort(S),!D.length)return D;for(A=D[D.length-1],F=b.slice(E),P=0,_=F.length;P<_;P++)T=F[P],S(T,A)<0&&(v(D,T,0,null,S),D.pop(),A=D[D.length-1]);return D}for(i(b,S),B=[],L=0,N=d(E,b.length);0<=N?L<N:L>N;0<=N?++L:--L)B.push(o(b,S));return B},w=function(b,E,S,T){var A,D,P;for(T==null&&(T=n),A=b[S];S>E;){if(P=S-1>>1,D=b[P],T(A,D)<0){b[S]=D,S=P;continue}break}return b[S]=A},y=function(b,E,S){var T,A,D,P,L;for(S==null&&(S=n),A=b.length,L=E,D=b[E],T=2*E+1;T<A;)P=T+1,P<A&&!(S(b[T],b[P])<0)&&(T=P),b[E]=b[T],E=T,T=2*E+1;return b[E]=D,w(b,L,E,S)},r=function(){b.push=l,b.pop=o,b.replace=c,b.pushpop=f,b.heapify=i,b.updateItem=p,b.nlargest=g,b.nsmallest=m;function b(E){this.cmp=E??n,this.nodes=[]}return b.prototype.push=function(E){return l(this.nodes,E,this.cmp)},b.prototype.pop=function(){return o(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(E){return this.nodes.indexOf(E)!==-1},b.prototype.replace=function(E){return c(this.nodes,E,this.cmp)},b.prototype.pushpop=function(E){return f(this.nodes,E,this.cmp)},b.prototype.heapify=function(){return i(this.nodes,this.cmp)},b.prototype.updateItem=function(E){return p(this.nodes,E,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var E;return E=new b,E.nodes=this.nodes.slice(0),E},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,E){return t.exports=E()}(this,function(){return r})}).call(xo)}),Do=T2,P2=ar({root:null,weight:function(e){return 1},directed:!1}),A2={dijkstra:function(e){if(!rt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=P2(e),a=n.root,i=n.weight,o=n.directed,l=this,f=i,c=Le(a)?this.filter(a)[0]:a[0],v={},d={},g={},m=this.byGroup(),p=m.nodes,w=m.edges;w.unmergeBy(function(H){return H.isLoop()});for(var y=function(W){return v[W.id()]},b=function(W,q){v[W.id()]=q,E.updateItem(W)},E=new Do(function(H,W){return y(H)-y(W)}),S=0;S<p.length;S++){var T=p[S];v[T.id()]=T.same(c)?0:1/0,E.push(T)}for(var A=function(W,q){for(var Y=(o?W.edgesTo(q):W.edgesWith(q)).intersect(w),te=1/0,re,I=0;I<Y.length;I++){var $=Y[I],Q=f($);(Q<te||!re)&&(te=Q,re=$)}return{edge:re,dist:te}};E.size()>0;){var D=E.pop(),P=y(D),L=D.id();if(g[L]=P,P!==1/0)for(var _=D.neighborhood().intersect(p),F=0;F<_.length;F++){var N=_[F],B=N.id(),V=A(D,N),M=P+V.dist;M<y(N)&&(b(N,M),d[B]={node:D,edge:V.edge})}}return{distanceTo:function(W){var q=Le(W)?p.filter(W)[0]:W[0];return g[q.id()]},pathTo:function(W){var q=Le(W)?p.filter(W)[0]:W[0],Y=[],te=q,re=te.id();if(q.length>0)for(Y.unshift(q);d[re];){var I=d[re];Y.unshift(I.edge),Y.unshift(I.node),te=I.node,re=te.id()}return l.spawn(Y)}}}},D2={kruskal:function(e){e=e||function(S){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),l=n,f=function(T){for(var A=0;A<o.length;A++){var D=o[A];if(D.has(T))return A}},c=0;c<i;c++)o[c]=this.spawn(n[c]);for(var v=a.sort(function(S,T){return e(S)-e(T)}),d=0;d<v.length;d++){var g=v[d],m=g.source()[0],p=g.target()[0],w=f(m),y=f(p),b=o[w],E=o[y];w!==y&&(l.merge(g),b.merge(E),o.splice(y,1))}return l}},k2=ar({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),_2={aStar:function(e){var r=this.cy(),n=k2(e),a=n.root,i=n.goal,o=n.heuristic,l=n.directed,f=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var c=a.id(),v=i.id(),d={},g={},m={},p=new Do(function(re,I){return g[re.id()]-g[I.id()]}),w=new hi,y={},b={},E=function(I,$){p.push(I),w.add($)},S,T,A=function(){S=p.pop(),T=S.id(),w.delete(T)},D=function(I){return w.has(I)};E(a,c),d[c]=0,g[c]=o(a);for(var P=0;p.size()>0;){if(A(),P++,T===v){for(var L=[],_=i,F=v,N=b[F];L.unshift(_),N!=null&&L.unshift(N),_=y[F],_!=null;)F=_.id(),N=b[F];return{found:!0,distance:d[T],path:this.spawn(L),steps:P}}m[T]=!0;for(var B=S._private.edges,V=0;V<B.length;V++){var M=B[V];if(this.hasElementWithId(M.id())&&!(l&&M.data("source")!==T)){var H=M.source(),W=M.target(),q=H.id()!==T?H:W,Y=q.id();if(this.hasElementWithId(Y)&&!m[Y]){var te=d[T]+f(M);if(!D(Y)){d[Y]=te,g[Y]=te+o(q),E(q,Y),y[Y]=S,b[Y]=M;continue}te<d[Y]&&(d[Y]=te,g[Y]=te+o(q),y[Y]=S,b[Y]=M)}}}}return{found:!1,distance:void 0,path:void 0,steps:P}}},R2=ar({weight:function(e){return 1},directed:!1}),O2={floydWarshall:function(e){for(var r=this.cy(),n=R2(e),a=n.weight,i=n.directed,o=a,l=this.byGroup(),f=l.nodes,c=l.edges,v=f.length,d=v*v,g=function(Q){return f.indexOf(Q)},m=function(Q){return f[Q]},p=new Array(d),w=0;w<d;w++){var y=w%v,b=(w-y)/v;b===y?p[w]=0:p[w]=1/0}for(var E=new Array(d),S=new Array(d),T=0;T<c.length;T++){var A=c[T],D=A.source()[0],P=A.target()[0];if(D!==P){var L=g(D),_=g(P),F=L*v+_,N=o(A);if(p[F]>N&&(p[F]=N,E[F]=_,S[F]=A),!i){var B=_*v+L;!i&&p[B]>N&&(p[B]=N,E[B]=L,S[B]=A)}}}for(var V=0;V<v;V++)for(var M=0;M<v;M++)for(var H=M*v+V,W=0;W<v;W++){var q=M*v+W,Y=V*v+W;p[H]+p[Y]<p[q]&&(p[q]=p[H]+p[Y],E[q]=E[H])}var te=function(Q){return(Le(Q)?r.filter(Q):Q)[0]},re=function(Q){return g(te(Q))},I={distance:function(Q,ue){var ne=re(Q),Z=re(ue);return p[ne*v+Z]},path:function(Q,ue){var ne=re(Q),Z=re(ue),G=m(ne);if(ne===Z)return G.collection();if(E[ne*v+Z]==null)return r.collection();var J=r.collection(),ee=ne,ce;for(J.merge(G);ne!==Z;)ee=ne,ne=E[ne*v+Z],ce=S[ee*v+ne],J.merge(ce),J.merge(m(ne));return J}};return I}},L2=ar({weight:function(e){return 1},directed:!1,root:null}),I2={bellmanFord:function(e){var r=this,n=L2(e),a=n.weight,i=n.directed,o=n.root,l=a,f=this,c=this.cy(),v=this.byGroup(),d=v.edges,g=v.nodes,m=g.length,p=new kn,w=!1,y=[];o=c.collection(o)[0],d.unmergeBy(function(Se){return Se.isLoop()});for(var b=d.length,E=function(_e){var Ie=p.get(_e.id());return Ie||(Ie={},p.set(_e.id(),Ie)),Ie},S=function(_e){return(Le(_e)?c.$(_e):_e)[0]},T=function(_e){return E(S(_e)).dist},A=function(_e){for(var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,je=S(_e),Ue=[],We=je;;){if(We==null)return r.spawn();var Qe=E(We),he=Qe.edge,O=Qe.pred;if(Ue.unshift(We[0]),We.same(Ie)&&Ue.length>0)break;he!=null&&Ue.unshift(he),We=O}return f.spawn(Ue)},D=0;D<m;D++){var P=g[D],L=E(P);P.same(o)?L.dist=0:L.dist=1/0,L.pred=null,L.edge=null}for(var _=!1,F=function(_e,Ie,je,Ue,We,Qe){var he=Ue.dist+Qe;he<We.dist&&!je.same(Ue.edge)&&(We.dist=he,We.pred=_e,We.edge=je,_=!0)},N=1;N<m;N++){_=!1;for(var B=0;B<b;B++){var V=d[B],M=V.source(),H=V.target(),W=l(V),q=E(M),Y=E(H);F(M,H,V,q,Y,W),i||F(H,M,V,Y,q,W)}if(!_)break}if(_)for(var te=[],re=0;re<b;re++){var I=d[re],$=I.source(),Q=I.target(),ue=l(I),ne=E($).dist,Z=E(Q).dist;if(ne+ue<Z||!i&&Z+ue<ne)if(w||(ft("Graph contains a negative weight cycle for Bellman-Ford"),w=!0),e.findNegativeWeightCycles!==!1){var G=[];ne+ue<Z&&G.push($),!i&&Z+ue<ne&&G.push(Q);for(var J=G.length,ee=0;ee<J;ee++){var ce=G[ee],ge=[ce];ge.push(E(ce).edge);for(var De=E(ce).pred;ge.indexOf(De)===-1;)ge.push(De),ge.push(E(De).edge),De=E(De).pred;ge=ge.slice(ge.indexOf(De));for(var ze=ge[0].id(),me=0,we=2;we<ge.length;we+=2)ge[we].id()<ze&&(ze=ge[we].id(),me=we);ge=ge.slice(me).concat(ge.slice(0,me)),ge.push(ge[0]);var Ae=ge.map(function(Se){return Se.id()}).join(",");te.indexOf(Ae)===-1&&(y.push(f.spawn(ge)),te.push(Ae))}}else break}return{distanceTo:T,pathTo:A,hasNegativeWeightCycle:w,negativeWeightCycles:y}}},M2=Math.sqrt(2),B2=function(e,r,n){n.length===0&&It("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],o=a[2],l=r[i],f=r[o],c=n,v=c.length-1;v>=0;v--){var d=c[v],g=d[1],m=d[2];(r[g]===l&&r[m]===f||r[g]===f&&r[m]===l)&&c.splice(v,1)}for(var p=0;p<c.length;p++){var w=c[p];w[1]===f?(c[p]=w.slice(),c[p][1]=l):w[2]===f&&(c[p]=w.slice(),c[p][2]=l)}for(var y=0;y<r.length;y++)r[y]===f&&(r[y]=l);return c},Ff=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=B2(i,e,r),n--}return r},N2={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(Y){return Y.isLoop()});var i=n.length,o=a.length,l=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),f=Math.floor(i/M2);if(i<2){It("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],v=0;v<o;v++){var d=a[v];c.push([v,n.indexOf(d.source()),n.indexOf(d.target())])}for(var g=1/0,m=[],p=new Array(i),w=new Array(i),y=new Array(i),b=function(te,re){for(var I=0;I<i;I++)re[I]=te[I]},E=0;E<=l;E++){for(var S=0;S<i;S++)w[S]=S;var T=Ff(w,c.slice(),i,f),A=T.slice();b(w,y);var D=Ff(w,T,f,2),P=Ff(y,A,f,2);D.length<=P.length&&D.length<g?(g=D.length,m=D,b(w,p)):P.length<=D.length&&P.length<g&&(g=P.length,m=P,b(y,p))}for(var L=this.spawn(m.map(function(Y){return a[Y[0]]})),_=this.spawn(),F=this.spawn(),N=p[0],B=0;B<p.length;B++){var V=p[B],M=n[B];V===N?_.merge(M):F.merge(M)}var H=function(te){var re=e.spawn();return te.forEach(function(I){re.merge(I),I.connectedEdges().forEach(function($){e.contains($)&&!L.contains($)&&re.merge($)})}),re},W=[H(_),H(F)],q={cut:L,components:W,partition1:_,partition2:F};return q}},F2=function(e){return{x:e.x,y:e.y}},fu=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Hh=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},gi=function(e){return{x:e[0],y:e[1]}},z2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.min(o,a))}return a},$2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.max(o,a))}return a},q2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,o=r;o<n;o++){var l=e[o];isFinite(l)&&(a+=l,i++)}return a/i},V2=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var l=0,f=e.length-1;f>=0;f--){var c=e[f];o?isFinite(c)||(e[f]=-1/0,l++):e.splice(f,1)}i&&e.sort(function(g,m){return g-m});var v=e.length,d=Math.floor(v/2);return v%2!==0?e[d+1+l]:(e[d-1+l]+e[d+l])/2},W2=function(e){return Math.PI*e/180},cu=function(e,r){return Math.atan2(r,e)-Math.PI/2},zf=Math.log2||function(t){return Math.log(t)/Math.log(2)},Gh=function(e){return e>0?1:e<0?-1:0},_a=function(e,r){return Math.sqrt(Ra(e,r))},Ra=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},U2=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},jt=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},pi=function(e,r,n,a){return{x:jt(e.x,r.x,n.x,a),y:jt(e.y,r.y,n.y,a)}},H2=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},o=_a(e,r),l={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:e.x+l.x*a,y:e.y+l.y*a}},ko=function(e,r,n){return Math.max(e,Math.min(n,r))},Ar=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},G2=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},K2=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Y2=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},Kh=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},X2=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},vu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},du=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(r.length===1)n=a=i=o=r[0];else if(r.length===2)n=i=r[0],o=a=r[1];else if(r.length===4){var l=pn(r,4);n=l[0],a=l[1],i=l[2],o=l[3]}return e.x1-=o,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Yh=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},$f=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},mi=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},Z2=function(e,r){return mi(e,r.x,r.y)},Xh=function(e,r){return mi(e,r.x1,r.y1)&&mi(e,r.x2,r.y2)},Zh=function(e,r,n,a,i,o,l){var f=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=f==="auto"?La(i,o):f,v=i/2,d=o/2;c=Math.min(c,v,d);var g=c!==v,m=c!==d,p;if(g){var w=n-v+c-l,y=a-d-l,b=n+v-c+l,E=y;if(p=ua(e,r,n,a,w,y,b,E,!1),p.length>0)return p}if(m){var S=n+v+l,T=a-d+c-l,A=S,D=a+d-c+l;if(p=ua(e,r,n,a,S,T,A,D,!1),p.length>0)return p}if(g){var P=n-v+c-l,L=a+d+l,_=n+v-c+l,F=L;if(p=ua(e,r,n,a,P,L,_,F,!1),p.length>0)return p}if(m){var N=n-v-l,B=a-d+c-l,V=N,M=a+d-c+l;if(p=ua(e,r,n,a,N,B,V,M,!1),p.length>0)return p}var H;{var W=n-v+c,q=a-d+c;if(H=_o(e,r,n,a,W,q,c+l),H.length>0&&H[0]<=W&&H[1]<=q)return[H[0],H[1]]}{var Y=n+v-c,te=a-d+c;if(H=_o(e,r,n,a,Y,te,c+l),H.length>0&&H[0]>=Y&&H[1]<=te)return[H[0],H[1]]}{var re=n+v-c,I=a+d-c;if(H=_o(e,r,n,a,re,I,c+l),H.length>0&&H[0]>=re&&H[1]>=I)return[H[0],H[1]]}{var $=n-v+c,Q=a+d-c;if(H=_o(e,r,n,a,$,Q,c+l),H.length>0&&H[0]<=$&&H[1]>=Q)return[H[0],H[1]]}return[]},Q2=function(e,r,n,a,i,o,l){var f=l,c=Math.min(n,i),v=Math.max(n,i),d=Math.min(a,o),g=Math.max(a,o);return c-f<=e&&e<=v+f&&d-f<=r&&r<=g+f},J2=function(e,r,n,a,i,o,l,f,c){var v={x1:Math.min(n,l,i)-c,x2:Math.max(n,l,i)+c,y1:Math.min(a,f,o)-c,y2:Math.max(a,f,o)+c};return!(e<v.x1||e>v.x2||r<v.y1||r>v.y2)},j2=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var o=Math.sqrt(i),l=2*e,f=(-r+o)/l,c=(-r-o)/l;return[f,c]},eS=function(e,r,n,a,i){var o=1e-5;e===0&&(e=o),r/=e,n/=e,a/=e;var l,f,c,v,d,g,m,p;if(f=(3*n-r*r)/9,c=-(27*a)+r*(9*n-2*(r*r)),c/=54,l=f*f*f+c*c,i[1]=0,m=r/3,l>0){d=c+Math.sqrt(l),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),g=c-Math.sqrt(l),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),i[0]=-m+d+g,m+=(d+g)/2,i[4]=i[2]=-m,m=Math.sqrt(3)*(-g+d)/2,i[3]=m,i[5]=-m;return}if(i[5]=i[3]=0,l===0){p=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-m+2*p,i[4]=i[2]=-(p+m);return}f=-f,v=f*f*f,v=Math.acos(c/Math.sqrt(v)),p=2*Math.sqrt(f),i[0]=-m+p*Math.cos(v/3),i[2]=-m+p*Math.cos((v+2*Math.PI)/3),i[4]=-m+p*Math.cos((v+4*Math.PI)/3)},tS=function(e,r,n,a,i,o,l,f){var c=1*n*n-4*n*i+2*n*l+4*i*i-4*i*l+l*l+a*a-4*a*o+2*a*f+4*o*o-4*o*f+f*f,v=1*9*n*i-3*n*n-3*n*l-6*i*i+3*i*l+9*a*o-3*a*a-3*a*f-6*o*o+3*o*f,d=1*3*n*n-6*n*i+n*l-n*e+2*i*i+2*i*e-l*e+3*a*a-6*a*o+a*f-a*r+2*o*o+2*o*r-f*r,g=1*n*i-n*n+n*e-i*e+a*o-a*a+a*r-o*r,m=[];eS(c,v,d,g,m);for(var p=1e-7,w=[],y=0;y<6;y+=2)Math.abs(m[y+1])<p&&m[y]>=0&&m[y]<=1&&w.push(m[y]);w.push(1),w.push(0);for(var b=-1,E,S,T,A=0;A<w.length;A++)E=Math.pow(1-w[A],2)*n+2*(1-w[A])*w[A]*i+w[A]*w[A]*l,S=Math.pow(1-w[A],2)*a+2*(1-w[A])*w[A]*o+w[A]*w[A]*f,T=Math.pow(E-e,2)+Math.pow(S-r,2),b>=0?T<b&&(b=T):b=T;return b},rS=function(e,r,n,a,i,o){var l=[e-n,r-a],f=[i-n,o-a],c=f[0]*f[0]+f[1]*f[1],v=l[0]*l[0]+l[1]*l[1],d=l[0]*f[0]+l[1]*f[1],g=d*d/c;return d<0?v:g>c?(e-i)*(e-i)+(r-o)*(r-o):v-g},Dr=function(e,r,n){for(var a,i,o,l,f,c=0,v=0;v<n.length/2;v++)if(a=n[v*2],i=n[v*2+1],v+1<n.length/2?(o=n[(v+1)*2],l=n[(v+1)*2+1]):(o=n[(v+1-n.length/2)*2],l=n[(v+1-n.length/2)*2+1]),!(a==e&&o==e))if(a>=e&&e>=o||a<=e&&e<=o)f=(e-a)/(o-a)*(l-i)+i,f>r&&c++;else continue;return c%2!==0},qn=function(e,r,n,a,i,o,l,f,c){var v=new Array(n.length),d;f[0]!=null?(d=Math.atan(f[1]/f[0]),f[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=f;for(var g=Math.cos(-d),m=Math.sin(-d),p=0;p<v.length/2;p++)v[p*2]=o/2*(n[p*2]*g-n[p*2+1]*m),v[p*2+1]=l/2*(n[p*2+1]*g+n[p*2]*m),v[p*2]+=a,v[p*2+1]+=i;var w;if(c>0){var y=gu(v,-c);w=hu(y)}else w=v;return Dr(e,r,w)},nS=function(e,r,n,a,i,o,l,f){for(var c=new Array(n.length*2),v=0;v<f.length;v++){var d=f[v];c[v*4+0]=d.startX,c[v*4+1]=d.startY,c[v*4+2]=d.stopX,c[v*4+3]=d.stopY;var g=Math.pow(d.cx-e,2)+Math.pow(d.cy-r,2);if(g<=Math.pow(d.radius,2))return!0}return Dr(e,r,c)},hu=function(e){for(var r=new Array(e.length/2),n,a,i,o,l,f,c,v,d=0;d<e.length/4;d++){n=e[d*4],a=e[d*4+1],i=e[d*4+2],o=e[d*4+3],d<e.length/4-1?(l=e[(d+1)*4],f=e[(d+1)*4+1],c=e[(d+1)*4+2],v=e[(d+1)*4+3]):(l=e[0],f=e[1],c=e[2],v=e[3]);var g=ua(n,a,i,o,l,f,c,v,!0);r[d*2]=g[0],r[d*2+1]=g[1]}return r},gu=function(e,r){for(var n=new Array(e.length*2),a,i,o,l,f=0;f<e.length/2;f++){a=e[f*2],i=e[f*2+1],f<e.length/2-1?(o=e[(f+1)*2],l=e[(f+1)*2+1]):(o=e[0],l=e[1]);var c=l-i,v=-(o-a),d=Math.sqrt(c*c+v*v),g=c/d,m=v/d;n[f*4]=a+g*r,n[f*4+1]=i+m*r,n[f*4+2]=o+g*r,n[f*4+3]=l+m*r}return n},aS=function(e,r,n,a,i,o){var l=n-e,f=a-r;l/=i,f/=o;var c=Math.sqrt(l*l+f*f),v=c-1;if(v<0)return[];var d=v/c;return[(n-e)*d+e,(a-r)*d+r]},Oa=function(e,r,n,a,i,o,l){return e-=i,r-=o,e/=n/2+l,r/=a/2+l,e*e+r*r<=1},_o=function(e,r,n,a,i,o,l){var f=[n-e,a-r],c=[e-i,r-o],v=f[0]*f[0]+f[1]*f[1],d=2*(c[0]*f[0]+c[1]*f[1]),g=c[0]*c[0]+c[1]*c[1]-l*l,m=d*d-4*v*g;if(m<0)return[];var p=(-d+Math.sqrt(m))/(2*v),w=(-d-Math.sqrt(m))/(2*v),y=Math.min(p,w),b=Math.max(p,w),E=[];if(y>=0&&y<=1&&E.push(y),b>=0&&b<=1&&E.push(b),E.length===0)return[];var S=E[0]*f[0]+e,T=E[0]*f[1]+r;if(E.length>1){if(E[0]==E[1])return[S,T];var A=E[1]*f[0]+e,D=E[1]*f[1]+r;return[S,T,A,D]}else return[S,T]},qf=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},ua=function(e,r,n,a,i,o,l,f,c){var v=e-i,d=n-e,g=l-i,m=r-o,p=a-r,w=f-o,y=g*m-w*v,b=d*m-p*v,E=w*d-g*p;if(E!==0){var S=y/E,T=b/E,A=.001,D=0-A,P=1+A;return D<=S&&S<=P&&D<=T&&T<=P?[e+S*d,r+S*p]:c?[e+S*d,r+S*p]:[]}else return y===0||b===0?qf(e,n,l)===l?[l,f]:qf(e,n,i)===i?[i,o]:qf(i,l,n)===n?[n,a]:[]:[]},Ro=function(e,r,n,a,i,o,l,f){var c=[],v,d=new Array(n.length),g=!0;o==null&&(g=!1);var m;if(g){for(var p=0;p<d.length/2;p++)d[p*2]=n[p*2]*o+a,d[p*2+1]=n[p*2+1]*l+i;if(f>0){var w=gu(d,-f);m=hu(w)}else m=d}else m=n;for(var y,b,E,S,T=0;T<m.length/2;T++)y=m[T*2],b=m[T*2+1],T<m.length/2-1?(E=m[(T+1)*2],S=m[(T+1)*2+1]):(E=m[0],S=m[1]),v=ua(e,r,a,i,y,b,E,S),v.length!==0&&c.push(v[0],v[1]);return c},iS=function(e,r,n,a,i,o,l,f,c){var v=[],d,g=new Array(n.length*2);c.forEach(function(E,S){S===0?(g[g.length-2]=E.startX,g[g.length-1]=E.startY):(g[S*4-2]=E.startX,g[S*4-1]=E.startY),g[S*4]=E.stopX,g[S*4+1]=E.stopY,d=_o(e,r,a,i,E.cx,E.cy,E.radius),d.length!==0&&v.push(d[0],d[1])});for(var m=0;m<g.length/4;m++)d=ua(e,r,a,i,g[m*4],g[m*4+1],g[m*4+2],g[m*4+3],!1),d.length!==0&&v.push(d[0],d[1]);if(v.length>2){for(var p=[v[0],v[1]],w=Math.pow(p[0]-e,2)+Math.pow(p[1]-r,2),y=1;y<v.length/2;y++){var b=Math.pow(v[y*2]-e,2)+Math.pow(v[y*2+1]-r,2);b<=w&&(p[0]=v[y*2],p[1]=v[y*2+1],w=b)}return p}return v},pu=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},Er=function(e,r){var n=Vf(e,r);return n=Qh(n),n},Qh=function(e){for(var r,n,a=e.length/2,i=1/0,o=1/0,l=-1/0,f=-1/0,c=0;c<a;c++)r=e[2*c],n=e[2*c+1],i=Math.min(i,r),l=Math.max(l,r),o=Math.min(o,n),f=Math.max(f,n);for(var v=2/(l-i),d=2/(f-o),g=0;g<a;g++)r=e[2*g]=e[2*g]*v,n=e[2*g+1]=e[2*g+1]*d,i=Math.min(i,r),l=Math.max(l,r),o=Math.min(o,n),f=Math.max(f,n);if(o<-1)for(var m=0;m<a;m++)n=e[2*m+1]=e[2*m+1]+(-1-o);return e},Vf=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),o,l=0;l<e;l++)o=l*n+a,i[2*l]=Math.cos(o),i[2*l+1]=Math.sin(-o);return i},La=function(e,r){return Math.min(e/4,r/4,8)},Jh=function(e,r){return Math.min(e/10,r/10,8)},Wf=function(){return 8},oS=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Uf=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},sS=ar({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),uS={pageRank:function(e){for(var r=sS(e),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,l=this._private.cy,f=this.byGroup(),c=f.nodes,v=f.edges,d=c.length,g=d*d,m=v.length,p=new Array(g),w=new Array(d),y=(1-n)/d,b=0;b<d;b++){for(var E=0;E<d;E++){var S=b*d+E;p[S]=0}w[b]=0}for(var T=0;T<m;T++){var A=v[T],D=A.data("source"),P=A.data("target");if(D!==P){var L=c.indexOfId(D),_=c.indexOfId(P),F=o(A),N=_*d+L;p[N]+=F,w[L]+=F}}for(var B=1/d+y,V=0;V<d;V++)if(w[V]===0)for(var M=0;M<d;M++){var H=M*d+V;p[H]=B}else for(var W=0;W<d;W++){var q=W*d+V;p[q]=p[q]/w[V]+y}for(var Y=new Array(d),te=new Array(d),re,I=0;I<d;I++)Y[I]=1;for(var $=0;$<i;$++){for(var Q=0;Q<d;Q++)te[Q]=0;for(var ue=0;ue<d;ue++)for(var ne=0;ne<d;ne++){var Z=ue*d+ne;te[ue]+=p[Z]*Y[ne]}U2(te),re=Y,Y=te,te=re;for(var G=0,J=0;J<d;J++){var ee=re[J]-Y[J];G+=ee*ee}if(G<a)break}var ce={rank:function(De){return De=l.collection(De)[0],Y[c.indexOf(De)]}};return ce}},jh=ar({root:null,weight:function(e){return 1},directed:!1,alpha:0}),yi={degreeCentralityNormalized:function(e){e=jh(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var v={},d={},g=0,m=0,p=0;p<a;p++){var w=n[p],y=w.id();e.root=w;var b=this.degreeCentrality(e);g<b.indegree&&(g=b.indegree),m<b.outdegree&&(m=b.outdegree),v[y]=b.indegree,d[y]=b.outdegree}return{indegree:function(S){return g==0?0:(Le(S)&&(S=r.filter(S)),v[S.id()]/g)},outdegree:function(S){return m===0?0:(Le(S)&&(S=r.filter(S)),d[S.id()]/m)}}}else{for(var i={},o=0,l=0;l<a;l++){var f=n[l];e.root=f;var c=this.degreeCentrality(e);o<c.degree&&(o=c.degree),i[f.id()]=c.degree}return{degree:function(S){return o===0?0:(Le(S)&&(S=r.filter(S)),i[S.id()]/o)}}}},degreeCentrality:function(e){e=jh(e);var r=this.cy(),n=this,a=e,i=a.root,o=a.weight,l=a.directed,f=a.alpha;if(i=r.collection(i)[0],l){for(var m=i.connectedEdges(),p=m.filter(function(D){return D.target().same(i)&&n.has(D)}),w=m.filter(function(D){return D.source().same(i)&&n.has(D)}),y=p.length,b=w.length,E=0,S=0,T=0;T<p.length;T++)E+=o(p[T]);for(var A=0;A<w.length;A++)S+=o(w[A]);return{indegree:Math.pow(y,1-f)*Math.pow(E,f),outdegree:Math.pow(b,1-f)*Math.pow(S,f)}}else{for(var c=i.connectedEdges().intersection(n),v=c.length,d=0,g=0;g<c.length;g++)d+=o(c[g]);return{degree:Math.pow(v,1-f)*Math.pow(d,f)}}}};yi.dc=yi.degreeCentrality,yi.dcn=yi.degreeCentralityNormalised=yi.degreeCentralityNormalized;var eg=ar({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),bi={closenessCentralityNormalized:function(e){for(var r=eg(e),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),l={},f=0,c=this.nodes(),v=this.floydWarshall({weight:a,directed:i}),d=0;d<c.length;d++){for(var g=0,m=c[d],p=0;p<c.length;p++)if(d!==p){var w=v.distance(m,c[p]);n?g+=1/w:g+=w}n||(g=1/g),f<g&&(f=g),l[m.id()]=g}return{closeness:function(b){return f==0?0:(Le(b)?b=o.filter(b)[0].id():b=b.id(),l[b]/f)}}},closenessCentrality:function(e){var r=eg(e),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var l=this.dijkstra({root:n,weight:a,directed:i}),f=0,c=this.nodes(),v=0;v<c.length;v++){var d=c[v];if(!d.same(n)){var g=l.distanceTo(d);o?f+=1/g:f+=g}}return o?f:1/f}};bi.cc=bi.closenessCentrality,bi.ccn=bi.closenessCentralityNormalised=bi.closenessCentralityNormalized;var lS=ar({weight:null,directed:!1}),Hf={betweennessCentrality:function(e){for(var r=lS(e),n=r.directed,a=r.weight,i=a!=null,o=this.cy(),l=this.nodes(),f={},c={},v=0,d={set:function(S,T){c[S]=T,T>v&&(v=T)},get:function(S){return c[S]}},g=0;g<l.length;g++){var m=l[g],p=m.id();n?f[p]=m.outgoers().nodes():f[p]=m.openNeighborhood().nodes(),d.set(p,0)}for(var w=function(S){for(var T=l[S].id(),A=[],D={},P={},L={},_=new Do(function(ne,Z){return L[ne]-L[Z]}),F=0;F<l.length;F++){var N=l[F].id();D[N]=[],P[N]=0,L[N]=1/0}for(P[T]=1,L[T]=0,_.push(T);!_.empty();){var B=_.pop();if(A.push(B),i)for(var V=0;V<f[B].length;V++){var M=f[B][V],H=o.getElementById(B),W=void 0;H.edgesTo(M).length>0?W=H.edgesTo(M)[0]:W=M.edgesTo(H)[0];var q=a(W);M=M.id(),L[M]>L[B]+q&&(L[M]=L[B]+q,_.nodes.indexOf(M)<0?_.push(M):_.updateItem(M),P[M]=0,D[M]=[]),L[M]==L[B]+q&&(P[M]=P[M]+P[B],D[M].push(B))}else for(var Y=0;Y<f[B].length;Y++){var te=f[B][Y].id();L[te]==1/0&&(_.push(te),L[te]=L[B]+1),L[te]==L[B]+1&&(P[te]=P[te]+P[B],D[te].push(B))}}for(var re={},I=0;I<l.length;I++)re[l[I].id()]=0;for(;A.length>0;){for(var $=A.pop(),Q=0;Q<D[$].length;Q++){var ue=D[$][Q];re[ue]=re[ue]+P[ue]/P[$]*(1+re[$])}$!=l[S].id()&&d.set($,d.get($)+re[$])}},y=0;y<l.length;y++)w(y);var b={betweenness:function(S){var T=o.collection(S).id();return d.get(T)},betweennessNormalized:function(S){if(v==0)return 0;var T=o.collection(S).id();return d.get(T)/v}};return b.betweennessNormalised=b.betweennessNormalized,b}};Hf.bc=Hf.betweennessCentrality;var fS=ar({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),cS=function(e){return fS(e)},vS=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},dS=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},tg=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var o=0;o<r;o++)e[o*r+a]=e[o*r+a]/n}},hS=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var l=0;l<n;l++)for(var f=0;f<n;f++)a[i*n+f]+=e[i*n+l]*r[l*n+f]}return a},gS=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=hS(e,a,r);return e},pS=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return tg(a,r),a},mS=function(e,r,n,a){for(var i=0;i<n;i++){var o=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),l=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==l)return!1}return!0},yS=function(e,r,n,a){for(var i=[],o=0;o<r;o++){for(var l=[],f=0;f<r;f++)Math.round(e[o*r+f]*1e3)/1e3>0&&l.push(n[f]);l.length!==0&&i.push(a.collection(l))}return i},bS=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},wS=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&bS(e[r],e[n])&&e.splice(n,1);return e},rg=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=cS(e),o={},l=0;l<r.length;l++)o[r[l].id()]=l;for(var f=r.length,c=f*f,v=new Array(c),d,g=0;g<c;g++)v[g]=0;for(var m=0;m<n.length;m++){var p=n[m],w=o[p.source().id()],y=o[p.target().id()],b=vS(p,i.attributes);v[w*f+y]+=b,v[y*f+w]+=b}dS(v,f,i.multFactor),tg(v,f);for(var E=!0,S=0;E&&S<i.maxIterations;)E=!1,d=gS(v,f,i.expandFactor),v=pS(d,f,i.inflateFactor),mS(v,d,c,4)||(E=!0),S++;var T=yS(v,f,r,a);return T=wS(T),T},xS={markovClustering:rg,mcl:rg},ES=function(e){return e},ng=function(e,r){return Math.abs(r-e)},ag=function(e,r,n){return e+ng(r,n)},ig=function(e,r,n){return e+Math.pow(n-r,2)},SS=function(e){return Math.sqrt(e)},CS=function(e,r,n){return Math.max(e,ng(r,n))},Oo=function(e,r,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:ES,l=a,f,c,v=0;v<e;v++)f=r(v),c=n(v),l=i(l,f,c);return o(l)},wi={euclidean:function(e,r,n){return e>=2?Oo(e,r,n,0,ig,SS):Oo(e,r,n,0,ag)},squaredEuclidean:function(e,r,n){return Oo(e,r,n,0,ig)},manhattan:function(e,r,n){return Oo(e,r,n,0,ag)},max:function(e,r,n){return Oo(e,r,n,-1/0,CS)}};wi["squared-euclidean"]=wi.squaredEuclidean,wi.squaredeuclidean=wi.squaredEuclidean;function mu(t,e,r,n,a,i){var o;return kt(t)?o=t:o=wi[t]||wi.euclidean,e===0&&kt(t)?o(a,i):o(e,r,n,a,i)}var TS=ar({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Gf=function(e){return TS(e)},yu=function(e,r,n,a,i){var o=i!=="kMedoids",l=o?function(d){return n[d]}:function(d){return a[d](n)},f=function(g){return a[g](r)},c=n,v=r;return mu(e,a.length,l,f,c,v)},Kf=function(e,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),l=new Array(r),f=null,c=0;c<a;c++)i[c]=e.min(n[c]).value,o[c]=e.max(n[c]).value;for(var v=0;v<r;v++){f=[];for(var d=0;d<a;d++)f[d]=Math.random()*(o[d]-i[d])+i[d];l[v]=f}return l},og=function(e,r,n,a,i){for(var o=1/0,l=0,f=0;f<r.length;f++){var c=yu(n,e,r[f],a,i);c<o&&(o=c,l=f)}return l},sg=function(e,r,n){for(var a=[],i=null,o=0;o<r.length;o++)i=r[o],n[i.id()]===e&&a.push(i);return a},PS=function(e,r,n){return Math.abs(r-e)<=n},AS=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var o=Math.abs(e[a][i]-r[a][i]);if(o>n)return!1}return!0},DS=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},ug=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];DS(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},lg=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=yu("manhattan",r[i],e,n,"kMedoids");return a},kS=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Gf(e),o=new Array(i.k),l={},f;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,f=Kf(n,i.k,i.attributes)):Ht(i.testCentroids)==="object"?f=i.testCentroids:f=Kf(n,i.k,i.attributes):f=Kf(n,i.k,i.attributes);for(var c=!0,v=0;c&&v<i.maxIterations;){for(var d=0;d<n.length;d++)a=n[d],l[a.id()]=og(a,f,i.distance,i.attributes,"kMeans");c=!1;for(var g=0;g<i.k;g++){var m=sg(g,n,l);if(m.length!==0){for(var p=i.attributes.length,w=f[g],y=new Array(p),b=new Array(p),E=0;E<p;E++){b[E]=0;for(var S=0;S<m.length;S++)a=m[S],b[E]+=i.attributes[E](a);y[E]=b[E]/m.length,PS(y[E],w[E],i.sensitivityThreshold)||(c=!0)}f[g]=y,o[g]=r.collection(m)}}v++}return o},_S=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Gf(e),o=new Array(i.k),l,f={},c,v=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(Ht(i.testCentroids)==="object"?l=i.testCentroids:l=ug(n,i.k)):l=ug(n,i.k);for(var d=!0,g=0;d&&g<i.maxIterations;){for(var m=0;m<n.length;m++)a=n[m],f[a.id()]=og(a,l,i.distance,i.attributes,"kMedoids");d=!1;for(var p=0;p<l.length;p++){var w=sg(p,n,f);if(w.length!==0){v[p]=lg(l[p],w,i.attributes);for(var y=0;y<w.length;y++)c=lg(w[y],w,i.attributes),c<v[p]&&(v[p]=c,l[p]=w[y],d=!0);o[p]=r.collection(w)}}g++}return o},RS=function(e,r,n,a,i){for(var o,l,f=0;f<r.length;f++)for(var c=0;c<e.length;c++)a[f][c]=Math.pow(n[f][c],i.m);for(var v=0;v<e.length;v++)for(var d=0;d<i.attributes.length;d++){o=0,l=0;for(var g=0;g<r.length;g++)o+=a[g][v]*i.attributes[d](r[g]),l+=a[g][v];e[v][d]=o/l}},OS=function(e,r,n,a,i){for(var o=0;o<e.length;o++)r[o]=e[o].slice();for(var l,f,c,v=2/(i.m-1),d=0;d<n.length;d++)for(var g=0;g<a.length;g++){l=0;for(var m=0;m<n.length;m++)f=yu(i.distance,a[g],n[d],i.attributes,"cmeans"),c=yu(i.distance,a[g],n[m],i.attributes,"cmeans"),l+=Math.pow(f/c,v);e[g][d]=1/l}},LS=function(e,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var l,f,c=0;c<r.length;c++){l=-1/0,f=-1;for(var v=0;v<r[0].length;v++)r[c][v]>l&&(l=r[c][v],f=v);i[f].push(e[c])}for(var d=0;d<i.length;d++)i[d]=a.collection(i[d]);return i},fg=function(e){var r=this.cy(),n=this.nodes(),a=Gf(e),i,o,l,f,c;f=new Array(n.length);for(var v=0;v<n.length;v++)f[v]=new Array(a.k);l=new Array(n.length);for(var d=0;d<n.length;d++)l[d]=new Array(a.k);for(var g=0;g<n.length;g++){for(var m=0,p=0;p<a.k;p++)l[g][p]=Math.random(),m+=l[g][p];for(var w=0;w<a.k;w++)l[g][w]=l[g][w]/m}o=new Array(a.k);for(var y=0;y<a.k;y++)o[y]=new Array(a.attributes.length);c=new Array(n.length);for(var b=0;b<n.length;b++)c[b]=new Array(a.k);for(var E=!0,S=0;E&&S<a.maxIterations;)E=!1,RS(o,n,l,c,a),OS(l,f,o,n,a),AS(l,f,a.sensitivityThreshold)||(E=!0),S++;return i=LS(n,l,a,r),{clusters:i,degreeOfMembership:l}},IS={kMeans:kS,kMedoids:_S,fuzzyCMeans:fg,fcm:fg},MS=ar({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),BS={single:"min",complete:"max"},NS=function(e){var r=MS(e),n=BS[r.linkage];return n!=null&&(r.linkage=n),r},cg=function(e,r,n,a,i){for(var o=0,l=1/0,f,c=i.attributes,v=function(_,F){return mu(i.distance,c.length,function(N){return c[N](_)},function(N){return c[N](F)},_,F)},d=0;d<e.length;d++){var g=e[d].key,m=n[g][a[g]];m<l&&(o=g,l=m)}if(i.mode==="threshold"&&l>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var p=r[o],w=r[a[o]],y;i.mode==="dendrogram"?y={left:p,right:w,key:p.key}:y={value:p.value.concat(w.value),key:p.key},e[p.index]=y,e.splice(w.index,1),r[p.key]=y;for(var b=0;b<e.length;b++){var E=e[b];p.key===E.key?f=1/0:i.linkage==="min"?(f=n[p.key][E.key],n[p.key][E.key]>n[w.key][E.key]&&(f=n[w.key][E.key])):i.linkage==="max"?(f=n[p.key][E.key],n[p.key][E.key]<n[w.key][E.key]&&(f=n[w.key][E.key])):i.linkage==="mean"?f=(n[p.key][E.key]*p.size+n[w.key][E.key]*w.size)/(p.size+w.size):i.mode==="dendrogram"?f=v(E.value,p.value):f=v(E.value[0],p.value[0]),n[p.key][E.key]=n[E.key][p.key]=f}for(var S=0;S<e.length;S++){var T=e[S].key;if(a[T]===p.key||a[T]===w.key){for(var A=T,D=0;D<e.length;D++){var P=e[D].key;n[T][P]<n[T][A]&&(A=P)}a[T]=A}e[S].index=S}return p.key=w.key=p.index=w.index=null,!0},bu=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},FS=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),a=t(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},zS=function t(e,r,n){if(!e)return[];var a=[],i=[],o=[];return r===0?(e.left&&bu(e.left,a),e.right&&bu(e.right,i),o=a.concat(i),[n.collection(o)]):r===1?e.value?[n.collection(e.value)]:(e.left&&bu(e.left,a),e.right&&bu(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=t(e.left,r-1,n)),e.right&&(i=t(e.right,r-1,n)),a.concat(i))},vg=function(e){for(var r=this.cy(),n=this.nodes(),a=NS(e),i=a.attributes,o=function(S,T){return mu(a.distance,i.length,function(A){return i[A](S)},function(A){return i[A](T)},S,T)},l=[],f=[],c=[],v=[],d=0;d<n.length;d++){var g={value:a.mode==="dendrogram"?n[d]:[n[d]],key:d,index:d};l[d]=g,v[d]=g,f[d]=[],c[d]=0}for(var m=0;m<l.length;m++)for(var p=0;p<=m;p++){var w=void 0;a.mode==="dendrogram"?w=m===p?1/0:o(l[m].value,l[p].value):w=m===p?1/0:o(l[m].value[0],l[p].value[0]),f[m][p]=w,f[p][m]=w,w<f[m][c[m]]&&(c[m]=p)}for(var y=cg(l,v,f,c,a);y;)y=cg(l,v,f,c,a);var b;return a.mode==="dendrogram"?(b=zS(l[0],a.dendrogramDepth,r),a.addDendrogram&&FS(l[0],r)):(b=new Array(l.length),l.forEach(function(E,S){E.key=E.index=null,b[S]=r.collection(E.value)})),b},$S={hierarchicalClustering:vg,hca:vg},qS=ar({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),VS=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||It("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||xe(n)||It("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),qS(e)},WS=function(e,r,n,a){var i=function(l,f){return a[f](l)};return-mu(e,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},US=function(e,r){var n=null;return r==="median"?n=V2(e):r==="mean"?n=q2(e):r==="min"?n=z2(e):r==="max"?n=$2(e):n=r,n},HS=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},dg=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var o=-1,l=-1/0,f=0;f<n.length;f++){var c=n[f];r[i*e+c]>l&&(o=c,l=r[i*e+c])}o>0&&a.push(o)}for(var v=0;v<n.length;v++)a[n[v]]=n[v];return a},GS=function(e,r,n){for(var a=dg(e,r,n),i=0;i<n.length;i++){for(var o=[],l=0;l<a.length;l++)a[l]===n[i]&&o.push(l);for(var f=-1,c=-1/0,v=0;v<o.length;v++){for(var d=0,g=0;g<o.length;g++)d+=r[o[g]*e+o[v]];d>c&&(f=v,c=d)}n[i]=o[f]}return a=dg(e,r,n),a},hg=function(e){for(var r=this.cy(),n=this.nodes(),a=VS(e),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var l,f,c,v,d,g;l=n.length,f=l*l,c=new Array(f);for(var m=0;m<f;m++)c[m]=-1/0;for(var p=0;p<l;p++)for(var w=0;w<l;w++)p!==w&&(c[p*l+w]=WS(a.distance,n[p],n[w],a.attributes));v=US(c,a.preference);for(var y=0;y<l;y++)c[y*l+y]=v;d=new Array(f);for(var b=0;b<f;b++)d[b]=0;g=new Array(f);for(var E=0;E<f;E++)g[E]=0;for(var S=new Array(l),T=new Array(l),A=new Array(l),D=0;D<l;D++)S[D]=0,T[D]=0,A[D]=0;for(var P=new Array(l*a.minIterations),L=0;L<P.length;L++)P[L]=0;var _;for(_=0;_<a.maxIterations;_++){for(var F=0;F<l;F++){for(var N=-1/0,B=-1/0,V=-1,M=0,H=0;H<l;H++)S[H]=d[F*l+H],M=g[F*l+H]+c[F*l+H],M>=N?(B=N,N=M,V=H):M>B&&(B=M);for(var W=0;W<l;W++)d[F*l+W]=(1-a.damping)*(c[F*l+W]-N)+a.damping*S[W];d[F*l+V]=(1-a.damping)*(c[F*l+V]-B)+a.damping*S[V]}for(var q=0;q<l;q++){for(var Y=0,te=0;te<l;te++)S[te]=g[te*l+q],T[te]=Math.max(0,d[te*l+q]),Y+=T[te];Y-=T[q],T[q]=d[q*l+q],Y+=T[q];for(var re=0;re<l;re++)g[re*l+q]=(1-a.damping)*Math.min(0,Y-T[re])+a.damping*S[re];g[q*l+q]=(1-a.damping)*(Y-T[q])+a.damping*S[q]}for(var I=0,$=0;$<l;$++){var Q=g[$*l+$]+d[$*l+$]>0?1:0;P[_%a.minIterations*l+$]=Q,I+=Q}if(I>0&&(_>=a.minIterations-1||_==a.maxIterations-1)){for(var ue=0,ne=0;ne<l;ne++){A[ne]=0;for(var Z=0;Z<a.minIterations;Z++)A[ne]+=P[Z*l+ne];(A[ne]===0||A[ne]===a.minIterations)&&ue++}if(ue===l)break}}for(var G=HS(l,d,g),J=GS(l,c,G),ee={},ce=0;ce<G.length;ce++)ee[G[ce]]=[];for(var ge=0;ge<n.length;ge++){var De=i[n[ge].id()],ze=J[De];ze!=null&&ee[ze].push(n[ge])}for(var me=new Array(G.length),we=0;we<G.length;we++)me[we]=r.collection(ee[G[we]]);return me},KS={affinityPropagation:hg,ap:hg},YS=ar({root:void 0,directed:!1}),XS={hierholzer:function(e){if(!rt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=YS(e),a=n.root,i=n.directed,o=this,l=!1,f,c,v;a&&(v=Le(a)?this.filter(a)[0].id():a[0].id());var d={},g={};i?o.forEach(function(E){var S=E.id();if(E.isNode()){var T=E.indegree(!0),A=E.outdegree(!0),D=T-A,P=A-T;D==1?f?l=!0:f=S:P==1?c?l=!0:c=S:(P>1||D>1)&&(l=!0),d[S]=[],E.outgoers().forEach(function(L){L.isEdge()&&d[S].push(L.id())})}else g[S]=[void 0,E.target().id()]}):o.forEach(function(E){var S=E.id();if(E.isNode()){var T=E.degree(!0);T%2&&(f?c?l=!0:c=S:f=S),d[S]=[],E.connectedEdges().forEach(function(A){return d[S].push(A.id())})}else g[S]=[E.source().id(),E.target().id()]});var m={found:!1,trail:void 0};if(l)return m;if(c&&f)if(i){if(v&&c!=v)return m;v=c}else{if(v&&c!=v&&f!=v)return m;v||(v=c)}else v||(v=o[0].id());var p=function(S){for(var T=S,A=[S],D,P,L;d[T].length;)D=d[T].shift(),P=g[D][0],L=g[D][1],T!=L?(d[L]=d[L].filter(function(_){return _!=D}),T=L):!i&&T!=P&&(d[P]=d[P].filter(function(_){return _!=D}),T=P),A.unshift(D),A.unshift(T);return A},w=[],y=[];for(y=p(v);y.length!=1;)d[y[0]].length==0?(w.unshift(o.getElementById(y.shift())),w.unshift(o.getElementById(y.shift()))):y=p(y.shift()).concat(y);w.unshift(o.getElementById(y.shift()));for(var b in d)if(d[b].length)return m;return m.found=!0,m.trail=this.spawn(w,!0),m}},wu=function(){var e=this,r={},n=0,a=0,i=[],o=[],l={},f=function(g,m){for(var p=o.length-1,w=[],y=e.spawn();o[p].x!=g||o[p].y!=m;)w.push(o.pop().edge),p--;w.push(o.pop().edge),w.forEach(function(b){var E=b.connectedNodes().intersection(e);y.merge(b),E.forEach(function(S){var T=S.id(),A=S.connectedEdges().intersection(e);y.merge(S),r[T].cutVertex?y.merge(A.filter(function(D){return D.isLoop()})):y.merge(A)})}),i.push(y)},c=function d(g,m,p){g===p&&(a+=1),r[m]={id:n,low:n++,cutVertex:!1};var w=e.getElementById(m).connectedEdges().intersection(e);if(w.size()===0)i.push(e.spawn(e.getElementById(m)));else{var y,b,E,S;w.forEach(function(T){y=T.source().id(),b=T.target().id(),E=y===m?b:y,E!==p&&(S=T.id(),l[S]||(l[S]=!0,o.push({x:m,y:E,edge:T})),E in r?r[m].low=Math.min(r[m].low,r[E].id):(d(g,E,m),r[m].low=Math.min(r[m].low,r[E].low),r[m].id<=r[E].low&&(r[m].cutVertex=!0,f(m,E))))})}};e.forEach(function(d){if(d.isNode()){var g=d.id();g in r||(a=0,c(g,g),r[g].cutVertex=a>1)}});var v=Object.keys(r).filter(function(d){return r[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(v),components:i}},ZS={hopcroftTarjanBiconnected:wu,htbc:wu,htb:wu,hopcroftTarjanBiconnectedComponents:wu},xu=function(){var e=this,r={},n=0,a=[],i=[],o=e.spawn(e),l=function f(c){i.push(c),r[c]={index:n,low:n++,explored:!1};var v=e.getElementById(c).connectedEdges().intersection(e);if(v.forEach(function(w){var y=w.target().id();y!==c&&(y in r||f(y),r[y].explored||(r[c].low=Math.min(r[c].low,r[y].low)))}),r[c].index===r[c].low){for(var d=e.spawn();;){var g=i.pop();if(d.merge(e.getElementById(g)),r[g].low=r[c].index,r[g].explored=!0,g===c)break}var m=d.edgesWith(d),p=d.merge(m);a.push(p),o=o.difference(p)}};return e.forEach(function(f){if(f.isNode()){var c=f.id();c in r||l(c)}}),{cut:o,components:a}},QS={tarjanStronglyConnected:xu,tsc:xu,tscc:xu,tarjanStronglyConnectedComponents:xu},gg={};[Ao,A2,D2,_2,O2,I2,N2,uS,yi,bi,Hf,xS,IS,$S,KS,XS,ZS,QS].forEach(function(t){Ne(gg,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var pg=0,mg=1,yg=2,Vn=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=pg,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Vn.prototype={fulfill:function(e){return bg(this,mg,"fulfillValue",e)},reject:function(e){return bg(this,yg,"rejectReason",e)},then:function(e,r){var n=this,a=new Vn;return n.onFulfilled.push(Eg(e,a,"fulfill")),n.onRejected.push(Eg(r,a,"reject")),wg(n),a.proxy}};var bg=function(e,r,n,a){return e.state===pg&&(e.state=r,e[n]=a,wg(e)),e},wg=function(e){e.state===mg?xg(e,"onFulfilled",e.fulfillValue):e.state===yg&&xg(e,"onRejected",e.rejectReason)},xg=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var l=0;l<a.length;l++)a[l](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},Eg=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(o){r.reject(o);return}JS(r,i)}}},JS=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Ht(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):t(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};Vn.all=function(t){return new Vn(function(e,r){for(var n=new Array(t.length),a=0,i=function(f,c){n[f]=c,a++,a===t.length&&e(n)},o=0;o<t.length;o++)(function(l){var f=t[l],c=f!=null&&f.then!=null;if(c)f.then(function(d){i(l,d)},function(d){r(d)});else{var v=f;i(l,v)}})(o)})},Vn.resolve=function(t){return new Vn(function(e,r){e(t)})},Vn.reject=function(t){return new Vn(function(e,r){r(t)})};var xi=typeof Promise<"u"?Promise:Vn,Yf=function(e,r,n){var a=Rf(e),i=!a,o=this._private=Ne({duration:1e3},r,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&kt(o.complete)&&o.completes.push(o.complete),i){var l=e.position();o.startPosition=o.startPosition||{x:l.x,y:l.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(a){var f=e.pan();o.startPan={x:f.x,y:f.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},Ia=Yf.prototype;Ne(Ia,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),zr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(c,v){var d=e[c];d!=null&&(e[c]=e[v],e[v]=d)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],o=i.name,l=e.startStyle[o];e.startStyle[o]=i,e.style[a]=l}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new xi(function(a,i){n.push(function(){a()})})}}),Ia.complete=Ia.completed,Ia.run=Ia.play,Ia.running=Ia.playing;var jS={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var l=a[o];l._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this,f=!i,c=!f;if(!l.styleEnabled())return this;var v=l.style();r=Ne({},r,n);var d=Object.keys(r).length===0;if(d)return new Yf(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(c&&(r.style=v.getPropsList(r.style||r.css),r.css=void 0),c&&r.renderedPosition!=null){var g=r.renderedPosition,m=l.pan(),p=l.zoom();r.position=Hh(g,p,m)}if(f&&r.panBy!=null){var w=r.panBy,y=l.pan();r.pan={x:y.x+w.x,y:y.y+w.y}}var b=r.center||r.centre;if(f&&b!=null){var E=l.getCenterPan(b.eles,r.zoom);E!=null&&(r.pan=E)}if(f&&r.fit!=null){var S=r.fit,T=l.getFitViewport(S.eles||S.boundingBox,S.padding);T!=null&&(r.pan=T.pan,r.zoom=T.zoom)}if(f&&rt(r.zoom)){var A=l.getZoomedViewport(r.zoom);A!=null?(A.zoomed&&(r.zoom=A.zoom),A.panned&&(r.pan=A.pan)):r.zoom=null}return new Yf(o[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this;if(!l.styleEnabled())return this;n&&(r=Ne({},r,n));for(var f=0;f<o.length;f++){var c=o[f],v=c.animated()&&(r.queue===void 0||r.queue),d=c.animation(r,v?{queue:!0}:void 0);d.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var f=0;f<o.length;f++){for(var c=o[f],v=c._private,d=v.animation.current,g=0;g<d.length;g++){var m=d[g],p=m._private;n&&(p.duration=0)}r&&(v.animation.queue=[]),n||(v.animation.current=[])}return l.notify("draw"),this}}},eC=Array.isArray,Eu=eC,tC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rC=/^\w*$/;function nC(t,e){if(Eu(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||So(t)?!0:rC.test(t)||!tC.test(t)||e!=null&&t in Object(e)}var aC=nC,iC="[object AsyncFunction]",oC="[object Function]",sC="[object GeneratorFunction]",uC="[object Proxy]";function lC(t){if(!Da(t))return!1;var e=Rh(t);return e==oC||e==sC||e==iC||e==uC}var fC=lC,cC=au["__core-js_shared__"],Xf=cC,Sg=function(){var t=/[^.]+$/.exec(Xf&&Xf.keys&&Xf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vC(t){return!!Sg&&Sg in t}var dC=vC,hC=Function.prototype,gC=hC.toString;function pC(t){if(t!=null){try{return gC.call(t)}catch{}try{return t+""}catch{}}return""}var mC=pC,yC=/[\\^$.*+?()[\]{}|]/g,bC=/^\[object .+?Constructor\]$/,wC=Function.prototype,xC=Object.prototype,EC=wC.toString,SC=xC.hasOwnProperty,CC=RegExp("^"+EC.call(SC).replace(yC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TC(t){if(!Da(t)||dC(t))return!1;var e=fC(t)?CC:bC;return e.test(mC(t))}var PC=TC;function AC(t,e){return t?.[e]}var DC=AC;function kC(t,e){var r=DC(t,e);return PC(r)?r:void 0}var Zf=kC,_C=Zf(Object,"create"),Lo=_C;function RC(){this.__data__=Lo?Lo(null):{},this.size=0}var OC=RC;function LC(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var IC=LC,MC="__lodash_hash_undefined__",BC=Object.prototype,NC=BC.hasOwnProperty;function FC(t){var e=this.__data__;if(Lo){var r=e[t];return r===MC?void 0:r}return NC.call(e,t)?e[t]:void 0}var zC=FC,$C=Object.prototype,qC=$C.hasOwnProperty;function VC(t){var e=this.__data__;return Lo?e[t]!==void 0:qC.call(e,t)}var WC=VC,UC="__lodash_hash_undefined__";function HC(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Lo&&e===void 0?UC:e,this}var GC=HC;function Ei(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ei.prototype.clear=OC,Ei.prototype.delete=IC,Ei.prototype.get=zC,Ei.prototype.has=WC,Ei.prototype.set=GC;var Cg=Ei;function KC(){this.__data__=[],this.size=0}var YC=KC;function XC(t,e){return t===e||t!==t&&e!==e}var Tg=XC;function ZC(t,e){for(var r=t.length;r--;)if(Tg(t[r][0],e))return r;return-1}var Su=ZC,QC=Array.prototype,JC=QC.splice;function jC(t){var e=this.__data__,r=Su(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():JC.call(e,r,1),--this.size,!0}var eT=jC;function tT(t){var e=this.__data__,r=Su(e,t);return r<0?void 0:e[r][1]}var rT=tT;function nT(t){return Su(this.__data__,t)>-1}var aT=nT;function iT(t,e){var r=this.__data__,n=Su(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var oT=iT;function Si(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Si.prototype.clear=YC,Si.prototype.delete=eT,Si.prototype.get=rT,Si.prototype.has=aT,Si.prototype.set=oT;var sT=Si,uT=Zf(au,"Map"),lT=uT;function fT(){this.size=0,this.__data__={hash:new Cg,map:new(lT||sT),string:new Cg}}var cT=fT;function vT(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var dT=vT;function hT(t,e){var r=t.__data__;return dT(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Cu=hT;function gT(t){var e=Cu(this,t).delete(t);return this.size-=e?1:0,e}var pT=gT;function mT(t){return Cu(this,t).get(t)}var yT=mT;function bT(t){return Cu(this,t).has(t)}var wT=bT;function xT(t,e){var r=Cu(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var ET=xT;function Ci(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ci.prototype.clear=cT,Ci.prototype.delete=pT,Ci.prototype.get=yT,Ci.prototype.has=wT,Ci.prototype.set=ET;var Pg=Ci,ST="Expected a function";function Qf(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ST);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Qf.Cache||Pg),r}Qf.Cache=Pg;var CT=Qf,TT=500;function PT(t){var e=CT(t,function(n){return r.size===TT&&r.clear(),n}),r=e.cache;return e}var AT=PT,DT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kT=/\\(\\)?/g,_T=AT(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(DT,function(r,n,a,i){e.push(a?i.replace(kT,"$1"):n||r)}),e}),Ag=_T;function RT(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Dg=RT,OT=1/0,kg=vi?vi.prototype:void 0,_g=kg?kg.toString:void 0;function Rg(t){if(typeof t=="string")return t;if(Eu(t))return Dg(t,Rg)+"";if(So(t))return _g?_g.call(t):"";var e=t+"";return e=="0"&&1/t==-OT?"-0":e}var LT=Rg;function IT(t){return t==null?"":LT(t)}var Og=IT;function MT(t,e){return Eu(t)?t:aC(t,e)?[t]:Ag(Og(t))}var Lg=MT,BT=1/0;function NT(t){if(typeof t=="string"||So(t))return t;var e=t+"";return e=="0"&&1/t==-BT?"-0":e}var Jf=NT;function FT(t,e){e=Lg(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Jf(e[r++])];return r&&r==n?t:void 0}var zT=FT;function $T(t,e,r){var n=t==null?void 0:zT(t,e);return n===void 0?r:n}var qT=$T,VT=function(){try{var t=Zf(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ig=VT;function WT(t,e,r){e=="__proto__"&&Ig?Ig(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var UT=WT,HT=Object.prototype,GT=HT.hasOwnProperty;function KT(t,e,r){var n=t[e];(!(GT.call(t,e)&&Tg(n,r))||r===void 0&&!(e in t))&&UT(t,e,r)}var YT=KT,XT=9007199254740991,ZT=/^(?:0|[1-9]\d*)$/;function QT(t,e){var r=typeof t;return e=e??XT,!!e&&(r=="number"||r!="symbol"&&ZT.test(t))&&t>-1&&t%1==0&&t<e}var JT=QT;function jT(t,e,r,n){if(!Da(t))return t;e=Lg(e,t);for(var a=-1,i=e.length,o=i-1,l=t;l!=null&&++a<i;){var f=Jf(e[a]),c=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(a!=o){var v=l[f];c=n?n(v,f,l):void 0,c===void 0&&(c=Da(v)?v:JT(e[a+1])?[]:{})}YT(l,f,c),l=l[f]}return t}var eP=jT;function tP(t,e,r){return t==null?t:eP(t,e,r)}var rP=tP;function nP(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var aP=nP;function iP(t){return Eu(t)?Dg(t,Jf):So(t)?[t]:aP(Ag(Og(t)))}var oP=iP,sP={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=Ne({},r,e),function(a,i){var o=e,l=this,f=l.length!==void 0,c=f?l:[l],v=f?l[0]:l;if(Le(a)){var d=a.indexOf(".")!==-1,g=d&&oP(a);if(o.allowGetting&&i===void 0){var m;return v&&(o.beforeGet(v),g&&v._private[o.field][a]===void 0?m=qT(v._private[o.field],g):m=v._private[o.field][a]),m}else if(o.allowSetting&&i!==void 0){var p=!o.immutableKeys[a];if(p){var w=mh({},a,i);o.beforeSet(l,w);for(var y=0,b=c.length;y<b;y++){var E=c[y];o.canSet(E)&&(g&&v._private[o.field][a]===void 0?rP(E._private[o.field],g,i):E._private[o.field][a]=i)}o.updateStyle&&l.updateStyle(),o.onSet(l),o.settingTriggersEvent&&l[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&rt(a)){var S=a,T,A,D=Object.keys(S);o.beforeSet(l,S);for(var P=0;P<D.length;P++){T=D[P],A=S[T];var L=!o.immutableKeys[T];if(L)for(var _=0;_<c.length;_++){var F=c[_];o.canSet(F)&&(F._private[o.field][T]=A)}}o.updateStyle&&l.updateStyle(),o.onSet(l),o.settingTriggersEvent&&l[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&kt(a)){var N=a;l.on(o.bindingEvent,N)}else if(o.allowGetting&&a===void 0){var B;return v&&(o.beforeGet(v),B=v._private[o.field]),B}return l}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ne({},r,e),function(a){var i=e,o=this,l=o.length!==void 0,f=l?o:[o];if(Le(a)){for(var c=a.split(/\s+/),v=c.length,d=0;d<v;d++){var g=c[d];if(!aa(g)){var m=!i.immutableKeys[g];if(m)for(var p=0,w=f.length;p<w;p++)f[p]._private[i.field][g]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var y=0,b=f.length;y<b;y++)for(var E=f[y]._private[i.field],S=Object.keys(E),T=0;T<S.length;T++){var A=S[T],D=!i.immutableKeys[A];D&&(E[A]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},uP={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new xi(function(l,f){var c=function(m){i.off.apply(i,d),l(m)},v=o.concat([c]),d=v.concat([]);i.on.apply(i,v)})}}},ct={};[jS,sP,uP].forEach(function(t){Ne(ct,t)});var lP={animate:ct.animate(),animation:ct.animation(),animated:ct.animated(),clearQueue:ct.clearQueue(),delay:ct.delay(),delayAnimation:ct.delayAnimation(),stop:ct.stop()},Tu={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(p){return n.push(p)}),n}else bt(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new hi(e),o=0;o<r.length;o++){for(var l=r[o],f=l._private,c=f.classes,v=!1,d=0;d<e.length;d++){var g=e[d],m=c.has(g);if(!m){v=!0;break}}v||(v=c.size!==e.length),v&&(f.classes=i,a.push(l))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){bt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],o=0,l=n.length;o<l;o++)for(var f=n[o],c=f._private.classes,v=!1,d=0;d<e.length;d++){var g=e[d],m=c.has(g),p=!1;r||a&&!m?(c.add(g),p=!0):(!r||a&&m)&&(c.delete(g),p=!0),!v&&p&&(i.push(f),v=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Tu.className=Tu.classNames=Tu.classes;var nt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Kt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};nt.variable="(?:[\\w-.]|(?:\\\\"+nt.metaChar+"))+",nt.className="(?:[\\w-]|(?:\\\\"+nt.metaChar+"))+",nt.value=nt.string+"|"+nt.number,nt.id=nt.variable,function(){var t,e,r;for(t=nt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],nt.comparatorOp+="|@"+e;for(t=nt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(nt.comparatorOp+="|\\!"+e)}();var yt=function(){return{checks:[]}},Pe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},jf=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return xE(t.selector,e.selector)}),fP=function(){for(var t={},e,r=0;r<jf.length;r++)e=jf[r],t[e.selector]=e.matches;return t}(),cP=function(e,r){return fP[e](r)},vP="("+jf.map(function(t){return t.selector}).join("|")+")",Ti=function(e){return e.replace(new RegExp("\\\\("+nt.metaChar+")","g"),function(r,n){return n})},la=function(e,r,n){e[e.length-1]=n},ec=[{name:"group",query:!0,regex:"("+nt.group+")",populate:function(e,r,n){var a=pn(n,1),i=a[0];r.checks.push({type:Pe.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:vP,populate:function(e,r,n){var a=pn(n,1),i=a[0];r.checks.push({type:Pe.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+nt.id+")",populate:function(e,r,n){var a=pn(n,1),i=a[0];r.checks.push({type:Pe.ID,value:Ti(i)})}},{name:"className",query:!0,regex:"\\.("+nt.className+")",populate:function(e,r,n){var a=pn(n,1),i=a[0];r.checks.push({type:Pe.CLASS,value:Ti(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+nt.variable+")\\s*\\]",populate:function(e,r,n){var a=pn(n,1),i=a[0];r.checks.push({type:Pe.DATA_EXIST,field:Ti(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+nt.variable+")\\s*("+nt.comparatorOp+")\\s*("+nt.value+")\\s*\\]",populate:function(e,r,n){var a=pn(n,3),i=a[0],o=a[1],l=a[2],f=new RegExp("^"+nt.string+"$").exec(l)!=null;f?l=l.substring(1,l.length-1):l=parseFloat(l),r.checks.push({type:Pe.DATA_COMPARE,field:Ti(i),operator:o,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+nt.boolOp+")\\s*("+nt.variable+")\\s*\\]",populate:function(e,r,n){var a=pn(n,2),i=a[0],o=a[1];r.checks.push({type:Pe.DATA_BOOL,field:Ti(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+nt.meta+")\\s*("+nt.comparatorOp+")\\s*("+nt.number+")\\s*\\]\\]",populate:function(e,r,n){var a=pn(n,3),i=a[0],o=a[1],l=a[2];r.checks.push({type:Pe.META_COMPARE,field:Ti(i),operator:o,value:parseFloat(l)})}},{name:"nextQuery",separator:!0,regex:nt.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=a,o.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var l=e[e.length++]=yt();return l}},{name:"directedEdge",separator:!0,regex:nt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=yt(),a=r,i=yt();return n.checks.push({type:Pe.DIRECTED_EDGE,source:a,target:i}),la(e,r,n),e.edgeCount++,i}else{var o=yt(),l=r,f=yt();return o.checks.push({type:Pe.NODE_SOURCE,source:l,target:f}),la(e,r,o),e.edgeCount++,f}}},{name:"undirectedEdge",separator:!0,regex:nt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=yt(),a=r,i=yt();return n.checks.push({type:Pe.UNDIRECTED_EDGE,nodes:[a,i]}),la(e,r,n),e.edgeCount++,i}else{var o=yt(),l=r,f=yt();return o.checks.push({type:Pe.NODE_NEIGHBOR,node:l,neighbor:f}),la(e,r,o),f}}},{name:"child",separator:!0,regex:nt.child,populate:function(e,r){if(e.currentSubject==null){var n=yt(),a=yt(),i=e[e.length-1];return n.checks.push({type:Pe.CHILD,parent:i,child:a}),la(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=yt(),l=e[e.length-1],f=yt(),c=yt(),v=yt(),d=yt();return o.checks.push({type:Pe.COMPOUND_SPLIT,left:l,right:f,subject:c}),c.checks=r.checks,r.checks=[{type:Pe.TRUE}],d.checks.push({type:Pe.TRUE}),f.checks.push({type:Pe.PARENT,parent:d,child:v}),la(e,l,o),e.currentSubject=c,e.compoundCount++,v}else{var g=yt(),m=yt(),p=[{type:Pe.PARENT,parent:g,child:m}];return g.checks=r.checks,r.checks=p,e.compoundCount++,m}}},{name:"descendant",separator:!0,regex:nt.descendant,populate:function(e,r){if(e.currentSubject==null){var n=yt(),a=yt(),i=e[e.length-1];return n.checks.push({type:Pe.DESCENDANT,ancestor:i,descendant:a}),la(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=yt(),l=e[e.length-1],f=yt(),c=yt(),v=yt(),d=yt();return o.checks.push({type:Pe.COMPOUND_SPLIT,left:l,right:f,subject:c}),c.checks=r.checks,r.checks=[{type:Pe.TRUE}],d.checks.push({type:Pe.TRUE}),f.checks.push({type:Pe.ANCESTOR,ancestor:d,descendant:v}),la(e,l,o),e.currentSubject=c,e.compoundCount++,v}else{var g=yt(),m=yt(),p=[{type:Pe.ANCESTOR,ancestor:g,descendant:m}];return g.checks=r.checks,r.checks=p,e.compoundCount++,m}}},{name:"subject",modifier:!0,regex:nt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return ft("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===Pe.DIRECTED_EDGE?a.type=Pe.NODE_TARGET:i===Pe.UNDIRECTED_EDGE&&(a.type=Pe.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];ec.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var dP=function(e){for(var r,n,a,i=0;i<ec.length;i++){var o=ec[i],l=o.name,f=e.match(o.regexObj);if(f!=null){n=f,r=o,a=l;var c=f[0];e=e.substring(c.length);break}}return{expr:r,match:n,name:a,remaining:e}},hP=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},gP=function(e){var r=this,n=r.inputText=e,a=r[0]=yt();for(r.length=1,n=hP(n);;){var i=dP(n);if(i.expr==null)return ft("The selector `"+e+"`is invalid"),!1;var o=i.match.slice(1),l=i.expr.populate(r,a,o);if(l===!1)return!1;if(l!=null&&(a=l),n=i.remaining,n.match(/^\s*$/))break}var f=r[r.length-1];r.currentSubject!=null&&(f.subject=r.currentSubject),f.edgeCount=r.edgeCount,f.compoundCount=r.compoundCount;for(var c=0;c<r.length;c++){var v=r[c];if(v.compoundCount>0&&v.edgeCount>0)return ft("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return ft("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&ft("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},pP=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},r=function(v){return Le(v)?'"'+v+'"':e(v)},n=function(v){return" "+v+" "},a=function(v,d){var g=v.type,m=v.value;switch(g){case Pe.GROUP:{var p=e(m);return p.substring(0,p.length-1)}case Pe.DATA_COMPARE:{var w=v.field,y=v.operator;return"["+w+n(e(y))+r(m)+"]"}case Pe.DATA_BOOL:{var b=v.operator,E=v.field;return"["+e(b)+E+"]"}case Pe.DATA_EXIST:{var S=v.field;return"["+S+"]"}case Pe.META_COMPARE:{var T=v.operator,A=v.field;return"[["+A+n(e(T))+r(m)+"]]"}case Pe.STATE:return m;case Pe.ID:return"#"+m;case Pe.CLASS:return"."+m;case Pe.PARENT:case Pe.CHILD:return i(v.parent,d)+n(">")+i(v.child,d);case Pe.ANCESTOR:case Pe.DESCENDANT:return i(v.ancestor,d)+" "+i(v.descendant,d);case Pe.COMPOUND_SPLIT:{var D=i(v.left,d),P=i(v.subject,d),L=i(v.right,d);return D+(D.length>0?" ":"")+P+L}case Pe.TRUE:return""}},i=function(v,d){return v.checks.reduce(function(g,m,p){return g+(d===v&&p===0?"$":"")+a(m,d)},"")},o="",l=0;l<this.length;l++){var f=this[l];o+=i(f,f.subject),this.length>1&&l<this.length-1&&(o+=", ")}return this.toStringCache=o,o},mP={parse:gP,toString:pP},Mg=function(e,r,n){var a,i=Le(e),o=xe(e),l=Le(n),f,c,v=!1,d=!1,g=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),d=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),v=!0),(i||l||v)&&(f=!i&&!o?"":""+e,c=""+n),v&&(e=f=f.toLowerCase(),n=c=c.toLowerCase()),r){case"*=":a=f.indexOf(c)>=0;break;case"$=":a=f.indexOf(c,f.length-c.length)>=0;break;case"^=":a=f.indexOf(c)===0;break;case"=":a=e===n;break;case">":g=!0,a=e>n;break;case">=":g=!0,a=e>=n;break;case"<":g=!0,a=e<n;break;case"<=":g=!0,a=e<=n;break;default:a=!1;break}return d&&(e!=null||!g)&&(a=!a),a},yP=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},bP=function(e){return e!==void 0},tc=function(e,r){return e.data(r)},wP=function(e,r){return e[r]()},Mt=[],Tt=function(e,r){return e.checks.every(function(n){return Mt[n.type](n,r)})};Mt[Pe.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()},Mt[Pe.STATE]=function(t,e){var r=t.value;return cP(r,e)},Mt[Pe.ID]=function(t,e){var r=t.value;return e.id()===r},Mt[Pe.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)},Mt[Pe.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Mg(wP(e,r),n,a)},Mt[Pe.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Mg(tc(e,r),n,a)},Mt[Pe.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return yP(tc(e,r),n)},Mt[Pe.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,bP(tc(e,r))},Mt[Pe.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return Tt(r,a)&&Tt(n,i)||Tt(n,a)&&Tt(r,i)},Mt[Pe.NODE_NEIGHBOR]=function(t,e){return Tt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Tt(t.neighbor,r)})},Mt[Pe.DIRECTED_EDGE]=function(t,e){return Tt(t.source,e.source())&&Tt(t.target,e.target())},Mt[Pe.NODE_SOURCE]=function(t,e){return Tt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Tt(t.target,r)})},Mt[Pe.NODE_TARGET]=function(t,e){return Tt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Tt(t.source,r)})},Mt[Pe.CHILD]=function(t,e){return Tt(t.child,e)&&Tt(t.parent,e.parent())},Mt[Pe.PARENT]=function(t,e){return Tt(t.parent,e)&&e.children().some(function(r){return Tt(t.child,r)})},Mt[Pe.DESCENDANT]=function(t,e){return Tt(t.descendant,e)&&e.ancestors().some(function(r){return Tt(t.ancestor,r)})},Mt[Pe.ANCESTOR]=function(t,e){return Tt(t.ancestor,e)&&e.descendants().some(function(r){return Tt(t.descendant,r)})},Mt[Pe.COMPOUND_SPLIT]=function(t,e){return Tt(t.subject,e)&&Tt(t.left,e)&&Tt(t.right,e)},Mt[Pe.TRUE]=function(){return!0},Mt[Pe.COLLECTION]=function(t,e){var r=t.value;return r.has(e)},Mt[Pe.FILTER]=function(t,e){var r=t.value;return r(e)};var xP=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Pe.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++){var l=r[o];if(Tt(l,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},EP=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(Tt(a,e))return!0}return!1},SP={matches:EP,filter:xP},fa=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Le(e)&&e.match(/^\s*$/)||(zr(e)?this.addQuery({checks:[{type:Pe.COLLECTION,value:e.collection()}]}):kt(e)?this.addQuery({checks:[{type:Pe.FILTER,value:e}]}):Le(e)?this.parse(e)||(this.invalid=!0):It("A selector must be created from a string; found "))},ca=fa.prototype;[mP,SP].forEach(function(t){return Ne(ca,t)}),ca.text=function(){return this.inputText},ca.size=function(){return this.length},ca.eq=function(t){return this[t]},ca.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},ca.addQuery=function(t){this[this.length++]=t},ca.selector=ca.toString;var va={allAre:function(e){var r=new fa(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new fa(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};va.allAreNeighbours=va.allAreNeighbors,va.has=va.contains,va.equal=va.equals=va.same;var tn=function(e,r){return function(a,i,o,l){var f=a,c=this,v;if(f==null?v="":zr(f)&&f.length===1&&(v=f.id()),c.length===1&&v){var d=c[0]._private,g=d.traversalCache=d.traversalCache||{},m=g[r]=g[r]||[],p=ka(v),w=m[p];return w||(m[p]=e.call(c,a,i,o,l))}else return e.call(c,a,i,o,l)}},Pi={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:tn(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function rc(t,e,r,n){for(var a=[],i=new hi,o=t.cy(),l=o.hasCompoundNodes(),f=0;f<t.length;f++){var c=t[f];r?a.push(c):l&&n(a,i,c)}for(;a.length>0;){var v=a.shift();e(v),i.add(v.id()),l&&n(a,i,v)}return t}function Bg(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}Pi.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return rc(this,t,e,Bg)};function Ng(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}Pi.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return rc(this,t,e,Ng)};function CP(t,e,r){Ng(t,e,r),Bg(t,e,r)}Pi.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return rc(this,t,e,CP)},Pi.ancestors=Pi.parents;var Io,Fg;Io=Fg={data:ct.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ct.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ct.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ct.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ct.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ct.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}},Io.attr=Io.data,Io.removeAttr=Io.removeData;var TP=Fg,Pu={};function nc(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var l=i[o];!e&&l.isLoop()||(n+=t(a,l))}return n}else return}}Ne(Pu,{degree:nc(function(t,e){return e.source().same(e.target())?2:1}),indegree:nc(function(t,e){return e.target().same(t)?1:0}),outdegree:nc(function(t,e){return e.source().same(t)?1:0})});function Ai(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],l=o[t](r);l!==void 0&&(n===void 0||e(l,n))&&(n=l)}return n}}Ne(Pu,{minDegree:Ai("degree",function(t,e){return t<e}),maxDegree:Ai("degree",function(t,e){return t>e}),minIndegree:Ai("indegree",function(t,e){return t<e}),maxIndegree:Ai("indegree",function(t,e){return t>e}),minOutdegree:Ai("outdegree",function(t,e){return t<e}),maxOutdegree:Ai("outdegree",function(t,e){return t>e})}),Ne(Pu,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var yn,zg,$g=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var o=i._private.position,l={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};i.isParent()&&!(l.x===0&&l.y===0)&&i.children().shift(l,n),i.dirtyBoundingBoxCache()}}},qg={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){$g(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};yn=zg={position:ct.data(qg),silentPosition:ct.data(Ne({},qg,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){$g(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(rt(e))r?this.silentPosition(e):this.position(e);else if(kt(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],l=void 0;(l=n(o,i))&&(r?o.silentPosition(l):o.position(l))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(rt(e)?(a={x:xe(e.x)?e.x:0,y:xe(e.y)?e.y:0},n=r):Le(e)&&xe(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var l=this[o];if(!(i.hasCompoundNodes()&&l.isChild()&&l.ancestors().anySame(this))){var f=l.position(),c={x:f.x+a.x,y:f.y+a.y};n?l.silentPosition(c):l.position(c)}}i.endBatch()}return this},silentShift:function(e,r){return rt(e)?this.shift(e,!0):Le(e)&&xe(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),l=rt(e)?e:void 0,f=l!==void 0||r!==void 0&&Le(e);if(n&&n.isNode())if(f)for(var c=0;c<this.length;c++){var v=this[c];r!==void 0?v.position(e,(r-o[e])/i):l!==void 0&&v.position(Hh(l,i,o))}else{var d=n.position();return l=fu(d,i,o),e===void 0?l:l[e]}else if(!f)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=rt(e)?e:void 0,o=i!==void 0||r!==void 0&&Le(e),l=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var f=0;f<this.length;f++){var c=this[f],v=l?c.parent():null,d=v&&v.length>0,g=d;d&&(v=v[0]);var m=g?v.position():{x:0,y:0};r!==void 0?c.position(e,r+m[e]):i!==void 0&&c.position({x:i.x+m.x,y:i.y+m.y})}else{var p=n.position(),w=l?n.parent():null,y=w&&w.length>0,b=y;y&&(w=w[0]);var E=b?w.position():{x:0,y:0};return i={x:p.x-E.x,y:p.y-E.y},e===void 0?i:i[e]}else if(!o)return;return this}},yn.modelPosition=yn.point=yn.position,yn.modelPositions=yn.points=yn.positions,yn.renderedPoint=yn.renderedPosition,yn.relativePoint=yn.relativePosition;var PP=zg,Di,da;Di=da={},da.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,o=e.x2*n+a.x,l=e.y1*n+a.y,f=e.y2*n+a.y;return{x1:i,x2:o,y1:l,y2:f,w:o-i,h:f-l}},da.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)},da.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(o){if(!o.isParent())return;var l=o._private,f=o.children(),c=o.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},d=f.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),g=l.position;(d.w===0||d.h===0)&&(d={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},d.x1=g.x-d.w/2,d.x2=g.x+d.w/2,d.y1=g.y-d.h/2,d.y2=g.y+d.h/2);function m(_,F,N){var B=0,V=0,M=F+N;return _>0&&M>0&&(B=F/M*_,V=N/M*_),{biasDiff:B,biasComplementDiff:V}}function p(_,F,N,B){if(N.units==="%")switch(B){case"width":return _>0?N.pfValue*_:0;case"height":return F>0?N.pfValue*F:0;case"average":return _>0&&F>0?N.pfValue*(_+F)/2:0;case"min":return _>0&&F>0?_>F?N.pfValue*F:N.pfValue*_:0;case"max":return _>0&&F>0?_>F?N.pfValue*_:N.pfValue*F:0;default:return 0}else return N.units==="px"?N.pfValue:0}var w=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(w=w*100/v.width.val);var y=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(y=y*100/v.width.val);var b=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(b=b*100/v.height.val);var E=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(E=E*100/v.height.val);var S=m(v.width.val-d.w,w,y),T=S.biasDiff,A=S.biasComplementDiff,D=m(v.height.val-d.h,b,E),P=D.biasDiff,L=D.biasComplementDiff;l.autoPadding=p(d.w,d.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),l.autoWidth=Math.max(d.w,v.width.val),g.x=(-T+d.x1+d.x2+A)/2,l.autoHeight=Math.max(d.h,v.height.val),g.y=(-P+d.y1+d.y2+L)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var rn=function(e){return e===1/0||e===-1/0?0:e},bn=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Ma=function(e,r){return r==null?e:bn(e,r.x1,r.y1,r.x2,r.y2)},Mo=function(e,r,n){return mn(e,r,n)},Au=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,o=i.arrowWidth/2,l=r.pstyle(n+"-arrow-shape").value,f,c;if(l!=="none"){n==="source"?(f=i.srcX,c=i.srcY):n==="target"?(f=i.tgtX,c=i.tgtY):(f=i.midX,c=i.midY);var v=a.arrowBounds=a.arrowBounds||{},d=v[n]=v[n]||{};d.x1=f-o,d.y1=c-o,d.x2=f+o,d.y2=c+o,d.w=d.x2-d.x1,d.h=d.y2-d.y1,vu(d,1),bn(e,d.x1,d.y1,d.x2,d.y2)}}},ac=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,o=i.rstyle,l=r.pstyle(a+"label").strValue;if(l){var f=r.pstyle("text-halign"),c=r.pstyle("text-valign"),v=Mo(o,"labelWidth",n),d=Mo(o,"labelHeight",n),g=Mo(o,"labelX",n),m=Mo(o,"labelY",n),p=r.pstyle(a+"text-margin-x").pfValue,w=r.pstyle(a+"text-margin-y").pfValue,y=r.isEdge(),b=r.pstyle(a+"text-rotation"),E=r.pstyle("text-outline-width").pfValue,S=r.pstyle("text-border-width").pfValue,T=S/2,A=r.pstyle("text-background-padding").pfValue,D=2,P=d,L=v,_=L/2,F=P/2,N,B,V,M;if(y)N=g-_,B=g+_,V=m-F,M=m+F;else{switch(f.value){case"left":N=g-L,B=g;break;case"center":N=g-_,B=g+_;break;case"right":N=g,B=g+L;break}switch(c.value){case"top":V=m-P,M=m;break;case"center":V=m-F,M=m+F;break;case"bottom":V=m,M=m+P;break}}N+=p-Math.max(E,T)-A-D,B+=p+Math.max(E,T)+A+D,V+=w-Math.max(E,T)-A-D,M+=w+Math.max(E,T)+A+D;var H=n||"main",W=i.labelBounds,q=W[H]=W[H]||{};q.x1=N,q.y1=V,q.x2=B,q.y2=M,q.w=B-N,q.h=M-V;var Y=y&&b.strValue==="autorotate",te=b.pfValue!=null&&b.pfValue!==0;if(Y||te){var re=Y?Mo(i.rstyle,"labelAngle",n):b.pfValue,I=Math.cos(re),$=Math.sin(re),Q=(N+B)/2,ue=(V+M)/2;if(!y){switch(f.value){case"left":Q=B;break;case"right":Q=N;break}switch(c.value){case"top":ue=M;break;case"bottom":ue=V;break}}var ne=function(ze,me){return ze=ze-Q,me=me-ue,{x:ze*I-me*$+Q,y:ze*$+me*I+ue}},Z=ne(N,V),G=ne(N,M),J=ne(B,V),ee=ne(B,M);N=Math.min(Z.x,G.x,J.x,ee.x),B=Math.max(Z.x,G.x,J.x,ee.x),V=Math.min(Z.y,G.y,J.y,ee.y),M=Math.max(Z.y,G.y,J.y,ee.y)}var ce=H+"Rot",ge=W[ce]=W[ce]||{};ge.x1=N,ge.y1=V,ge.x2=B,ge.y2=M,ge.w=B-N,ge.h=M-V,bn(e,N,V,B,M),bn(i.labelBounds.all,N,V,B,M)}return e}},AP=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value;if(n>0&&a>0){var i=r.pstyle("outline-offset").value,o=r.pstyle("shape").value,l=a+i,f=(e.w+l*2)/e.w,c=(e.h+l*2)/e.h,v=0,d=0;["diamond","pentagon","round-triangle"].includes(o)?(f=(e.w+l*2.4)/e.w,d=-l/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?f=(e.w+l*2.4)/e.w:o==="star"?(f=(e.w+l*2.8)/e.w,c=(e.h+l*2.6)/e.h,d=-l/3.8):o==="triangle"?(f=(e.w+l*2.8)/e.w,c=(e.h+l*2.4)/e.h,d=-l/1.4):o==="vee"&&(f=(e.w+l*4.4)/e.w,c=(e.h+l*3.8)/e.h,d=-l*.5);var g=e.h*c-e.h,m=e.w*f-e.w;if(du(e,[Math.ceil(g/2),Math.ceil(m/2)]),v!=0||d!==0){var p=Y2(e,v,d);Kh(e,p)}}}},DP=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),o=Ar(),l=e._private,f=e.isNode(),c=e.isEdge(),v,d,g,m,p,w,y=l.rstyle,b=f&&a?e.pstyle("bounds-expansion").pfValue:[0],E=function(Ae){return Ae.pstyle("display").value!=="none"},S=!a||E(e)&&(!c||E(e.source())&&E(e.target()));if(S){var T=0,A=0;a&&r.includeOverlays&&(T=e.pstyle("overlay-opacity").value,T!==0&&(A=e.pstyle("overlay-padding").value));var D=0,P=0;a&&r.includeUnderlays&&(D=e.pstyle("underlay-opacity").value,D!==0&&(P=e.pstyle("underlay-padding").value));var L=Math.max(A,P),_=0,F=0;if(a&&(_=e.pstyle("width").pfValue,F=_/2),f&&r.includeNodes){var N=e.position();p=N.x,w=N.y;var B=e.outerWidth(),V=B/2,M=e.outerHeight(),H=M/2;v=p-V,d=p+V,g=w-H,m=w+H,bn(o,v,g,d,m),a&&r.includeOutlines&&AP(o,e)}else if(c&&r.includeEdges)if(a&&!i){var W=e.pstyle("curve-style").strValue;if(v=Math.min(y.srcX,y.midX,y.tgtX),d=Math.max(y.srcX,y.midX,y.tgtX),g=Math.min(y.srcY,y.midY,y.tgtY),m=Math.max(y.srcY,y.midY,y.tgtY),v-=F,d+=F,g-=F,m+=F,bn(o,v,g,d,m),W==="haystack"){var q=y.haystackPts;if(q&&q.length===2){if(v=q[0].x,g=q[0].y,d=q[1].x,m=q[1].y,v>d){var Y=v;v=d,d=Y}if(g>m){var te=g;g=m,m=te}bn(o,v-F,g-F,d+F,m+F)}}else if(W==="bezier"||W==="unbundled-bezier"||W.endsWith("segments")||W.endsWith("taxi")){var re;switch(W){case"bezier":case"unbundled-bezier":re=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":re=y.linePts;break}if(re!=null)for(var I=0;I<re.length;I++){var $=re[I];v=$.x-F,d=$.x+F,g=$.y-F,m=$.y+F,bn(o,v,g,d,m)}}}else{var Q=e.source(),ue=Q.position(),ne=e.target(),Z=ne.position();if(v=ue.x,d=Z.x,g=ue.y,m=Z.y,v>d){var G=v;v=d,d=G}if(g>m){var J=g;g=m,m=J}v-=F,d+=F,g-=F,m+=F,bn(o,v,g,d,m)}if(a&&r.includeEdges&&c&&(Au(o,e,"mid-source"),Au(o,e,"mid-target"),Au(o,e,"source"),Au(o,e,"target")),a){var ee=e.pstyle("ghost").value==="yes";if(ee){var ce=e.pstyle("ghost-offset-x").pfValue,ge=e.pstyle("ghost-offset-y").pfValue;bn(o,o.x1+ce,o.y1+ge,o.x2+ce,o.y2+ge)}}var De=l.bodyBounds=l.bodyBounds||{};Yh(De,o),du(De,b),vu(De,1),a&&(v=o.x1,d=o.x2,g=o.y1,m=o.y2,bn(o,v-L,g-L,d+L,m+L));var ze=l.overlayBounds=l.overlayBounds||{};Yh(ze,o),du(ze,b),vu(ze,1);var me=l.labelBounds=l.labelBounds||{};me.all!=null?K2(me.all):me.all=Ar(),a&&r.includeLabels&&(r.includeMainLabels&&ac(o,e,null),c&&(r.includeSourceLabels&&ac(o,e,"source"),r.includeTargetLabels&&ac(o,e,"target")))}return o.x1=rn(o.x1),o.y1=rn(o.y1),o.x2=rn(o.x2),o.y2=rn(o.y2),o.w=rn(o.x2-o.x1),o.h=rn(o.y2-o.y1),o.w>0&&o.h>0&&S&&(du(o,b),vu(o,1)),o},Vg=function(e){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a+=n(e.includeOutlines),a},Wg=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),a=function(o){return Math.round(o)};return h2([a(r.x),a(r.y),a(n.x),a(n.y)])}else return 0},Ug=function(e,r){var n=e._private,a,i=e.isEdge(),o=r==null?Hg:Vg(r),l=o===Hg,f=Wg(e),c=n.bbCachePosKey===f,v=r.useCache&&c,d=function(w){return w._private.bbCache==null||w._private.styleDirty},g=!v||d(e)||i&&d(e.source())||d(e.target());if(g?(c||e.recalculateRenderedStyle(v),a=DP(e,Bo),n.bbCache=a,n.bbCachePosKey=f):a=n.bbCache,!l){var m=e.isNode();a=Ar(),(r.includeNodes&&m||r.includeEdges&&!m)&&(r.includeOverlays?Ma(a,n.overlayBounds):Ma(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?Ma(a,n.labelBounds.all):(r.includeMainLabels&&Ma(a,n.labelBounds.mainRot),r.includeSourceLabels&&Ma(a,n.labelBounds.sourceRot),r.includeTargetLabels&&Ma(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Bo={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Hg=Vg(Bo),Gg=ar(Bo);da.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=Bo:t=Gg(t),e=Ug(this[0],t);else{e=Ar(),t=t||Bo;var r=Gg(t),n=this,a=n.cy(),i=a.styleEnabled();if(i)for(var o=0;o<n.length;o++){var l=n[o],f=l._private,c=Wg(l),v=f.bbCachePosKey===c,d=r.useCache&&v&&!f.styleDirty;l.recalculateRenderedStyle(d)}this.updateCompoundBounds(!t.useCache);for(var g=0;g<n.length;g++){var m=n[g];Ma(e,Ug(m,r))}}return e.x1=rn(e.x1),e.y1=rn(e.y1),e.x2=rn(e.x2),e.y2=rn(e.y2),e.w=rn(e.x2-e.x1),e.h=rn(e.y2-e.y1),e},da.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},da.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(c){return c.isParent()}),e=e.not(a)),rt(t)){var i=t;t=function(){return i}}var o=function(v,d){return v._private.bbAtOldPos=t(v,d)},l=function(v){return v._private.bbAtOldPos};r.startBatch(),e.forEach(o).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var f=G2(this.boundingBox({useCache:!1}));return e.silentPositions(l),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),f},Di.boundingbox=Di.bb=Di.boundingBox,Di.renderedBoundingbox=Di.renderedBoundingBox;var kP=da,No,Fo;No=Fo={};var Kg=function(e){e.uppercaseName=Th(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Th(e.outerName),No[e.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var l=n.pstyle(e.name);switch(l.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return l.pfValue}}else return 1},No["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var l=n[e.name](),f=n.pstyle("border-width").pfValue,c=2*n.padding();return l+f+c}else return 1},No["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},No["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};Kg({name:"width"}),Kg({name:"height"}),Fo.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},Fo.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()},Fo.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var _P=Fo,RP=function(e,r){if(e.isEdge())return r(e)},OP=function(e,r){if(e.isEdge()){var n=e.cy();return fu(r(e),n.zoom(),n.pan())}},LP=function(e,r){if(e.isEdge()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(o){return fu(o,i,a)})}},IP=function(e){return e.renderer().getControlPoints(e)},MP=function(e){return e.renderer().getSegmentPoints(e)},BP=function(e){return e.renderer().getSourceEndpoint(e)},NP=function(e){return e.renderer().getTargetEndpoint(e)},FP=function(e){return e.renderer().getEdgeMidpoint(e)},Yg={controlPoints:{get:IP,mult:!0},segmentPoints:{get:MP,mult:!0},sourceEndpoint:{get:BP},targetEndpoint:{get:NP},midpoint:{get:FP}},zP=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},$P=Object.keys(Yg).reduce(function(t,e){var r=Yg[e],n=zP(e);return t[e]=function(){return RP(this,r.get)},r.mult?t[n]=function(){return LP(this,r.get)}:t[n]=function(){return OP(this,r.get)},t},{}),qP=Ne({},PP,kP,_P,$P);/*!
  Event object based on jQuery events, MIT license

  https://jquery.org/license/
  https://tldrlegal.com/license/mit-license
  https://github.com/jquery/jquery/blob/master/src/event.js
  */var Xg=function(e,r){this.recycle(e,r)};function zo(){return!1}function Du(){return!0}Xg.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=zo,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Du:zo):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Du;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Du;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Du,this.stopPropagation()},isDefaultPrevented:zo,isPropagationStopped:zo,isImmediatePropagationStopped:zo};var Zg=/^([^.]+)(\.(?:[^.]+))?$/,VP=".*",Qg={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Jg=Object.keys(Qg),WP={};function ku(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:WP,e=arguments.length>1?arguments[1]:void 0,r=0;r<Jg.length;r++){var n=Jg[r];this[n]=t[n]||Qg[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ha=ku.prototype,jg=function(e,r,n,a,i,o,l){kt(a)&&(i=a,a=null),l&&(o==null?o=l:o=Ne({},o,l));for(var f=bt(n)?n:n.split(/\s+/),c=0;c<f.length;c++){var v=f[c];if(!aa(v)){var d=v.match(Zg);if(d){var g=d[1],m=d[2]?d[2]:null,p=r(e,v,g,m,a,i,o);if(p===!1)break}}}},ep=function(e,r){return e.addEventFields(e.context,r),new Xg(r.type,r)},UP=function(e,r,n){if(fE(n)){r(e,n);return}else if(rt(n)){r(e,ep(e,n));return}for(var a=bt(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!aa(o)){var l=o.match(Zg);if(l){var f=l[1],c=l[2]?l[2]:null,v=ep(e,{type:f,namespace:c,target:e.context});r(e,v)}}}};ha.on=ha.addListener=function(t,e,r,n,a){return jg(this,function(i,o,l,f,c,v,d){kt(v)&&i.listeners.push({event:o,callback:v,type:l,namespace:f,qualifier:c,conf:d})},t,e,r,n,a),this},ha.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})},ha.removeListener=ha.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=b2(this.listeners));for(var i=this.listeners,o=function(c){var v=i[c];jg(a,function(d,g,m,p,w,y){if((v.type===m||t==="*")&&(!p&&v.namespace!==".*"||v.namespace===p)&&(!w||d.qualifierCompare(v.qualifier,w))&&(!y||v.callback===y))return i.splice(c,1),!1},t,e,r,n)},l=i.length-1;l>=0;l--)o(l);return this},ha.removeAllListeners=function(){return this.removeListener("*")},ha.emit=ha.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,bt(e)||(e=[e]),UP(this,function(i,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var l=function(v){var d=n[v];if(d.type===o.type&&(!d.namespace||d.namespace===o.namespace||d.namespace===VP)&&i.eventMatches(i.context,d,o)){var g=[o];e!=null&&x2(g,e),i.beforeEmit(i.context,d,o),d.conf&&d.conf.one&&(i.listeners=i.listeners.filter(function(w){return w!==d}));var m=i.callbackContext(i.context,d,o),p=d.callback.apply(m,g);i.afterEmit(i.context,d,o),p===!1&&(o.stopPropagation(),o.preventDefault())}},f=0;f<a;f++)l(f);i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,e)},t),this.emitting--,this};var HP={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&bo(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},_u=function(e){return Le(e)?new fa(e):e},tp={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new ku(HP,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=_u(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=_u(r),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=_u(r),i=0;i<this.length;i++){var o=this[i];o.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=_u(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};ct.eventAliasesOn(tp);var rp={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Le(e)||zr(e))return new fa(e).filter(this);if(kt(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],l=r?e.apply(r,[o,i,a]):e(o,i,a);l&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){Le(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Le(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,o=this.length<e.length,l=o?a:i,f=o?i:a,c=0;c<l.length;c++){var v=l[c];f.has(v)&&n.push(v)}return n},xor:function(e){var r=this._private.cy;Le(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,o=function(f,c){for(var v=0;v<f.length;v++){var d=f[v],g=d._private.data.id,m=c.hasElementWithId(g);m||n.push(d)}};return o(a,i),o(i,a),n},diff:function(e){var r=this._private.cy;Le(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,l=e,f=function(v,d,g){for(var m=0;m<v.length;m++){var p=v[m],w=p._private.data.id,y=d.hasElementWithId(w);y?i.merge(p):g.push(p)}};return f(o,l,n),f(l,o,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(Le(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var o=e[i],l=!this.has(o);l&&a.push(o)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Le(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<e.length;o++){var l=e[o],f=l._private.data.id,c=!i.has(f);if(c){var v=this.length++;this[v]=l,i.set(f,{ele:l,index:v})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var l=this.length-1,f=this[l],c=f._private.data.id;this[l]=void 0,this[e]=f,i.set(c,{ele:f,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Le(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],l=r?e.apply(r,[o,i,a]):e(o,i,a);n.push(l)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var l=i[o],f=r?e.apply(r,[l,o,i]):e(l,o,i);f>n&&(n=f,a=l)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var l=i[o],f=r?e.apply(r,[l,o,i]):e(l,o,i);f<n&&(n=f,a=l)}return{value:n,ele:a}}},it=rp;it.u=it["|"]=it["+"]=it.union=it.or=it.add,it["\\"]=it["!"]=it["-"]=it.difference=it.relativeComplement=it.subtract=it.not,it.n=it["&"]=it["."]=it.and=it.intersection=it.intersect,it["^"]=it["(+)"]=it["(-)"]=it.symmetricDifference=it.symdiff=it.xor,it.fnFilter=it.filterFn=it.stdFilter=it.filter,it.complement=it.abscomp=it.absoluteComplement;var GP={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},np=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(v){var d=v.pstyle("z-compound-depth");return d.value==="auto"?a?v.zDepth():0:d.value==="bottom"?-1:d.value==="top"?Mf:0}var o=i(e)-i(r);if(o!==0)return o;function l(v){var d=v.pstyle("z-index-compare");return d.value==="auto"&&v.isNode()?1:0}var f=l(e)-l(r);if(f!==0)return f;var c=e.pstyle("z-index").value-r.pstyle("z-index").value;return c!==0?c:e.poolIndex()-r.poolIndex()},Ru={forEach:function(e,r){if(kt(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=r?e.apply(r,[i,a,this]):e(i,a,this);if(o===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!kt(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(np)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:Mf-1}else{var i=r.source,o=r.target,l=i.zDepth(),f=o.zDepth();return Math.max(l,f,0)}}}};Ru.each=Ru.forEach;var KP=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Ht(Symbol))!=e&&Ht(Symbol.iterator)!=e;r&&(Ru[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return mh({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};KP();var YP=ar({nodeDimensionsIncludeLabels:!1}),Ou={layoutDimensions:function(e){e=YP(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(A){return!A.isParent()}),i=this.cy(),o=r.eles,l=function(D){return D.id()},f=wo(n,l);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=function(D,P,L){var _={x:P.x1+P.w/2,y:P.y1+P.h/2},F={x:(L.x-_.x)*D,y:(L.y-_.y)*D};return{x:_.x+F.x,y:_.y+F.y}},v=r.spacingFactor&&r.spacingFactor!==1,d=function(){if(!v)return null;for(var D=Ar(),P=0;P<a.length;P++){var L=a[P],_=f(L,P);X2(D,_.x,_.y)}return D},g=d(),m=wo(function(A,D){var P=f(A,D);if(v){var L=Math.abs(r.spacingFactor);P=c(L,g,P)}return r.transform!=null&&(P=r.transform(A,P)),P},l);if(r.animate){for(var p=0;p<a.length;p++){var w=a[p],y=m(w,p),b=r.animateFilter==null||r.animateFilter(w,p);if(b){var E=w.animation({position:y,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(E)}else w.position(y)}if(r.fit){var S=i.animation({fit:{boundingBox:o.boundingBoxAt(m),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(S)}else if(r.zoom!==void 0&&r.pan!==void 0){var T=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(T)}e.animations.forEach(function(A){return A.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),xi.all(e.animations.map(function(A){return A.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(m),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Ne({},e,{eles:this}))}};Ou.createLayout=Ou.makeLayout=Ou.layout;function ap(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function Lu(t,e){return t=ka(t),function(n){return ap(t,e,n)}}function Iu(t,e){t=ka(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return ap(t,r,a)}}var ir={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return e?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(l){return l._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(rt(e)){var o=e;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(Le(e))if(r===void 0){var l=this[0];return l?i.getStylePropertyValue(l,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var f=this[0];return f?i.getRawStyle(f):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var o=0;o<i.length;o++){var l=i[o];a.removeAllBypasses(l,n)}else{e=e.split(/\s+/);for(var f=0;f<i.length;f++){var c=i[f];a.removeBypasses(c,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var l=0;l<o.length;l++){var f=o[l],c=f.pstyle("opacity").value;i=c*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function ic(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function oc(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var l=i._private;if(!e(i))return!1;if(i.isNode())return!o||ic(i,n);var f=l.source,c=l.target;return r(f)&&(!o||ic(f,r))&&(f===c||r(c)&&(!o||ic(c,r)))}}}var ki=Lu("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});ir.takesUpSpace=Iu("takesUpSpace",oc({ok:ki}));var XP=Lu("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&ki(t)}),ZP=Lu("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&ki(t)});ir.interactive=Iu("interactive",oc({ok:XP,parentOk:ZP,edgeOkViaNode:ki})),ir.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var QP=Lu("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&ki(t)}),JP=ki;ir.visible=Iu("visible",oc({ok:QP,edgeOkViaNode:JP})),ir.hidden=function(){var t=this[0];if(t)return!t.visible()},ir.isBundledBezier=Iu("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1}),ir.bypass=ir.css=ir.style,ir.renderedCss=ir.renderedStyle,ir.removeBypass=ir.removeCss=ir.removeStyle,ir.pstyle=ir.parsedStyle;var ga={};function ip(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&kt(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&bt(e[0])){for(var o=e.length===1?e[0]:null,l=0;l<this.length;l++){var f=this[l],c=!t.ableField||f._private[t.ableField],v=f._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(f);if(d!==void 0&&(c=d,!d))return this}c&&(f._private[t.field]=t.value,v&&r.push(f))}var g=this.spawn(r);g.updateStyle(),g.emit(t.event),o&&g.emit(o)}return this}}function _i(t){ga[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},ga[t.on]=ip({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),ga[t.off]=ip({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}_i({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"}),_i({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"}),_i({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"}),_i({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"}),ga.deselect=ga.unselect,ga.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},_i({field:"active",on:"activate",off:"unactivate"}),_i({field:"pannable",on:"panify",off:"unpanify"}),ga.inactive=function(){var t=this[0];if(t)return!t._private.active};var dr={},op=function(e){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var l=a[o];if(l.isNode()){for(var f=!1,c=l.connectedEdges(),v=0;v<c.length;v++){var d=c[v],g=d.source(),m=d.target();if(e.noIncomingEdges&&m===l&&g!==l||e.noOutgoingEdges&&g===l&&m!==l){f=!0;break}}f||i.push(l)}}return this.spawn(i,!0).filter(n)}},sp=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var l=o.connectedEdges(),f=0;f<l.length;f++){var c=l[f],v=c.source(),d=c.target();e.outgoing&&v===o?(a.push(c),a.push(d)):e.incoming&&d===o&&(a.push(c),a.push(v))}}return this.spawn(a,!0).filter(r)}},up=function(e){return function(r){for(var n=this,a=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var l=!1,f=0;f<o.length;f++){var c=o[f],v=c.id();i[v]||(i[v]=!0,a.push(c),l=!0)}if(!l)break;n=o}return this.spawn(a,!0).filter(r)}};dr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},Ne(dr,{roots:op({noIncomingEdges:!0}),leaves:op({noOutgoingEdges:!0}),outgoers:tn(sp({outgoing:!0}),"outgoers"),successors:up({outgoing:!0}),incomers:tn(sp({incoming:!0}),"incomers"),predecessors:up({incoming:!0})}),Ne(dr,{neighborhood:tn(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var l=i[o],f=l.source(),c=l.target(),v=a===f?c:f;v.length>0&&e.push(v[0]),e.push(l[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),dr.neighbourhood=dr.neighborhood,dr.closedNeighbourhood=dr.closedNeighborhood,dr.openNeighbourhood=dr.openNeighborhood,Ne(dr,{source:tn(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:tn(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:lp({attr:"source"}),targets:lp({attr:"target"})});function lp(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[t.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}Ne(dr,{edgesWith:tn(fp(),"edgesWith"),edgesTo:tn(fp({thisIsSrc:!0}),"edgesTo")});function fp(t){return function(r){var n=[],a=this._private.cy,i=t||{};Le(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var l=r[o]._private.edges,f=0;f<l.length;f++){var c=l[f],v=c._private.data,d=this.hasElementWithId(v.source)&&r.hasElementWithId(v.target),g=r.hasElementWithId(v.source)&&this.hasElementWithId(v.target),m=d||g;m&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!d||i.thisIsTgt&&!g)||n.push(c))}return this.spawn(n,!0)}}Ne(dr,{connectedEdges:tn(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var l=i[o];e.push(l)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:tn(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:tn(cp(),"parallelEdges"),codirectedEdges:tn(cp({codirected:!0}),"codirectedEdges")});function cp(t){var e={codirected:!1};return t=Ne({},e,t),function(n){for(var a=[],i=this.edges(),o=t,l=0;l<i.length;l++)for(var f=i[l],c=f._private,v=c.source,d=v._private.data.id,g=c.data.target,m=v._private.edges,p=0;p<m.length;p++){var w=m[p],y=w._private.data,b=y.target,E=y.source,S=b===g&&E===d,T=d===b&&g===E;(o.codirected&&S||!o.codirected&&(S||T))&&a.push(w)}return this.spawn(a,!0).filter(n)}}Ne(dr,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),o=[];e!=null&&i.empty()&&(i=e.sources());var l=function(v,d){a.merge(v),i.unmerge(v),d.merge(v)};if(i.empty())return r.spawn();var f=function(){var v=n.collection();o.push(v);var d=i[0];l(d,v),r.bfs({directed:!1,roots:d,visit:function(m){return l(m,v)}}),v.forEach(function(g){g.connectedEdges().forEach(function(m){r.has(m)&&v.has(m.source())&&v.has(m.target())&&v.merge(m)})})};do f();while(i.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),dr.componentsOf=dr.components;var or=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){It("A collection must have a reference to the core");return}var i=new kn,o=!1;if(!r)r=[];else if(r.length>0&&rt(r[0])&&!bo(r[0])){o=!0;for(var l=[],f=new hi,c=0,v=r.length;c<v;c++){var d=r[c];d.data==null&&(d.data={});var g=d.data;if(g.id==null)g.id=Vh();else if(e.hasElementWithId(g.id)||f.has(g.id))continue;var m=new lu(e,d,!1);l.push(m),f.add(g.id)}r=l}this.length=0;for(var p=0,w=r.length;p<w;p++){var y=r[p][0];if(y!=null){var b=y._private.data.id;(!n||!i.has(b))&&(n&&i.set(b,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(E){this.lazyMap=E},rebuildMap:function(){for(var S=this.lazyMap=new kn,T=this.eles,A=0;A<T.length;A++){var D=T[A];S.set(D.id(),{index:A,ele:D})}}},n&&(this._private.map=i),o&&!a&&this.restore()},xt=lu.prototype=or.prototype=Object.create(Array.prototype);xt.instanceString=function(){return"collection"},xt.spawn=function(t,e){return new or(this.cy(),t,e)},xt.spawnSelf=function(){return this.spawn(this)},xt.cy=function(){return this._private.cy},xt.renderer=function(){return this._private.cy.renderer()},xt.element=function(){return this[0]},xt.collection=function(){return Eh(this)?this:new or(this._private.cy,[this])},xt.unique=function(){return new or(this._private.cy,this,!0)},xt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)},xt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new or(e)},xt.$id=xt.getElementById,xt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index},xt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index},xt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index},xt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(rt(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,o={},l=t.data.source,f=t.data.target;l!=null&&l!=a.source&&(o.source=""+l,i=!0),f!=null&&f!=a.target&&(o.target=""+f,i=!0),i&&(e=e.move(o))}else{var c="parent"in t.data,v=t.data.parent;c&&(v!=null||a.parent!=null)&&v!=a.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}t.position&&e.position(t.position);var d=function(w,y,b){var E=t[w];E!=null&&E!==n[w]&&(E?e[y]():e[b]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var g={data:Dn(n.data),position:Dn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};g.classes="";var m=0;return n.classes.forEach(function(p){return g.classes+=m++===0?p:" "+p}),g}}},xt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t},xt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new lu(t,a,!1);e.push(i)}return new or(t,e)},xt.copy=xt.clone,xt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],o=[],l,f=0,c=r.length;f<c;f++){var v=r[f];e&&!v.removed()||(v.isNode()?i.push(v):o.push(v))}l=i.concat(o);var d,g=function(){l.splice(d,1),d--};for(d=0;d<l.length;d++){var m=l[d],p=m._private,w=p.data;if(m.clearTraversalCache(),!(!e&&!p.removed)){if(w.id===void 0)w.id=Vh();else if(xe(w.id))w.id=""+w.id;else if(aa(w.id)||!Le(w.id)){It("Can not create element with invalid string ID `"+w.id+"`"),g();continue}else if(n.hasElementWithId(w.id)){It("Can not create second element with ID `"+w.id+"`"),g();continue}}var y=w.id;if(m.isNode()){var b=p.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(m.isEdge()){for(var E=m,S=["source","target"],T=S.length,A=!1,D=0;D<T;D++){var P=S[D],L=w[P];xe(L)&&(L=w[P]=""+w[P]),L==null||L===""?(It("Can not create edge `"+y+"` with unspecified "+P),A=!0):n.hasElementWithId(L)||(It("Can not create edge `"+y+"` with nonexistant "+P+" `"+L+"`"),A=!0)}if(A){g();continue}var _=n.getElementById(w.source),F=n.getElementById(w.target);_.same(F)?_._private.edges.push(E):(_._private.edges.push(E),F._private.edges.push(E)),E._private.source=_,E._private.target=F}p.map=new kn,p.map.set(y,{ele:m,index:0}),p.removed=!1,e&&n.addToPool(m)}for(var N=0;N<i.length;N++){var B=i[N],V=B._private.data;xe(V.parent)&&(V.parent=""+V.parent);var M=V.parent,H=M!=null;if(H||B._private.parent){var W=B._private.parent?n.collection().merge(B._private.parent):n.getElementById(M);if(W.empty())V.parent=void 0;else if(W[0].removed())ft("Node added with missing parent, reference to parent removed"),V.parent=void 0,B._private.parent=null;else{for(var q=!1,Y=W;!Y.empty();){if(B.same(Y)){q=!0,V.parent=void 0;break}Y=Y.parent()}q||(W[0]._private.children.push(B),B._private.parent=W[0],a.hasCompoundNodes=!0)}}}if(l.length>0){for(var te=l.length===r.length?r:new or(n,l),re=0;re<te.length;re++){var I=te[re];I.isNode()||(I.parallelEdges().clearTraversalCache(),I.source().clearTraversalCache(),I.target().clearTraversalCache())}var $;a.hasCompoundNodes?$=n.collection().merge(te).merge(te.connectedNodes()).merge(te.parent()):$=te,$.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?te.emitAndNotify("add"):e&&te.emit("add")}return r},xt.removed=function(){var t=this[0];return t&&t._private.removed},xt.inside=function(){var t=this[0];return t&&!t._private.removed},xt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function o(M){for(var H=M._private.edges,W=0;W<H.length;W++)f(H[W])}function l(M){for(var H=M._private.children,W=0;W<H.length;W++)f(H[W])}function f(M){var H=a[M.id()];e&&M.removed()||H||(a[M.id()]=!0,M.isNode()?(n.push(M),o(M),l(M)):n.unshift(M))}for(var c=0,v=r.length;c<v;c++){var d=r[c];f(d)}function g(M,H){var W=M._private.edges;oa(W,H),M.clearTraversalCache()}function m(M){M.clearTraversalCache()}var p=[];p.ids={};function w(M,H){H=H[0],M=M[0];var W=M._private.children,q=M.id();oa(W,H),H._private.parent=null,p.ids[q]||(p.ids[q]=!0,p.push(M))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var y=0;y<n.length;y++){var b=n[y];if(b.isEdge()){var E=b.source()[0],S=b.target()[0];g(E,b),g(S,b);for(var T=b.parallelEdges(),A=0;A<T.length;A++){var D=T[A];m(D),D.isBundledBezier()&&D.dirtyBoundingBoxCache()}}else{var P=b.parent();P.length!==0&&w(P,b)}e&&(b._private.removed=!0)}var L=i._private.elements;i._private.hasCompoundNodes=!1;for(var _=0;_<L.length;_++){var F=L[_];if(F.isParent()){i._private.hasCompoundNodes=!0;break}}var N=new or(this.cy(),n);N.size()>0&&(t?N.emitAndNotify("remove"):e&&N.emit("remove"));for(var B=0;B<p.length;B++){var V=p[B];(!e||!V.removed())&&V.updateStyle()}return N},xt.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(p){return p==null?p:""+p};if(t.source!==void 0||t.target!==void 0){var o=i(t.source),l=i(t.target),f=o!=null&&e.hasElementWithId(o),c=l!=null&&e.hasElementWithId(l);(f||c)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var p=r[m],w=p._private.data;p.isEdge()&&(f&&(w.source=o),c&&(w.target=l))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var v=i(t.parent),d=v===null||e.hasElementWithId(v);if(d){var g=v===null?void 0:v;e.batch(function(){var m=r.remove(n,a);m.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var w=r[p],y=w._private.data;w.isNode()&&(y.parent=g)}m.restore(n,a)}),r.emitAndNotify("move")}}return this},[gg,lP,Tu,va,Pi,TP,Pu,qP,tp,rp,GP,Ru,Ou,ir,ga,dr].forEach(function(t){Ne(xt,t)});var jP={add:function(e){var r,n=this;if(zr(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++){var l=a[o];i.push(l.json())}r=new or(n,i)}}else if(bt(e)){var f=e;r=new or(n,f)}else if(rt(e)&&(bt(e.nodes)||bt(e.edges))){for(var c=e,v=[],d=["nodes","edges"],g=0,m=d.length;g<m;g++){var p=d[g],w=c[p];if(bt(w))for(var y=0,b=w.length;y<b;y++){var E=Ne({group:p},w[y]);v.push(E)}}r=new or(n,v)}else{var S=e;r=new lu(n,S).collection()}return r},remove:function(e){if(!zr(e)){if(Le(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function eA(t,e,r,n){var a=4,i=.001,o=1e-7,l=10,f=11,c=1/(f-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var g=v?new Float32Array(f):new Array(f);function m(F,N){return 1-3*N+3*F}function p(F,N){return 3*N-6*F}function w(F){return 3*F}function y(F,N,B){return((m(N,B)*F+p(N,B))*F+w(N))*F}function b(F,N,B){return 3*m(N,B)*F*F+2*p(N,B)*F+w(N)}function E(F,N){for(var B=0;B<a;++B){var V=b(N,t,r);if(V===0)return N;var M=y(N,t,r)-F;N-=M/V}return N}function S(){for(var F=0;F<f;++F)g[F]=y(F*c,t,r)}function T(F,N,B){var V,M,H=0;do M=N+(B-N)/2,V=y(M,t,r)-F,V>0?B=M:N=M;while(Math.abs(V)>o&&++H<l);return M}function A(F){for(var N=0,B=1,V=f-1;B!==V&&g[B]<=F;++B)N+=c;--B;var M=(F-g[B])/(g[B+1]-g[B]),H=N+M*c,W=b(H,t,r);return W>=i?E(F,H):W===0?H:T(F,N,N+c)}var D=!1;function P(){D=!0,(t!==e||r!==n)&&S()}var L=function(N){return D||P(),t===e&&r===n?N:N===0?0:N===1?1:y(A(N),e,n)};L.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var _="generateBezier("+[t,e,r,n]+")";return L.toString=function(){return _},L}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var tA=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:t(o)}}function r(n,a){var i={dx:n.v,dv:t(n)},o=e(n,a*.5,i),l=e(n,a*.5,o),f=e(n,a,l),c=1/6*(i.dx+2*(o.dx+l.dx)+f.dx),v=1/6*(i.dv+2*(o.dv+l.dv)+f.dv);return n.x=n.x+c*a,n.v=n.v+v*a,n}return function n(a,i,o){var l={x:-1,v:0,tension:null,friction:null},f=[0],c=0,v=1/1e4,d=16/1e3,g,m,p;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,l.tension=a,l.friction=i,g=o!==null,g?(c=n(a,i),m=c/o*d):m=d;p=r(p||l,m),f.push(1+p.x),c+=16,Math.abs(p.x)>v&&Math.abs(p.v)>v;);return g?function(w){return f[w*(f.length-1)|0]}:c}}(),Et=function(e,r,n,a){var i=eA(e,r,n,a);return function(o,l,f){return o+(l-o)*i(f)}},Mu={linear:function(e,r,n){return e+(r-e)*n},ease:Et(.25,.1,.25,1),"ease-in":Et(.42,0,1,1),"ease-out":Et(0,0,.58,1),"ease-in-out":Et(.42,0,.58,1),"ease-in-sine":Et(.47,0,.745,.715),"ease-out-sine":Et(.39,.575,.565,1),"ease-in-out-sine":Et(.445,.05,.55,.95),"ease-in-quad":Et(.55,.085,.68,.53),"ease-out-quad":Et(.25,.46,.45,.94),"ease-in-out-quad":Et(.455,.03,.515,.955),"ease-in-cubic":Et(.55,.055,.675,.19),"ease-out-cubic":Et(.215,.61,.355,1),"ease-in-out-cubic":Et(.645,.045,.355,1),"ease-in-quart":Et(.895,.03,.685,.22),"ease-out-quart":Et(.165,.84,.44,1),"ease-in-out-quart":Et(.77,0,.175,1),"ease-in-quint":Et(.755,.05,.855,.06),"ease-out-quint":Et(.23,1,.32,1),"ease-in-out-quint":Et(.86,0,.07,1),"ease-in-expo":Et(.95,.05,.795,.035),"ease-out-expo":Et(.19,1,.22,1),"ease-in-out-expo":Et(1,0,0,1),"ease-in-circ":Et(.6,.04,.98,.335),"ease-out-circ":Et(.075,.82,.165,1),"ease-in-out-circ":Et(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Mu.linear;var a=tA(e,r,n);return function(i,o,l){return i+(o-i)*a(l)}},"cubic-bezier":Et};function vp(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function dp(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Ri(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var o=dp(t,a),l=dp(e,a);if(xe(o)&&xe(l))return vp(i,o,l,r,n);if(bt(o)&&bt(l)){for(var f=[],c=0;c<l.length;c++){var v=o[c],d=l[c];if(v!=null&&d!=null){var g=vp(i,v,d,r,n);f.push(g)}else f.push(d)}return f}}function rA(t,e,r,n){var a=!n,i=t._private,o=e._private,l=o.easing,f=o.startTime,c=n?t:t.cy(),v=c.style();if(!o.easingImpl)if(l==null)o.easingImpl=Mu.linear;else{var d;if(Le(l)){var g=v.parse("transition-timing-function",l);d=g.value}else d=l;var m,p;Le(d)?(m=d,p=[]):(m=d[1],p=d.slice(2).map(function(te){return+te})),p.length>0?(m==="spring"&&p.push(o.duration),o.easingImpl=Mu[m].apply(null,p)):o.easingImpl=Mu[m]}var w=o.easingImpl,y;if(o.duration===0?y=1:y=(r-f)/o.duration,o.applying&&(y=o.progress),y<0?y=0:y>1&&(y=1),o.delay==null){var b=o.startPosition,E=o.position;if(E&&a&&!t.locked()){var S={};$o(b.x,E.x)&&(S.x=Ri(b.x,E.x,y,w)),$o(b.y,E.y)&&(S.y=Ri(b.y,E.y,y,w)),t.position(S)}var T=o.startPan,A=o.pan,D=i.pan,P=A!=null&&n;P&&($o(T.x,A.x)&&(D.x=Ri(T.x,A.x,y,w)),$o(T.y,A.y)&&(D.y=Ri(T.y,A.y,y,w)),t.emit("pan"));var L=o.startZoom,_=o.zoom,F=_!=null&&n;F&&($o(L,_)&&(i.zoom=ko(i.minZoom,Ri(L,_,y,w),i.maxZoom)),t.emit("zoom")),(P||F)&&t.emit("viewport");var N=o.style;if(N&&N.length>0&&a){for(var B=0;B<N.length;B++){var V=N[B],M=V.name,H=V,W=o.startStyle[M],q=v.properties[W.name],Y=Ri(W,H,y,w,q);v.overrideBypass(t,M,Y)}t.emit("style")}}return o.progress=y,y}function $o(t,e){return t==null||e==null?!1:xe(t)&&xe(e)?!0:!!(t&&e)}function nA(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function hp(t,e){var r=e._private.aniEles,n=[];function a(v,d){var g=v._private,m=g.animation.current,p=g.animation.queue,w=!1;if(m.length===0){var y=p.shift();y&&m.push(y)}for(var b=function(D){for(var P=D.length-1;P>=0;P--){var L=D[P];L()}D.splice(0,D.length)},E=m.length-1;E>=0;E--){var S=m[E],T=S._private;if(T.stopped){m.splice(E,1),T.hooked=!1,T.playing=!1,T.started=!1,b(T.frames);continue}!T.playing&&!T.applying||(T.playing&&T.applying&&(T.applying=!1),T.started||nA(v,S,t),rA(v,S,t,d),T.applying&&(T.applying=!1),b(T.frames),T.step!=null&&T.step(t),S.completed()&&(m.splice(E,1),T.hooked=!1,T.playing=!1,T.started=!1,b(T.completes)),w=!0)}return!d&&m.length===0&&p.length===0&&n.push(v),w}for(var i=!1,o=0;o<r.length;o++){var l=r[o],f=a(l);i=i||f}var c=a(e,!0);(i||c)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var aA={animate:ct.animate(),animation:ct.animation(),animated:ct.animated(),clearQueue:ct.clearQueue(),delay:ct.delay(),delayAnimation:ct.delayAnimation(),stop:ct.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&ou(function(i){hp(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){hp(o,e)},n.beforeRenderPriorities.animations):r()}},iA={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&bo(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Bu=function(e){return Le(e)?new fa(e):e},gp={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new ku(iA,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Bu(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Bu(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Bu(r),n),this},once:function(e,r,n){return this.emitter().one(e,Bu(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};ct.eventAliasesOn(gp);var sc={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};sc.jpeg=sc.jpg;var Nu={layout:function(e){var r=this;if(e==null){It("Layout options must be specified to make a layout");return}if(e.name==null){It("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){It("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;Le(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var o=new a(Ne({},e,{cy:r,eles:i}));return o}};Nu.createLayout=Nu.makeLayout=Nu.layout;var oA={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],o=e[i],l=r.getElementById(i);l.data(o)}})}},sA=ar({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),uc={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){It("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ft("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=sA(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};uc.invalidateDimensions=uc.resize;var Fu={collection:function(e,r){return Le(e)?this.$(e):zr(e)?e.collection():bt(e)?(r||(r={}),new or(this,e,r.unique,r.removed)):new or(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Fu.elements=Fu.filter=Fu.$;var hr={},qo="t",uA="f";hr.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var o=t[i],l=e.getContextMeta(o);if(!l.empty){var f=e.getContextStyle(l),c=e.applyContextStyle(l,f,o);o._private.appliedInitStyle?e.updateTransitions(o,c.diffProps):o._private.appliedInitStyle=!0;var v=e.updateStyleHints(o);v&&a.push(o)}}return a},hr.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var o=[],l={},f=0;f<r.length;f++){var c=r[f],v=t[f]===qo,d=e[f]===qo,g=v!==d,m=c.mappedProperties.length>0;if(g||d&&m){var p=void 0;g&&m||g?p=c.properties:m&&(p=c.mappedProperties);for(var w=0;w<p.length;w++){for(var y=p[w],b=y.name,E=!1,S=f+1;S<r.length;S++){var T=r[S],A=e[S]===qo;if(A&&(E=T.properties[y.name]!=null,E))break}!l[b]&&!E&&(l[b]=!0,o.push(b))}}}return n[a]=o,o},hr.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var o=e[i],l=o.selector&&o.selector.matches(t);l?r+=qo:r+=uA}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}},hr.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var o=r[i],l=e[i]===qo;if(l)for(var f=0;f<o.properties.length;f++){var c=o.properties[f];a[c.name]=c}}return n[e]=a,a},hr.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},o=n.types,l=0;l<a.length;l++){var f=a[l],c=e[f],v=r.pstyle(f);if(!c)if(v)v.bypass?c={name:f,deleteBypassed:!0}:c={name:f,delete:!0};else continue;if(v!==c){if(c.mapped===o.fn&&v!=null&&v.mapping!=null&&v.mapping.value===c.value){var d=v.mapping,g=d.fnValue=c.value(r);if(g===d.prevFnValue)continue}var m=i[f]={prev:v};n.applyParsedProperty(r,c),m.next=r.pstyle(f),m.next&&m.next.bypass&&(m.next=m.next.bypassed)}}return{diffProps:i}},hr.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(ge,De,ze){return r.getPropertiesHash(ge,De,ze)},o=e.styleKey;if(t.removed())return!1;var l=e.group==="nodes",f=t._private.style;n=Object.keys(f);for(var c=0;c<a.length;c++){var v=a[c];e.styleKeys[v]=[di,Co]}for(var d=function(ge,De){return e.styleKeys[De][0]=To(ge,e.styleKeys[De][0])},g=function(ge,De){return e.styleKeys[De][1]=Po(ge,e.styleKeys[De][1])},m=function(ge,De){d(ge,De),g(ge,De)},p=function(ge,De){for(var ze=0;ze<ge.length;ze++){var me=ge.charCodeAt(ze);d(me,De),g(me,De)}},w=2e9,y=function(ge){return-128<ge&&ge<128&&Math.floor(ge)!==ge?w-(ge*1024|0):ge},b=0;b<n.length;b++){var E=n[b],S=f[E];if(S!=null){var T=this.properties[E],A=T.type,D=T.groupKey,P=void 0;T.hashOverride!=null?P=T.hashOverride(t,S):S.pfValue!=null&&(P=S.pfValue);var L=T.enums==null?S.value:null,_=P!=null,F=L!=null,N=_||F,B=S.units;if(A.number&&N&&!A.multiple){var V=_?P:L;m(y(V),D),!_&&B!=null&&p(B,D)}else p(S.strValue,D)}}for(var M=[di,Co],H=0;H<a.length;H++){var W=a[H],q=e.styleKeys[W];M[0]=To(q[0],M[0]),M[1]=Po(q[1],M[1])}e.styleKey=d2(M[0],M[1]);var Y=e.styleKeys;e.labelDimsKey=ia(Y.labelDimensions);var te=i(t,["label"],Y.labelDimensions);if(e.labelKey=ia(te),e.labelStyleKey=ia(su(Y.commonLabel,te)),!l){var re=i(t,["source-label"],Y.labelDimensions);e.sourceLabelKey=ia(re),e.sourceLabelStyleKey=ia(su(Y.commonLabel,re));var I=i(t,["target-label"],Y.labelDimensions);e.targetLabelKey=ia(I),e.targetLabelStyleKey=ia(su(Y.commonLabel,I))}if(l){var $=e.styleKeys,Q=$.nodeBody,ue=$.nodeBorder,ne=$.nodeOutline,Z=$.backgroundImage,G=$.compound,J=$.pie,ee=[Q,ue,ne,Z,G,J].filter(function(ce){return ce!=null}).reduce(su,[di,Co]);e.nodeKey=ia(ee),e.hasPie=J!=null&&J[0]!==di&&J[1]!==Co}return o!==e.styleKey},hr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},hr.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,o=r.types,l=r.properties[n.name].type,f=n.bypass,c=a[n.name],v=c&&c.bypass,d=t._private,g="mapping",m=function(Q){return Q==null?null:Q.pfValue!=null?Q.pfValue:Q.value},p=function(){var Q=m(c),ue=m(n);r.checkTriggers(t,n.name,Q,ue)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",f)),n.delete)return a[n.name]=void 0,p(),!0;if(n.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,p(),!0):!1:(p(),!0);if(n.deleteBypass)return c?c.bypass?(a[n.name]=c.bypassed,p(),!0):!1:(p(),!0);var w=function(){ft("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var y=n.field.split("."),b=d.data,E=0;E<y.length&&b;E++){var S=y[E];b=b[S]}if(b==null)return w(),!1;var T;if(xe(b)){var A=n.fieldMax-n.fieldMin;A===0?T=0:T=(b-n.fieldMin)/A}else return ft("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+b+"` for `"+t.id()+"` is non-numeric)"),!1;if(T<0?T=0:T>1&&(T=1),l.color){var D=n.valueMin[0],P=n.valueMax[0],L=n.valueMin[1],_=n.valueMax[1],F=n.valueMin[2],N=n.valueMax[2],B=n.valueMin[3]==null?1:n.valueMin[3],V=n.valueMax[3]==null?1:n.valueMax[3],M=[Math.round(D+(P-D)*T),Math.round(L+(_-L)*T),Math.round(F+(N-F)*T),Math.round(B+(V-B)*T)];i={bypass:n.bypass,name:n.name,value:M,strValue:"rgb("+M[0]+", "+M[1]+", "+M[2]+")"}}else if(l.number){var H=n.valueMin+(n.valueMax-n.valueMin)*T;i=this.parse(n.name,H,n.bypass,g)}else return!1;if(!i)return w(),!1;i.mapping=n,n=i;break}case o.data:{for(var W=n.field.split("."),q=d.data,Y=0;Y<W.length&&q;Y++){var te=W[Y];q=q[te]}if(q!=null&&(i=this.parse(n.name,q,n.bypass,g)),!i)return w(),!1;i.mapping=n,n=i;break}case o.fn:{var re=n.value,I=n.fnValue!=null?n.fnValue:re(t);if(n.prevFnValue=I,I==null)return ft("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,I,n.bypass,g),!i)return ft("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=Dn(n),n=i;break}case void 0:break;default:return!1}return f?(v?n.bypassed=c.bypassed:n.bypassed=c,a[n.name]=n):v?c.bypassed=n:a[n.name]=n,p(),!0},hr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],f=a[l];f!=null&&(f.bypass?f.bypassed=null:a[l]=null)}}},hr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()},hr.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var l={},f=!1,c=0;c<a.length;c++){var v=a[c],d=t.pstyle(v),g=e[v];if(g){var m=g.prev,p=m,w=g.next!=null?g.next:d,y=!1,b=void 0,E=1e-6;p&&(xe(p.pfValue)&&xe(w.pfValue)?(y=w.pfValue-p.pfValue,b=p.pfValue+E*y):xe(p.value)&&xe(w.value)?(y=w.value-p.value,b=p.value+E*y):bt(p.value)&&bt(w.value)&&(y=p.value[0]!==w.value[0]||p.value[1]!==w.value[1]||p.value[2]!==w.value[2],b=p.strValue),y&&(l[v]=w.strValue,this.applyBypass(t,v,b),f=!0))}}if(!f)return;n.transitioning=!0,new xi(function(S){o>0?t.delayAnimation(o).play().promise().then(S):S()}).then(function(){return t.animation({style:l,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)},hr.checkTrigger=function(t,e,r,n,a,i){var o=this.properties[e],l=a(o);l!=null&&l(r,n)&&i(o)},hr.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})},hr.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||n==="bezier")&&t.parallelEdges().forEach(function(i){i.isBundledBezier()&&i.dirtyBoundingBoxCache()}),a.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||n==="none")&&t.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})},hr.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var Vo={};Vo.applyBypass=function(t,e,r,n){var a=this,i=[],o=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var l=0;l<a.properties.length;l++){var f=a.properties[l],c=f.name,v=this.parse(c,r,!0);v&&i.push(v)}}else if(Le(e)){var d=this.parse(e,r,!0);d&&i.push(d)}else if(rt(e)){var g=e;n=r;for(var m=Object.keys(g),p=0;p<m.length;p++){var w=m[p],y=g[w];if(y===void 0&&(y=g[nu(w)]),y!==void 0){var b=this.parse(w,y,!0);b&&i.push(b)}}}else return!1;if(i.length===0)return!1;for(var E=!1,S=0;S<t.length;S++){for(var T=t[S],A={},D=void 0,P=0;P<i.length;P++){var L=i[P];if(n){var _=T.pstyle(L.name);D=A[L.name]={prev:_}}E=this.applyParsedProperty(T,Dn(L))||E,n&&(D.next=T.pstyle(L.name))}E&&this.updateStyleHints(T),n&&this.updateTransitions(T,A,o)}return E},Vo.overrideBypass=function(t,e,r){e=Of(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],o=this.properties[e].type,l=o.color,f=o.mutiple,c=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),l?i.strValue="rgb("+r.join(",")+")":f?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,c,r)}},Vo.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)},Vo.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],o={},l=0;l<e.length;l++){var f=e[l],c=this.properties[f],v=i.pstyle(c.name);if(!(!v||!v.bypass)){var d="",g=this.parse(f,d,!0),m=o[c.name]={prev:v};this.applyParsedProperty(i,g),m.next=i.pstyle(c.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,n)}};var lc={};lc.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1},lc.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var _n={};_n.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},_n.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(t,i.name,e);o!=null&&(n[i.name]=o,n[nu(i.name)]=o)}return n}},_n.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]},_n.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,o=t.pstyle(a.name);if(o){var l=o.value,f=o.units,c=o.strValue;if(r&&i.number&&l!=null&&xe(l)){var v=t.cy().zoom(),d=function(y){return y*v},g=function(y,b){return d(y)+b},m=bt(l),p=m?f.every(function(w){return w!=null}):f!=null;return p?m?l.map(function(w,y){return g(w,f[y])}).join(" "):g(l,f):m?l.map(function(w){return Le(w)?w:""+d(w)}).join(" "):""+d(l)}else if(c!=null)return c}return null}},_n.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,o=t.pstyle(i);o!==void 0&&(rt(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(r[i]=o)}return r},_n.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var l=i[o],f=n[l],c=a[l]||a[Of(l)],v=this.parse(c.name,f);v&&r.push(v)}return r},_n.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,o,l,f,c;for(f=0;f<e.length;f++)if(a=e[f],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=To(l,n[0]),n[1]=Po(l,n[1]);else for(o=i.strValue,c=0;c<o.length;c++)l=o.charCodeAt(c),n[0]=To(l,n[0]),n[1]=Po(l,n[1]);return n},_n.getPropertiesHash=_n.getNonDefaultPropertiesHash;var zu={};zu.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);e.selector(a);for(var l=0;l<o.length;l++){var f=o[l],c=i[f];e.css(f,c)}}return e},zu.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e},zu.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var l=a[o];i[l.name]=l.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var fc={};fc.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function l(){n.length>a.length?n=n.substr(a.length):n=""}function f(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var c=n.match(/^\s*$/);if(c)break;var v=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){ft("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=v[0];var d=v[1];if(d!=="core"){var g=new fa(d);if(g.invalid){ft("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),l();continue}}var m=v[2],p=!1;i=m;for(var w=[];;){var y=i.match(/^\s*$/);if(y)break;var b=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){ft("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+m),p=!0;break}o=b[0];var E=b[1],S=b[2],T=e.properties[E];if(!T){ft("Skipping property: Invalid property name in: "+o),f();continue}var A=r.parse(E,S);if(!A){ft("Skipping property: Invalid property definition in: "+o),f();continue}w.push({name:E,val:S}),f()}if(p){l();break}r.selector(d);for(var D=0;D<w.length;D++){var P=w[D];r.css(P.name,P.val)}l()}return r},fc.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var sr={};(function(){var t=Kt,e=pE,r=yE,n=bE,a=wE,i=function(ee){return"^"+ee+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(ee){var ce=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+ee+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+ce+")\\s*\\,\\s*("+ce+")\\)$"},l=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];sr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:l,singleRegexMatchValue:!0},urls:{regexes:l,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ee,ce){switch(ee.length){case 2:return ce[0]!=="deg"&&ce[0]!=="rad"&&ce[1]!=="deg"&&ce[1]!=="rad";case 1:return Le(ee[0])||ce[0]==="deg"||ce[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ee){var ce=ee.length;return ce===1||ce===2||ce===4}}};var f={zeroNonZero:function(ee,ce){return(ee==null||ce==null)&&ee!==ce||ee==0&&ce!=0?!0:ee!=0&&ce==0},any:function(ee,ce){return ee!=ce},emptyNonEmpty:function(ee,ce){var ge=aa(ee),De=aa(ce);return ge&&!De||!ge&&De}},c=sr.types,v=[{name:"label",type:c.text,triggersBounds:f.any,triggersZOrder:f.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any}],d=[{name:"source-label",type:c.text,triggersBounds:f.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"source-text-offset",type:c.size,triggersBounds:f.any}],g=[{name:"target-label",type:c.text,triggersBounds:f.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"target-text-offset",type:c.size,triggersBounds:f.any}],m=[{name:"font-family",type:c.fontFamily,triggersBounds:f.any},{name:"font-style",type:c.fontStyle,triggersBounds:f.any},{name:"font-weight",type:c.fontWeight,triggersBounds:f.any},{name:"font-size",type:c.size,triggersBounds:f.any},{name:"text-transform",type:c.textTransform,triggersBounds:f.any},{name:"text-wrap",type:c.textWrap,triggersBounds:f.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:f.any},{name:"text-max-width",type:c.size,triggersBounds:f.any},{name:"text-outline-width",type:c.size,triggersBounds:f.any},{name:"line-height",type:c.positiveNumber,triggersBounds:f.any}],p=[{name:"text-valign",type:c.valign,triggersBounds:f.any},{name:"text-halign",type:c.halign,triggersBounds:f.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:f.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:f.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:f.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:f.any},{name:"text-justification",type:c.justification}],w=[{name:"events",type:c.bool,triggersZOrder:f.any},{name:"text-events",type:c.bool,triggersZOrder:f.any}],y=[{name:"display",type:c.display,triggersZOrder:f.any,triggersBounds:f.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:c.visibility,triggersZOrder:f.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:f.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:f.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:f.any},{name:"z-index",type:c.number,triggersZOrder:f.any}],b=[{name:"overlay-padding",type:c.size,triggersBounds:f.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:f.any},{name:"overlay-corner-radius",type:c.cornerRadius}],E=[{name:"underlay-padding",type:c.size,triggersBounds:f.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:f.any},{name:"underlay-corner-radius",type:c.cornerRadius}],S=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],T=function(ee,ce){return ce.value==="label"?-ee.poolIndex():ce.pfValue},A=[{name:"height",type:c.nodeSize,triggersBounds:f.any,hashOverride:T},{name:"width",type:c.nodeSize,triggersBounds:f.any,hashOverride:T},{name:"shape",type:c.nodeShape,triggersBounds:f.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:f.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:f.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:f.any}],D=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:f.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],P=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:f.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:f.any}],L=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],_=[{name:"position",type:c.position,triggersBounds:f.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:f.any},{name:"min-width",type:c.size,triggersBounds:f.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-height",type:c.size,triggersBounds:f.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:f.any}],F=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:f.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:f.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:f.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:f.any},{name:"control-point-step-size",type:c.size,triggersBounds:f.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:f.any},{name:"control-point-weights",type:c.numbers,triggersBounds:f.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:f.any},{name:"segment-weights",type:c.numbers,triggersBounds:f.any},{name:"segment-radii",type:c.numbers,triggersBounds:f.any},{name:"radius-type",type:c.radiusType,triggersBounds:f.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:f.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:f.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:f.any},{name:"taxi-radius",type:c.number,triggersBounds:f.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:f.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:f.any},{name:"loop-direction",type:c.angle,triggersBounds:f.any},{name:"loop-sweep",type:c.angle,triggersBounds:f.any},{name:"source-distance-from-node",type:c.size,triggersBounds:f.any},{name:"target-distance-from-node",type:c.size,triggersBounds:f.any}],N=[{name:"ghost",type:c.bool,triggersBounds:f.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"ghost-opacity",type:c.zeroOneNumber}],B=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],V=[];sr.pieBackgroundN=16,V.push({name:"pie-size",type:c.sizeMaybePercent});for(var M=1;M<=sr.pieBackgroundN;M++)V.push({name:"pie-"+M+"-background-color",type:c.color}),V.push({name:"pie-"+M+"-background-size",type:c.percent}),V.push({name:"pie-"+M+"-background-opacity",type:c.zeroOneNumber});var H=[],W=sr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:f.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(J){W.forEach(function(ee){var ce=ee+"-"+J.name,ge=J.type,De=J.triggersBounds;H.push({name:ce,type:ge,triggersBounds:De})})},{});var q=sr.properties=[].concat(w,S,y,b,E,N,p,m,v,d,g,A,D,P,L,V,_,F,H,B),Y=sr.propertyGroups={behavior:w,transition:S,visibility:y,overlay:b,underlay:E,ghost:N,commonLabel:p,labelDimensions:m,mainLabel:v,sourceLabel:d,targetLabel:g,nodeBody:A,nodeBorder:D,nodeOutline:P,backgroundImage:L,pie:V,compound:_,edgeLine:F,edgeArrow:H,core:B},te=sr.propertyGroupNames={},re=sr.propertyGroupKeys=Object.keys(Y);re.forEach(function(J){te[J]=Y[J].map(function(ee){return ee.name}),Y[J].forEach(function(ee){return ee.groupKey=J})});var I=sr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];sr.propertyNames=q.map(function(J){return J.name});for(var $=0;$<q.length;$++){var Q=q[$];q[Q.name]=Q}for(var ue=0;ue<I.length;ue++){var ne=I[ue],Z=q[ne.pointsTo],G={name:ne.name,alias:!0,pointsTo:Z};q.push(G),q[ne.name]=G}})(),sr.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},sr.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Ne({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(f,c){for(var v=1;v<=sr.pieBackgroundN;v++){var d=c.name.replace("{{i}}",v),g=c.value;f[d]=g}return f},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(f,c){return sr.arrowPrefixes.forEach(function(v){var d=v+"-"+c.name,g=c.value;f[d]=g}),f},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=e[i],l=this.parse(i,o);r[i]=l}}return t.defaultProperties=r,t.defaultProperties},sr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var $u={};$u.parse=function(t,e,r,n){var a=this;if(kt(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",l=""+e,f=Nh(t,l,o,i),c=a.propCache=a.propCache||[],v;return(v=c[f])||(v=c[f]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(v=Dn(v),v&&(v.value=Dn(v.value))),v},$u.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&ft("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&ft("The style value of `label` is deprecated for `"+a.name+"`"),a},$u.parseImpl=function(t,e,r,n){var a=this;t=Of(t);var i=a.properties[t],o=e,l=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var f=Le(e);f&&(e=e.trim());var c=i.type;if(!c)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(kt(e))return{name:t,value:e,strValue:"fn",mapped:l.fn,bypass:r};var v,d;if(!(!f||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(l.data.regex).exec(e))){if(r)return!1;var g=l.data;return{name:t,value:v,strValue:""+e,mapped:g,field:v[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(d=new RegExp(l.mapData.regex).exec(e))){if(r||c.multiple)return!1;var m=l.mapData;if(!(c.color||c.number))return!1;var p=this.parse(t,d[4]);if(!p||p.mapped)return!1;var w=this.parse(t,d[5]);if(!w||w.mapped)return!1;if(p.pfValue===w.pfValue||p.strValue===w.strValue)return ft("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+p.strValue+"`"),this.parse(t,p.strValue);if(c.color){var y=p.value,b=w.value,E=y[0]===b[0]&&y[1]===b[1]&&y[2]===b[2]&&(y[3]===b[3]||(y[3]==null||y[3]===1)&&(b[3]==null||b[3]===1));if(E)return!1}return{name:t,value:d,strValue:""+e,mapped:m,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:p.value,valueMax:w.value,bypass:r}}}if(c.multiple&&n!=="multiple"){var S;if(f?S=e.split(/\s+/):bt(e)?S=e:S=[e],c.evenMultiple&&S.length%2!==0)return null;for(var T=[],A=[],D=[],P="",L=!1,_=0;_<S.length;_++){var F=a.parse(t,S[_],r,"multiple");L=L||Le(F.value),T.push(F.value),D.push(F.pfValue!=null?F.pfValue:F.value),A.push(F.units),P+=(_>0?" ":"")+F.strValue}return c.validate&&!c.validate(T,A)?null:c.singleEnum&&L?T.length===1&&Le(T[0])?{name:t,value:T[0],strValue:T[0],bypass:r}:null:{name:t,value:T,pfValue:D,strValue:P,bypass:r,units:A}}var N=function(){for(var ee=0;ee<c.enums.length;ee++){var ce=c.enums[ee];if(ce===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(c.number){var B,V="px";if(c.units&&(B=c.units),c.implicitUnits&&(V=c.implicitUnits),!c.unitless)if(f){var M="px|em"+(c.allowPercent?"|\\%":"");B&&(M=B);var H=e.match("^("+Kt+")("+M+")?$");H&&(e=H[1],B=H[2]||V)}else(!B||c.implicitUnits)&&(B=V);if(e=parseFloat(e),isNaN(e)&&c.enums===void 0)return null;if(isNaN(e)&&c.enums!==void 0)return e=o,N();if(c.integer&&!lE(e)||c.min!==void 0&&(e<c.min||c.strictMin&&e===c.min)||c.max!==void 0&&(e>c.max||c.strictMax&&e===c.max))return null;var W={name:t,value:e,strValue:""+e+(B||""),units:B,bypass:r};return c.unitless||B!=="px"&&B!=="em"?W.pfValue=e:W.pfValue=B==="px"||!B?e:this.getEmSizeInPixels()*e,(B==="ms"||B==="s")&&(W.pfValue=B==="ms"?e:1e3*e),(B==="deg"||B==="rad")&&(W.pfValue=B==="rad"?e:W2(e)),B==="%"&&(W.pfValue=e/100),W}else if(c.propList){var q=[],Y=""+e;if(Y!=="none"){for(var te=Y.split(/\s*,\s*|\s+/),re=0;re<te.length;re++){var I=te[re].trim();a.properties[I]?q.push(I):ft("`"+I+"` is not a valid property name")}if(q.length===0)return null}return{name:t,value:q,strValue:q.length===0?"none":q.join(" "),bypass:r}}else if(c.color){var $=PE(e);return $?{name:t,value:$,pfValue:$,strValue:"rgb("+$[0]+","+$[1]+","+$[2]+")",bypass:r}:null}else if(c.regex||c.regexes){if(c.enums){var Q=N();if(Q)return Q}for(var ue=c.regexes?c.regexes:[c.regex],ne=0;ne<ue.length;ne++){var Z=new RegExp(ue[ne]),G=Z.exec(e);if(G)return{name:t,value:c.singleRegexMatchValue?G[1]:G,strValue:""+e,bypass:r}}return null}else return c.string?{name:t,value:""+e,strValue:""+e,bypass:r}:c.enums?N():null};var gr=function t(e){if(!(this instanceof t))return new t(e);if(!Rf(e)){It("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},pr=gr.prototype;pr.instanceString=function(){return"style"},pr.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this},pr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},pr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},pr.selector=function(t){var e=t==="core"?null:new fa(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this},pr.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[nu(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this},pr.style=pr.css,pr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this},pr.append=function(t){return Sh(t)?t.appendToStyle(this):bt(t)?this.appendFromJson(t):Le(t)&&this.appendFromString(t),this},gr.fromJson=function(t,e){var r=new gr(t);return r.fromJson(e),r},gr.fromString=function(t,e){return new gr(t).fromString(e)},[hr,Vo,lc,_n,zu,fc,sr,$u].forEach(function(t){Ne(pr,t)}),gr.types=pr.types,gr.properties=pr.properties,gr.propertyGroups=pr.propertyGroups,gr.propertyGroupNames=pr.propertyGroupNames,gr.propertyGroupKeys=pr.propertyGroupKeys;var lA={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return Sh(e)?r.style=e.generateStyle(this):bt(e)?r.style=gr.fromJson(this,e):Le(e)?r.style=gr.fromString(this,e):r.style=gr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},fA="single",Ba={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=fA),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,o,l;switch(e.length){case 0:return r;case 1:if(Le(e[0]))return n=e[0],r[n];if(rt(e[0])){if(!this._private.panningEnabled)return this;i=e[0],o=i.x,l=i.y,xe(o)&&(r.x=o),xe(l)&&(r.y=l),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&xe(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,o,l,f,c;if(!this._private.panningEnabled)return this;switch(n.length){case 1:rt(e)&&(l=n[0],f=l.x,c=l.y,xe(f)&&(a.x+=f),xe(c)&&(a.y+=c),this.emit("pan viewport"));break;case 2:i=e,o=r,(i==="x"||i==="y")&&xe(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(xe(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Le(e)){var a=e;e=this.$(a)}else if(vE(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else zr(e)||(e=this.mutableElements());if(!(zr(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),l=this.height(),f;if(r=xe(r)?r:0,!isNaN(o)&&!isNaN(l)&&o>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){f=Math.min((o-2*r)/n.w,(l-2*r)/n.h),f=f>this._private.maxZoom?this._private.maxZoom:f,f=f<this._private.minZoom?this._private.minZoom:f;var c={x:(o-f*(n.x1+n.x2))/2,y:(l-f*(n.y1+n.y2))/2};return{zoom:f,pan:c}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return xe(e)&&xe(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):xe(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:xe(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,o,l=!1;if(r.zoomingEnabled||(l=!0),xe(e)?o=e:rt(e)&&(o=e.level,e.position!=null?i=fu(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(l=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,l||!xe(o)||o===a||i!=null&&(!xe(i.x)||!xe(i.y)))return null;if(i!=null){var f=n,c=a,v=o,d={x:-v/c*(i.x-f.x)+i.x,y:-v/c*(i.y-f.y)+i.y};return{zoomed:!0,panned:!0,zoom:v,pan:d}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],o=!1,l=!1;if(!e)return this;if(xe(e.zoom)||(n=!1),rt(e.pan)||(a=!1),!n&&!a)return this;if(n){var f=e.zoom;f<r.minZoom||f>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=f,i.push("zoom"))}if(a&&(!o||!e.cancelOnFailedZoom)&&r.panningEnabled){var c=e.pan;xe(c.x)&&(r.pan.x=c.x,l=!1),xe(c.y)&&(r.pan.y=c.y,l=!1),l||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Le(e)){var n=e;e=this.mutableElements().filter(n)}else zr(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var l={x:(i-r*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2};return l}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(l){return parseFloat(a.getPropertyValue(l))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Ba.centre=Ba.center,Ba.autolockNodes=Ba.autolock,Ba.autoungrabifyNodes=Ba.autoungrabify;var Wo={data:ct.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ct.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ct.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ct.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Wo.attr=Wo.data,Wo.removeAttr=Wo.removeData;var Uo=function(e){var r=this;e=Ne({},e);var n=e.container;n&&!ru(n)&&ru(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=Gt!==void 0&&n!==void 0&&!e.headless,l=e;l.layout=Ne({name:o?"grid":"null"},l.layout),l.renderer=Ne({name:o?"canvas":"null"},l.renderer);var f=function(p,w,y){return w!==void 0?w:y!==void 0?y:p},c=this._private={container:n,ready:!1,options:l,elements:new or(this),listeners:[],aniEles:new or(this),data:l.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:f(!0,l.zoomingEnabled),userZoomingEnabled:f(!0,l.userZoomingEnabled),panningEnabled:f(!0,l.panningEnabled),userPanningEnabled:f(!0,l.userPanningEnabled),boxSelectionEnabled:f(!0,l.boxSelectionEnabled),autolock:f(!1,l.autolock,l.autolockNodes),autoungrabify:f(!1,l.autoungrabify,l.autoungrabifyNodes),autounselectify:f(!1,l.autounselectify),styleEnabled:l.styleEnabled===void 0?o:l.styleEnabled,zoom:xe(l.zoom)?l.zoom:1,pan:{x:rt(l.pan)&&xe(l.pan.x)?l.pan.x:0,y:rt(l.pan)&&xe(l.pan.y)?l.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:f(250,l.multiClickDebounceTime)};this.createEmitter(),this.selectionType(l.selectionType),this.zoomRange({min:l.minZoom,max:l.maxZoom});var v=function(p,w){var y=p.some(dE);if(y)return xi.all(p).then(w);w(p)};c.styleEnabled&&r.setStyle([]);var d=Ne({},l,l.renderer);r.initRenderer(d);var g=function(p,w,y){r.notifications(!1);var b=r.mutableElements();b.length>0&&b.remove(),p!=null&&(rt(p)||bt(p))&&r.add(p),r.one("layoutready",function(S){r.notifications(!0),r.emit(S),r.one("load",w),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",y),r.emit("done")});var E=Ne({},r._private.options.layout);E.eles=r.elements(),r.layout(E).run()};v([l.style,l.elements],function(m){var p=m[0],w=m[1];c.styleEnabled&&r.style().append(p),g(w,function(){r.startAnimationLoop(),c.ready=!0,kt(l.ready)&&r.on("ready",l.ready);for(var y=0;y<i.length;y++){var b=i[y];r.on("ready",b)}a&&(a.readies=[]),r.emit("ready")},l.done)})},qu=Uo.prototype;Ne(qu,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Gt;var r=this._private.container.ownerDocument;return r===void 0||r==null?Gt:r.defaultView||Gt},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!ru(e)&&ru(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ne({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Dn(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(T){return r.getElementById(T.id())};if(rt(e)){if(r.startBatch(),e.elements){var o={},l=function(T,A){for(var D=[],P=[],L=0;L<T.length;L++){var _=T[L];if(!_.data.id){ft("cy.json() cannot handle elements without an ID attribute");continue}var F=""+_.data.id,N=r.getElementById(F);o[F]=!0,N.length!==0?P.push({ele:N,json:_}):(A&&(_.group=A),D.push(_))}r.add(D);for(var B=0;B<P.length;B++){var V=P[B],M=V.ele,H=V.json;M.json(H)}};if(bt(e.elements))l(e.elements);else for(var f=["nodes","edges"],c=0;c<f.length;c++){var v=f[c],d=e.elements[v];bt(d)&&l(d,v)}var g=r.collection();a.filter(function(S){return!o[S.id()]}).forEach(function(S){S.isParent()?g.merge(S):S.remove()}),g.forEach(function(S){return S.children().move({parent:null})}),g.forEach(function(S){return i(S).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],p=0;p<m.length;p++){var w=m[p];e[w]!=null&&r[w](e[w])}return r.endBatch(),this}else{var y=!!e,b={};y?b.elements=this.elements().map(function(S){return S.json()}):(b.elements={},a.forEach(function(S){var T=S.group();b.elements[T]||(b.elements[T]=[]),b.elements[T].push(S.json())})),this._private.styleEnabled&&(b.style=r.style().json()),b.data=Dn(r.data());var E=n.options;return b.zoomingEnabled=n.zoomingEnabled,b.userZoomingEnabled=n.userZoomingEnabled,b.zoom=n.zoom,b.minZoom=n.minZoom,b.maxZoom=n.maxZoom,b.panningEnabled=n.panningEnabled,b.userPanningEnabled=n.userPanningEnabled,b.pan=Dn(n.pan),b.boxSelectionEnabled=n.boxSelectionEnabled,b.renderer=Dn(E.renderer),b.hideEdgesOnViewport=E.hideEdgesOnViewport,b.textureOnViewport=E.textureOnViewport,b.wheelSensitivity=E.wheelSensitivity,b.motionBlur=E.motionBlur,b.multiClickDebounceTime=E.multiClickDebounceTime,b}}}),qu.$id=qu.getElementById,[jP,aA,gp,sc,Nu,oA,uc,Fu,lA,Ba,Wo].forEach(function(t){Ne(qu,t)});var cA={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},vA={maximal:!1,acyclic:!1},Oi=function(e){return e.scratch("breadthfirst")},pp=function(e,r){return e.scratch("breadthfirst",r)};function mp(t){this.options=Ne({},cA,vA,t)}mp.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().filter(function(me){return!me.isParent()}),i=n,o=e.directed,l=e.acyclic||e.maximal||e.maximalAdjustments>0,f=Ar(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c;if(zr(e.roots))c=e.roots;else if(bt(e.roots)){for(var v=[],d=0;d<e.roots.length;d++){var g=e.roots[d],m=r.getElementById(g);v.push(m)}c=r.collection(v)}else if(Le(e.roots))c=r.$(e.roots);else if(o)c=a.roots();else{var p=n.components();c=r.collection();for(var w=function(we){var Ae=p[we],Se=Ae.maxDegree(!1),_e=Ae.filter(function(Ie){return Ie.degree(!1)===Se});c=c.add(_e)},y=0;y<p.length;y++)w(y)}var b=[],E={},S=function(we,Ae){b[Ae]==null&&(b[Ae]=[]);var Se=b[Ae].length;b[Ae].push(we),pp(we,{index:Se,depth:Ae})},T=function(we,Ae){var Se=Oi(we),_e=Se.depth,Ie=Se.index;b[_e][Ie]=null,S(we,Ae)};i.bfs({roots:c,directed:e.directed,visit:function(we,Ae,Se,_e,Ie){var je=we[0],Ue=je.id();S(je,Ie),E[Ue]=!0}});for(var A=[],D=0;D<a.length;D++){var P=a[D];E[P.id()]||A.push(P)}var L=function(we){for(var Ae=b[we],Se=0;Se<Ae.length;Se++){var _e=Ae[Se];if(_e==null){Ae.splice(Se,1),Se--;continue}pp(_e,{depth:we,index:Se})}},_=function(){for(var we=0;we<b.length;we++)L(we)},F=function(we,Ae){for(var Se=Oi(we),_e=we.incomers().filter(function(O){return O.isNode()&&n.has(O)}),Ie=-1,je=we.id(),Ue=0;Ue<_e.length;Ue++){var We=_e[Ue],Qe=Oi(We);Ie=Math.max(Ie,Qe.depth)}if(Se.depth<=Ie){if(!e.acyclic&&Ae[je])return null;var he=Ie+1;return T(we,he),Ae[je]=he,!0}return!1};if(o&&l){var N=[],B={},V=function(we){return N.push(we)},M=function(){return N.shift()};for(a.forEach(function(me){return N.push(me)});N.length>0;){var H=M(),W=F(H,B);if(W)H.outgoers().filter(function(me){return me.isNode()&&n.has(me)}).forEach(V);else if(W===null){ft("Detected double maximal shift for node `"+H.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}_();var q=0;if(e.avoidOverlap)for(var Y=0;Y<a.length;Y++){var te=a[Y],re=te.layoutDimensions(e),I=re.w,$=re.h;q=Math.max(q,I,$)}var Q={},ue=function(we){if(Q[we.id()])return Q[we.id()];for(var Ae=Oi(we).depth,Se=we.neighborhood(),_e=0,Ie=0,je=0;je<Se.length;je++){var Ue=Se[je];if(!(Ue.isEdge()||Ue.isParent()||!a.has(Ue))){var We=Oi(Ue);if(We!=null){var Qe=We.index,he=We.depth;if(!(Qe==null||he==null)){var O=b[he].length;he<Ae&&(_e+=Qe/O,Ie++)}}}}return Ie=Math.max(1,Ie),_e=_e/Ie,Ie===0&&(_e=0),Q[we.id()]=_e,_e},ne=function(we,Ae){var Se=ue(we),_e=ue(Ae),Ie=Se-_e;return Ie===0?Ph(we.id(),Ae.id()):Ie};e.depthSort!==void 0&&(ne=e.depthSort);for(var Z=0;Z<b.length;Z++)b[Z].sort(ne),L(Z);for(var G=[],J=0;J<A.length;J++)G.push(A[J]);b.unshift(G),_();for(var ee=0,ce=0;ce<b.length;ce++)ee=Math.max(b[ce].length,ee);var ge={x:f.x1+f.w/2,y:f.x1+f.h/2},De=b.reduce(function(me,we){return Math.max(me,we.length)},0),ze=function(we){var Ae=Oi(we),Se=Ae.depth,_e=Ae.index,Ie=b[Se].length,je=Math.max(f.w/((e.grid?De:Ie)+1),q),Ue=Math.max(f.h/(b.length+1),q),We=Math.min(f.w/2/b.length,f.h/2/b.length);if(We=Math.max(We,q),e.circle){var he=We*Se+We-(b.length>0&&b[0].length<=3?We/2:0),O=2*Math.PI/b[Se].length*_e;return Se===0&&b[0].length===1&&(he=1),{x:ge.x+he*Math.cos(O),y:ge.y+he*Math.sin(O)}}else{var Qe={x:ge.x+(_e+1-(Ie+1)/2)*je,y:(Se+1)*Ue};return Qe}};return n.nodes().layoutPositions(this,e,ze),this};var dA={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function yp(t){this.options=Ne({},dA,t)}yp.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var o=Ar(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:o.x1+o.w/2,y:o.y1+o.h/2},f=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,c=f/Math.max(1,i.length-1),v,d=0,g=0;g<i.length;g++){var m=i[g],p=m.layoutDimensions(e),w=p.w,y=p.h;d=Math.max(d,w,y)}if(xe(e.radius)?v=e.radius:i.length<=1?v=0:v=Math.min(o.h,o.w)/2-d,i.length>1&&e.avoidOverlap){d*=1.75;var b=Math.cos(c)-Math.cos(0),E=Math.sin(c)-Math.sin(0),S=Math.sqrt(d*d/(b*b+E*E));v=Math.max(S,v)}var T=function(D,P){var L=e.startAngle+P*c*(a?1:-1),_=v*Math.cos(L),F=v*Math.sin(L),N={x:l.x+_,y:l.y+F};return N};return n.nodes().layoutPositions(this,e,T),this};var hA={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function bp(t){this.options=Ne({},hA,t)}bp.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),o=Ar(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:o.x1+o.w/2,y:o.y1+o.h/2},f=[],c=0,v=0;v<i.length;v++){var d=i[v],g=void 0;g=e.concentric(d),f.push({value:g,node:d}),d._private.scratch.concentric=g}i.updateStyle();for(var m=0;m<i.length;m++){var p=i[m],w=p.layoutDimensions(e);c=Math.max(c,w.w,w.h)}f.sort(function(me,we){return we.value-me.value});for(var y=e.levelWidth(i),b=[[]],E=b[0],S=0;S<f.length;S++){var T=f[S];if(E.length>0){var A=Math.abs(E[0].value-T.value);A>=y&&(E=[],b.push(E))}E.push(T)}var D=c+e.minNodeSpacing;if(!e.avoidOverlap){var P=b.length>0&&b[0].length>1,L=Math.min(o.w,o.h)/2-D,_=L/(b.length+P?1:0);D=Math.min(D,_)}for(var F=0,N=0;N<b.length;N++){var B=b[N],V=e.sweep===void 0?2*Math.PI-2*Math.PI/B.length:e.sweep,M=B.dTheta=V/Math.max(1,B.length-1);if(B.length>1&&e.avoidOverlap){var H=Math.cos(M)-Math.cos(0),W=Math.sin(M)-Math.sin(0),q=Math.sqrt(D*D/(H*H+W*W));F=Math.max(q,F)}B.r=F,F+=D}if(e.equidistant){for(var Y=0,te=0,re=0;re<b.length;re++){var I=b[re],$=I.r-te;Y=Math.max(Y,$)}te=0;for(var Q=0;Q<b.length;Q++){var ue=b[Q];Q===0&&(te=ue.r),ue.r=te,te+=Y}}for(var ne={},Z=0;Z<b.length;Z++)for(var G=b[Z],J=G.dTheta,ee=G.r,ce=0;ce<G.length;ce++){var ge=G[ce],De=e.startAngle+(r?1:-1)*J*ce,ze={x:l.x+ee*Math.cos(De),y:l.y+ee*Math.sin(De)};ne[ge.node.id()]=ze}return a.nodes().layoutPositions(this,e,function(me){var we=me.id();return ne[we]}),this};var cc,gA={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Vu(t){this.options=Ne({},gA,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),o=a.target().data("id"),l=e.some(function(c){return c.data("id")===i}),f=e.some(function(c){return c.data("id")===o});return!l||!f});this.options.eles=this.options.eles.not(n)}Vu.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?cc=!0:cc=!1;var n=pA(e,r,t);cc&&bA(n),t.randomize&&wA(n);var a=$n(),i=function(){xA(n,e,t),t.fit===!0&&e.fit(t.padding)},o=function(g){return!(r.stopped||g>=t.numIter||(EA(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},l=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var g=t.eles.nodes(),m=wp(n,t,g);g.layoutPositions(r,t,m)}},f=0,c=!0;if(t.animate===!0){var v=function d(){for(var g=0;c&&g<t.refresh;)c=o(f),f++,g++;if(!c)Ep(n,t),l();else{var m=$n();m-a>=t.animationThreshold&&i(),ou(d)}};v()}else{for(;c;)c=o(f),f++;Ep(n,t),l()}return this},Vu.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Vu.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var pA=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=Ar(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),l={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},f=n.eles.components(),c={},v=0;v<f.length;v++)for(var d=f[v],g=0;g<d.length;g++){var m=d[g];c[m.id()]=v}for(var v=0;v<l.nodeSize;v++){var p=i[v],w=p.layoutDimensions(n),y={};y.isLocked=p.locked(),y.id=p.data("id"),y.parentId=p.data("parent"),y.cmptId=c[p.id()],y.children=[],y.positionX=p.position("x"),y.positionY=p.position("y"),y.offsetX=0,y.offsetY=0,y.height=w.w,y.width=w.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(p.style("padding")),y.padRight=parseFloat(p.style("padding")),y.padTop=parseFloat(p.style("padding")),y.padBottom=parseFloat(p.style("padding")),y.nodeRepulsion=kt(n.nodeRepulsion)?n.nodeRepulsion(p):n.nodeRepulsion,l.layoutNodes.push(y),l.idToIndex[y.id]=v}for(var b=[],E=0,S=-1,T=[],v=0;v<l.nodeSize;v++){var p=l.layoutNodes[v],A=p.parentId;A!=null?l.layoutNodes[l.idToIndex[A]].children.push(p.id):(b[++S]=p.id,T.push(p.id))}for(l.graphSet.push(T);E<=S;){var D=b[E++],P=l.idToIndex[D],m=l.layoutNodes[P],L=m.children;if(L.length>0){l.graphSet.push(L);for(var v=0;v<L.length;v++)b[++S]=L[v]}}for(var v=0;v<l.graphSet.length;v++)for(var _=l.graphSet[v],g=0;g<_.length;g++){var F=l.idToIndex[_[g]];l.indexToGraph[F]=v}for(var v=0;v<l.edgeSize;v++){var N=a[v],B={};B.id=N.data("id"),B.sourceId=N.data("source"),B.targetId=N.data("target");var V=kt(n.idealEdgeLength)?n.idealEdgeLength(N):n.idealEdgeLength,M=kt(n.edgeElasticity)?n.edgeElasticity(N):n.edgeElasticity,H=l.idToIndex[B.sourceId],W=l.idToIndex[B.targetId],q=l.indexToGraph[H],Y=l.indexToGraph[W];if(q!=Y){for(var te=mA(B.sourceId,B.targetId,l),re=l.graphSet[te],I=0,y=l.layoutNodes[H];re.indexOf(y.id)===-1;)y=l.layoutNodes[l.idToIndex[y.parentId]],I++;for(y=l.layoutNodes[W];re.indexOf(y.id)===-1;)y=l.layoutNodes[l.idToIndex[y.parentId]],I++;V*=I*n.nestingFactor}B.idealLength=V,B.elasticity=M,l.layoutEdges.push(B)}return l},mA=function(e,r,n){var a=yA(e,r,0,n);return 2>a.count?0:a.graph},yA=function t(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,l=0;l<i.length;l++){var f=i[l],c=a.idToIndex[f],v=a.layoutNodes[c].children;if(v.length!==0){var d=a.indexToGraph[a.idToIndex[v[0]]],g=t(e,r,d,a);if(g.count!==0)if(g.count===1){if(o++,o===2)break}else return g}}return{count:o,graph:n}},bA,wA=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},wp=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var l=e.layoutNodes[e.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,l.positionX),i.x2=Math.max(i.x2,l.positionX),i.y1=Math.min(i.y1,l.positionY),i.y2=Math.max(i.y2,l.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,l){var f=e.layoutNodes[e.idToIndex[o.data("id")]];if(r.boundingBox){var c=(f.positionX-i.x1)/i.w,v=(f.positionY-i.y1)/i.h;return{x:a.x1+c*a.w,y:a.y1+v*a.h}}else return{x:f.positionX,y:f.positionY}}},xA=function(e,r,n){var a=n.layout,i=n.eles.nodes(),o=wp(e,n,i);i.positions(o),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},EA=function(e,r,n){SA(e,r),PA(e),AA(e,r),DA(e),kA(e)},SA=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,o=0;o<i;o++)for(var l=e.layoutNodes[e.idToIndex[a[o]]],f=o+1;f<i;f++){var c=e.layoutNodes[e.idToIndex[a[f]]];CA(l,c,e,r)}},xp=function(e){return-e+2*e*Math.random()},CA=function(e,r,n,a){var i=e.cmptId,o=r.cmptId;if(!(i!==o&&!n.isCompound)){var l=r.positionX-e.positionX,f=r.positionY-e.positionY,c=1;l===0&&f===0&&(l=xp(c),f=xp(c));var v=TA(e,r,l,f);if(v>0)var d=a.nodeOverlap*v,g=Math.sqrt(l*l+f*f),m=d*l/g,p=d*f/g;else var w=Wu(e,l,f),y=Wu(r,-1*l,-1*f),b=y.x-w.x,E=y.y-w.y,S=b*b+E*E,g=Math.sqrt(S),d=(e.nodeRepulsion+r.nodeRepulsion)/S,m=d*b/g,p=d*E/g;e.isLocked||(e.offsetX-=m,e.offsetY-=p),r.isLocked||(r.offsetX+=m,r.offsetY+=p)}},TA=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var o=e.maxY-r.minY;else var o=r.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},Wu=function(e,r,n){var a=e.positionX,i=e.positionY,o=e.height||1,l=e.width||1,f=n/r,c=o/l,v={};return r===0&&0<n||r===0&&0>n?(v.x=a,v.y=i+o/2,v):0<r&&-1*c<=f&&f<=c?(v.x=a+l/2,v.y=i+l*n/2/r,v):0>r&&-1*c<=f&&f<=c?(v.x=a-l/2,v.y=i-l*n/2/r,v):0<n&&(f<=-1*c||f>=c)?(v.x=a+o*r/2/n,v.y=i+o/2,v):(0>n&&(f<=-1*c||f>=c)&&(v.x=a-o*r/2/n,v.y=i-o/2),v)},PA=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],o=e.layoutNodes[i],l=e.idToIndex[a.targetId],f=e.layoutNodes[l],c=f.positionX-o.positionX,v=f.positionY-o.positionY;if(!(c===0&&v===0)){var d=Wu(o,c,v),g=Wu(f,-1*c,-1*v),m=g.x-d.x,p=g.y-d.y,w=Math.sqrt(m*m+p*p),y=Math.pow(a.idealLength-w,2)/a.elasticity;if(w!==0)var b=y*m/w,E=y*p/w;else var b=0,E=0;o.isLocked||(o.offsetX+=b,o.offsetY+=E),f.isLocked||(f.offsetX-=b,f.offsetY-=E)}}},AA=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],o=i.length;if(a===0)var l=e.clientHeight/2,f=e.clientWidth/2;else var c=e.layoutNodes[e.idToIndex[i[0]]],v=e.layoutNodes[e.idToIndex[c.parentId]],l=v.positionX,f=v.positionY;for(var d=0;d<o;d++){var g=e.layoutNodes[e.idToIndex[i[d]]];if(!g.isLocked){var m=l-g.positionX,p=f-g.positionY,w=Math.sqrt(m*m+p*p);if(w>n){var y=r.gravity*m/w,b=r.gravity*p/w;g.offsetX+=y,g.offsetY+=b}}}}},DA=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var o=n[a++],l=e.idToIndex[o],f=e.layoutNodes[l],c=f.children;if(0<c.length&&!f.isLocked){for(var v=f.offsetX,d=f.offsetY,g=0;g<c.length;g++){var m=e.layoutNodes[e.idToIndex[c[g]]];m.offsetX+=v,m.offsetY+=d,n[++i]=c[g]}f.offsetX=0,f.offsetY=0}}},kA=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=_A(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,RA(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},_A=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},RA=function t(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return t(a,r)}},Ep=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],l=o.cmptId,f=a[l]=a[l]||[];f.push(o)}for(var c=0,i=0;i<a.length;i++){var v=a[i];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var d=0;d<v.length;d++){var g=v[d];v.x1=Math.min(v.x1,g.positionX-g.width/2),v.x2=Math.max(v.x2,g.positionX+g.width/2),v.y1=Math.min(v.y1,g.positionY-g.height/2),v.y2=Math.max(v.y2,g.positionY+g.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,c+=v.w*v.h}}a.sort(function(E,S){return S.w*S.h-E.w*E.h});for(var m=0,p=0,w=0,y=0,b=Math.sqrt(c)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var v=a[i];if(v){for(var d=0;d<v.length;d++){var g=v[d];g.isLocked||(g.positionX+=m-v.x1,g.positionY+=p-v.y1)}m+=v.w+r.componentSpacing,w+=v.w+r.componentSpacing,y=Math.max(y,v.h),w>b&&(p+=y+r.componentSpacing,m=0,w=0,y=0)}}},OA={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Sp(t){this.options=Ne({},OA,t)}Sp.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=Ar(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(Q){return{x:i.x1,y:i.y1}});else{var o=a.size(),l=Math.sqrt(o*i.h/i.w),f=Math.round(l),c=Math.round(i.w/i.h*l),v=function(ue){if(ue==null)return Math.min(f,c);var ne=Math.min(f,c);ne==f?f=ue:c=ue},d=function(ue){if(ue==null)return Math.max(f,c);var ne=Math.max(f,c);ne==f?f=ue:c=ue},g=e.rows,m=e.cols!=null?e.cols:e.columns;if(g!=null&&m!=null)f=g,c=m;else if(g!=null&&m==null)f=g,c=Math.ceil(o/f);else if(g==null&&m!=null)c=m,f=Math.ceil(o/c);else if(c*f>o){var p=v(),w=d();(p-1)*w>=o?v(p-1):(w-1)*p>=o&&d(w-1)}else for(;c*f<o;){var y=v(),b=d();(b+1)*y>=o?d(b+1):v(y+1)}var E=i.w/c,S=i.h/f;if(e.condense&&(E=0,S=0),e.avoidOverlap)for(var T=0;T<a.length;T++){var A=a[T],D=A._private.position;(D.x==null||D.y==null)&&(D.x=0,D.y=0);var P=A.layoutDimensions(e),L=e.avoidOverlapPadding,_=P.w+L,F=P.h+L;E=Math.max(E,_),S=Math.max(S,F)}for(var N={},B=function(ue,ne){return!!N["c-"+ue+"-"+ne]},V=function(ue,ne){N["c-"+ue+"-"+ne]=!0},M=0,H=0,W=function(){H++,H>=c&&(H=0,M++)},q={},Y=0;Y<a.length;Y++){var te=a[Y],re=e.position(te);if(re&&(re.row!==void 0||re.col!==void 0)){var I={row:re.row,col:re.col};if(I.col===void 0)for(I.col=0;B(I.row,I.col);)I.col++;else if(I.row===void 0)for(I.row=0;B(I.row,I.col);)I.row++;q[te.id()]=I,V(I.row,I.col)}}var $=function(ue,ne){var Z,G;if(ue.locked()||ue.isParent())return!1;var J=q[ue.id()];if(J)Z=J.col*E+E/2+i.x1,G=J.row*S+S/2+i.y1;else{for(;B(M,H);)W();Z=H*E+E/2+i.x1,G=M*S+S/2+i.y1,V(M,H),W()}return{x:Z,y:G}};a.layoutPositions(this,e,$)}return this};var LA={ready:function(){},stop:function(){}};function vc(t){this.options=Ne({},LA,t)}vc.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this},vc.prototype.stop=function(){return this};var IA={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Cp(t){this.options=Ne({},IA,t)}Cp.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=kt(t.positions);function a(i){if(t.positions==null)return F2(i.position());if(n)return t.positions(i);var o=t.positions[i._private.data.id];return o??null}return r.layoutPositions(this,t,function(i,o){var l=a(i);return i.locked()||l==null?!1:l}),this};var MA={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Tp(t){this.options=Ne({},MA,t)}Tp.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=Ar(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(o,l){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var BA=[{name:"breadthfirst",impl:mp},{name:"circle",impl:yp},{name:"concentric",impl:bp},{name:"cose",impl:Vu},{name:"grid",impl:Sp},{name:"null",impl:vc},{name:"preset",impl:Cp},{name:"random",impl:Tp}];function Pp(t){this.options=t,this.notifications=0}var Ap=function(){},Dp=function(){throw new Error("A headless instance can not render images")};Pp.prototype={recalculateRenderedStyle:Ap,notify:function(){this.notifications++},init:Ap,isHeadless:function(){return!0},png:Dp,jpg:Dp};var dc={};dc.arrowShapeWidth=.3,dc.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(c,v,d,g,m,p,w){var y=m.x-d/2-w,b=m.x+d/2+w,E=m.y-d/2-w,S=m.y+d/2+w,T=y<=c&&c<=b&&E<=v&&v<=S;return T},n=function(c,v,d,g,m){var p=c*Math.cos(g)-v*Math.sin(g),w=c*Math.sin(g)+v*Math.cos(g),y=p*d,b=w*d,E=y+m.x,S=b+m.y;return{x:E,y:S}},a=function(c,v,d,g){for(var m=[],p=0;p<c.length;p+=2){var w=c[p],y=c[p+1];m.push(n(w,y,v,d,g))}return m},i=function(c){for(var v=[],d=0;d<c.length;d++){var g=c[d];v.push(g.x,g.y)}return v},o=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},l=function(c,v){Le(v)&&(v=t[v]),t[c]=Ne({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(g,m,p,w,y,b){var E=i(a(this.points,p+2*b,w,y)),S=Dr(g,m,E);return S},roughCollide:r,draw:function(g,m,p,w){var y=a(this.points,m,p,w);e.arrowShapeImpl("polygon")(g,y)},spacing:function(g){return 0},gap:o},v)};l("none",{collide:uu,roughCollide:uu,draw:Bf,spacing:$h,gap:$h}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(c,v,d,g,m){var p=a(this.points,v,d,g),w=this.controlPoint,y=n(w[0],w[1],v,d,g);e.arrowShapeImpl(this.name)(c,p,y)},gap:function(c){return o(c)*.8}}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,v,d,g,m,p,w){var y=i(a(this.points,d+2*w,g,m)),b=i(a(this.pointsTee,d+2*w,g,m)),E=Dr(c,v,y)||Dr(c,v,b);return E},draw:function(c,v,d,g,m){var p=a(this.points,v,d,g),w=a(this.pointsTee,v,d,g);e.arrowShapeImpl(this.name)(c,p,w)}}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,v,d,g,m,p,w){var y=m,b=Math.pow(y.x-c,2)+Math.pow(y.y-v,2)<=Math.pow((d+2*w)*this.radius,2),E=i(a(this.points,d+2*w,g,m));return Dr(c,v,E)||b},draw:function(c,v,d,g,m){var p=a(this.pointsTr,v,d,g);e.arrowShapeImpl(this.name)(c,p,g.x,g.y,this.radius*v)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,v){var d=this.baseCrossLinePts.slice(),g=v/c,m=3,p=5;return d[m]=d[m]-g,d[p]=d[p]-g,d},collide:function(c,v,d,g,m,p,w){var y=i(a(this.points,d+2*w,g,m)),b=i(a(this.crossLinePts(d,p),d+2*w,g,m)),E=Dr(c,v,y)||Dr(c,v,b);return E},draw:function(c,v,d,g,m){var p=a(this.points,v,d,g),w=a(this.crossLinePts(v,m),v,d,g);e.arrowShapeImpl(this.name)(c,p,w)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return o(c)*.525}}),l("circle",{radius:.15,collide:function(c,v,d,g,m,p,w){var y=m,b=Math.pow(y.x-c,2)+Math.pow(y.y-v,2)<=Math.pow((d+2*w)*this.radius,2);return b},draw:function(c,v,d,g,m){e.arrowShapeImpl(this.name)(c,g.x,g.y,this.radius*v)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var Na={};Na.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],l=r.pan(),f=r.zoom(),c=((t-a)/o-l.x)/f,v=((e-i)/o-l.y)/f;return[c,v]},Na.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(b){return parseFloat(r.getPropertyValue(b))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=t.clientWidth,l=t.clientHeight,f=a.left+a.right,c=a.top+a.bottom,v=i.left+i.right,d=e.width/(o+v),g=o-f,m=l-c,p=e.left+a.left+i.left,w=e.top+a.top+i.top;return this.containerBB=[p,w,g,m,d]},Na.invalidateContainerClientCoordsCache=function(){this.containerBB=null},Na.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]},Na.findNearestElements=function(t,e,r,n){var a=this,i=this,o=i.getCachedZSortedEles(),l=[],f=i.cy.zoom(),c=i.cy.hasCompoundNodes(),v=(n?24:8)/f,d=(n?8:2)/f,g=(n?8:2)/f,m=1/0,p,w;r&&(o=o.interactive);function y(P,L){if(P.isNode()){if(w)return;w=P,l.push(P)}if(P.isEdge()&&(L==null||L<m))if(p){if(p.pstyle("z-compound-depth").value===P.pstyle("z-compound-depth").value&&p.pstyle("z-compound-depth").value===P.pstyle("z-compound-depth").value){for(var _=0;_<l.length;_++)if(l[_].isEdge()){l[_]=P,p=P,m=L??m;break}}}else l.push(P),p=P,m=L??m}function b(P){var L=P.outerWidth()+2*d,_=P.outerHeight()+2*d,F=L/2,N=_/2,B=P.position(),V=P.pstyle("corner-radius").value==="auto"?"auto":P.pstyle("corner-radius").pfValue,M=P._private.rscratch;if(B.x-F<=t&&t<=B.x+F&&B.y-N<=e&&e<=B.y+N){var H=i.nodeShapes[a.getNodeShape(P)];if(H.checkPoint(t,e,0,L,_,B.x,B.y,V,M))return y(P,0),!0}}function E(P){var L=P._private,_=L.rscratch,F=P.pstyle("width").pfValue,N=P.pstyle("arrow-scale").value,B=F/2+v,V=B*B,M=B*2,Y=L.source,te=L.target,H;if(_.edgeType==="segments"||_.edgeType==="straight"||_.edgeType==="haystack"){for(var W=_.allpts,q=0;q+3<W.length;q+=2)if(Q2(t,e,W[q],W[q+1],W[q+2],W[q+3],M)&&V>(H=rS(t,e,W[q],W[q+1],W[q+2],W[q+3])))return y(P,H),!0}else if(_.edgeType==="bezier"||_.edgeType==="multibezier"||_.edgeType==="self"||_.edgeType==="compound"){for(var W=_.allpts,q=0;q+5<_.allpts.length;q+=4)if(J2(t,e,W[q],W[q+1],W[q+2],W[q+3],W[q+4],W[q+5],M)&&V>(H=tS(t,e,W[q],W[q+1],W[q+2],W[q+3],W[q+4],W[q+5])))return y(P,H),!0}for(var Y=Y||L.source,te=te||L.target,re=a.getArrowWidth(F,N),I=[{name:"source",x:_.arrowStartX,y:_.arrowStartY,angle:_.srcArrowAngle},{name:"target",x:_.arrowEndX,y:_.arrowEndY,angle:_.tgtArrowAngle},{name:"mid-source",x:_.midX,y:_.midY,angle:_.midsrcArrowAngle},{name:"mid-target",x:_.midX,y:_.midY,angle:_.midtgtArrowAngle}],q=0;q<I.length;q++){var $=I[q],Q=i.arrowShapes[P.pstyle($.name+"-arrow-shape").value],ue=P.pstyle("width").pfValue;if(Q.roughCollide(t,e,re,$.angle,{x:$.x,y:$.y},ue,v)&&Q.collide(t,e,re,$.angle,{x:$.x,y:$.y},ue,v))return y(P),!0}c&&l.length>0&&(b(Y),b(te))}function S(P,L,_){return mn(P,L,_)}function T(P,L){var _=P._private,F=g,N;L?N=L+"-":N="",P.boundingBox();var B=_.labelBounds[L||"main"],V=P.pstyle(N+"label").value,M=P.pstyle("text-events").strValue==="yes";if(!(!M||!V)){var H=S(_.rscratch,"labelX",L),W=S(_.rscratch,"labelY",L),q=S(_.rscratch,"labelAngle",L),Y=P.pstyle(N+"text-margin-x").pfValue,te=P.pstyle(N+"text-margin-y").pfValue,re=B.x1-F-Y,I=B.x2+F-Y,$=B.y1-F-te,Q=B.y2+F-te;if(q){var ue=Math.cos(q),ne=Math.sin(q),Z=function(ze,me){return ze=ze-H,me=me-W,{x:ze*ue-me*ne+H,y:ze*ne+me*ue+W}},G=Z(re,$),J=Z(re,Q),ee=Z(I,$),ce=Z(I,Q),ge=[G.x+Y,G.y+te,ee.x+Y,ee.y+te,ce.x+Y,ce.y+te,J.x+Y,J.y+te];if(Dr(t,e,ge))return y(P),!0}else if(mi(B,t,e))return y(P),!0}}for(var A=o.length-1;A>=0;A--){var D=o[A];D.isNode()?b(D)||T(D):E(D)||T(D)||T(D,"source")||T(D,"target")}return l},Na.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=[],o=Math.min(t,r),l=Math.max(t,r),f=Math.min(e,n),c=Math.max(e,n);t=o,r=l,e=f,n=c;for(var v=Ar({x1:t,y1:e,x2:r,y2:n}),d=0;d<a.length;d++){var g=a[d];if(g.isNode()){var m=g,p=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});$f(v,p)&&!Xh(p,v)&&i.push(m)}else{var w=g,y=w._private,b=y.rscratch;if(b.startX!=null&&b.startY!=null&&!mi(v,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!mi(v,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var E=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,S=!0,T=0;T<E.length;T++)if(!Z2(v,E[T])){S=!1;break}S&&i.push(w)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&i.push(w)}}return i};var Uu={};Uu.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",o=e.edgeType==="compound",l=e.edgeType==="self",f,c,v,d,g,m,b,E;if(r?(v=e.haystackPts[0],d=e.haystackPts[1],g=e.haystackPts[2],m=e.haystackPts[3]):(v=e.arrowStartX,d=e.arrowStartY,g=e.arrowEndX,m=e.arrowEndY),b=e.midX,E=e.midY,i)f=v-e.segpts[0],c=d-e.segpts[1];else if(a||o||l||n){var p=e.allpts,w=jt(p[0],p[2],p[4],.1),y=jt(p[1],p[3],p[5],.1);f=v-w,c=d-y}else f=v-b,c=d-E;e.srcArrowAngle=cu(f,c);var b=e.midX,E=e.midY;if(r&&(b=(v+g)/2,E=(d+m)/2),f=g-v,c=m-d,i){var p=e.allpts;if(p.length/2%2===0){var S=p.length/2,T=S-2;f=p[S]-p[T],c=p[S+1]-p[T+1]}else if(e.isRound)f=e.midVector[1],c=-e.midVector[0];else{var S=p.length/2-1,T=S-2;f=p[S]-p[T],c=p[S+1]-p[T+1]}}else if(a||o||l){var p=e.allpts,A=e.ctrlpts,D,P,L,_;if(A.length/2%2===0){var F=p.length/2-1,N=F+2,B=N+2;D=jt(p[F],p[N],p[B],0),P=jt(p[F+1],p[N+1],p[B+1],0),L=jt(p[F],p[N],p[B],1e-4),_=jt(p[F+1],p[N+1],p[B+1],1e-4)}else{var N=p.length/2-1,F=N-2,B=N+2;D=jt(p[F],p[N],p[B],.4999),P=jt(p[F+1],p[N+1],p[B+1],.4999),L=jt(p[F],p[N],p[B],.5),_=jt(p[F+1],p[N+1],p[B+1],.5)}f=L-D,c=_-P}if(e.midtgtArrowAngle=cu(f,c),e.midDispX=f,e.midDispY=c,f*=-1,c*=-1,i){var p=e.allpts;if(p.length/2%2!==0){if(!e.isRound){var S=p.length/2-1,V=S+2;f=-(p[V]-p[S]),c=-(p[V+1]-p[S+1])}}}if(e.midsrcArrowAngle=cu(f,c),i)f=g-e.segpts[e.segpts.length-2],c=m-e.segpts[e.segpts.length-1];else if(a||o||l||n){var p=e.allpts,M=p.length,w=jt(p[M-6],p[M-4],p[M-2],.9),y=jt(p[M-5],p[M-3],p[M-1],.9);f=g-w,c=m-y}else f=g-b,c=m-E;e.tgtArrowAngle=cu(f,c)},Uu.getArrowWidth=Uu.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var hc,gc,Rn={},nn={},kp,_p,Fa,Hu,Wn,za,$a,On,Li,Gu,Rp,Op,pc,mc,Lp,Ip=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},NA=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},FA=function(e,r,n,a,i){if(e!==Lp?Ip(r,e,Rn):NA(nn,Rn),Ip(r,n,nn),kp=Rn.nx*nn.ny-Rn.ny*nn.nx,_p=Rn.nx*nn.nx-Rn.ny*-nn.ny,Wn=Math.asin(Math.max(-1,Math.min(1,kp))),Math.abs(Wn)<1e-6){hc=r.x,gc=r.y,$a=Li=0;return}Fa=1,Hu=!1,_p<0?Wn<0?Wn=Math.PI+Wn:(Wn=Math.PI-Wn,Fa=-1,Hu=!0):Wn>0&&(Fa=-1,Hu=!0),r.radius!==void 0?Li=r.radius:Li=a,za=Wn/2,Gu=Math.min(Rn.len/2,nn.len/2),i?(On=Math.abs(Math.cos(za)*Li/Math.sin(za)),On>Gu?(On=Gu,$a=Math.abs(On*Math.sin(za)/Math.cos(za))):$a=Li):(On=Math.min(Gu,Li),$a=Math.abs(On*Math.sin(za)/Math.cos(za))),pc=r.x+nn.nx*On,mc=r.y+nn.ny*On,hc=pc-nn.ny*$a*Fa,gc=mc+nn.nx*$a*Fa,Rp=r.x+Rn.nx*On,Op=r.y+Rn.ny*On,Lp=r};function Mp(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function yc(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(FA(t,e,r,n,a),{cx:hc,cy:gc,radius:$a,startX:Rp,startY:Op,stopX:pc,stopY:mc,startAngle:Rn.ang+Math.PI/2*Fa,endAngle:nn.ang-Math.PI/2*Fa,counterClockwise:Hu})}var mr={};mr.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,i,o=t.pstyle("source-endpoint"),l=t.pstyle("target-endpoint"),f=o.units!=null&&l.units!=null,c=function(A,D,P,L){var _=L-D,F=P-A,N=Math.sqrt(F*F+_*_);return{x:-_/N,y:F/N}},v=t.pstyle("edge-distances").value;switch(v){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(f){var d=this.manualEndptToPx(t.source()[0],o),g=pn(d,2),m=g[0],p=g[1],w=this.manualEndptToPx(t.target()[0],l),y=pn(w,2),b=y[0],E=y[1],S={x1:m,y1:p,x2:b,y2:E};a=c(m,p,b,E),i=S}else ft("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}},mr.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,l=n.target,f=o.position(),c=l.position(),v=o.width(),d=l.width(),g=o.height(),m=l.height(),p=r.pstyle("haystack-radius").value,w=p/2;a.haystackPts=a.allpts=[a.source.x*v*w+f.x,a.source.y*g*w+f.y,a.target.x*d*w+c.x,a.target.y*m*w+c.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},mr.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),a=t.pstyle("segment-distances"),i=t.pstyle("segment-radii"),o=t.pstyle("radius-type"),l=Math.min(n.pfValue.length,a.pfValue.length),f=i.pfValue[i.pfValue.length-1],c=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var v=0;v<l;v++){var d=n.pfValue[v],g=a.pfValue[v],m=1-d,p=d,w=this.findMidptPtsEtc(t,e),y=w.midptPts,b=w.vectorNormInverse,E={x:y.x1*m+y.x2*p,y:y.y1*m+y.y2*p};r.segpts.push(E.x+b.x*g,E.y+b.y*g),r.radii.push(i.pfValue[v]!==void 0?i.pfValue[v]:f),r.isArcRadius.push((o.pfValue[v]!==void 0?o.pfValue[v]:c)==="arc-radius")}},mr.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,o=e.srcPos,l=t.pstyle("control-point-distances"),f=l?l.pfValue[0]:void 0,c=t.pstyle("loop-direction").pfValue,v=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var g=r,m=d;n&&(g=0,m=f);var p=c-Math.PI/2,w=p-v/2,y=p+v/2,b=c+"_"+v;g=i[b]===void 0?i[b]=0:++i[b],a.ctrlpts=[o.x+Math.cos(w)*1.4*m*(g/3+1),o.y+Math.sin(w)*1.4*m*(g/3+1),o.x+Math.cos(y)*1.4*m*(g/3+1),o.y+Math.sin(y)*1.4*m*(g/3+1)]},mr.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,o=e.tgtPos,l=e.srcW,f=e.srcH,c=e.tgtW,v=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,g=t.pstyle("control-point-distances"),m=g?g.pfValue[0]:void 0,p=r,w=d;n&&(p=0,w=m);var y=50,b={x:i.x-l/2,y:i.y-f/2},E={x:o.x-c/2,y:o.y-v/2},S={x:Math.min(b.x,E.x),y:Math.min(b.y,E.y)},T=.5,A=Math.max(T,Math.log(l*.01)),D=Math.max(T,Math.log(c*.01));a.ctrlpts=[S.x,S.y-(1+Math.pow(y,1.12)/100)*w*(p/3+1)*A,S.x-(1+Math.pow(y,1.12)/100)*w*(p/3+1)*D,S.y]},mr.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},mr.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,o=t.pstyle("control-point-step-size").pfValue,l=t.pstyle("control-point-distances"),f=t.pstyle("control-point-weights"),c=l&&f?Math.min(l.value.length,f.value.length):1,v=l?l.pfValue[0]:void 0,d=f.value[0],g=n;i.edgeType=g?"multibezier":"bezier",i.ctrlpts=[];for(var m=0;m<c;m++){var p=(.5-e.eles.length/2+r)*o*(a?-1:1),w=void 0,y=Gh(p);g&&(v=l?l.pfValue[m]:o,d=f.value[m]),n?w=v:w=v!==void 0?y*v:void 0;var b=w!==void 0?w:p,E=1-d,S=d,T=this.findMidptPtsEtc(t,e),A=T.midptPts,D=T.vectorNormInverse,P={x:A.x1*E+A.x2*S,y:A.y1*E+A.y2*S};i.ctrlpts.push(P.x+D.x*b,P.y+D.y*b)}},mr.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",l="downward",f="upward",c="auto",v=e.posPts,d=e.srcW,g=e.srcH,m=e.tgtW,p=e.tgtH,w=t.pstyle("edge-distances").value,y=w!=="node-position",b=t.pstyle("taxi-direction").value,E=b,S=t.pstyle("taxi-turn"),T=S.units==="%",A=S.pfValue,D=A<0,P=t.pstyle("taxi-turn-min-distance").pfValue,L=y?(d+m)/2:0,_=y?(g+p)/2:0,F=v.x2-v.x1,N=v.y2-v.y1,B=function(Me,Be){return Me>0?Math.max(Me-Be,0):Math.min(Me+Be,0)},V=B(F,L),M=B(N,_),H=!1;E===c?b=Math.abs(V)>Math.abs(M)?a:n:E===f||E===l?(b=n,H=!0):(E===i||E===o)&&(b=a,H=!0);var W=b===n,q=W?M:V,Y=W?N:F,te=Gh(Y),re=!1;!(H&&(T||D))&&(E===l&&Y<0||E===f&&Y>0||E===i&&Y>0||E===o&&Y<0)&&(te*=-1,q=te*Math.abs(q),re=!0);var I;if(T){var $=A<0?1+A:A;I=$*q}else{var Q=A<0?q:0;I=Q+A*te}var ue=function(Me){return Math.abs(Me)<P||Math.abs(Me)>=Math.abs(q)},ne=ue(I),Z=ue(Math.abs(q)-Math.abs(I)),G=ne||Z;if(G&&!re)if(W){var J=Math.abs(Y)<=g/2,ee=Math.abs(F)<=m/2;if(J){var ce=(v.x1+v.x2)/2,ge=v.y1,De=v.y2;r.segpts=[ce,ge,ce,De]}else if(ee){var ze=(v.y1+v.y2)/2,me=v.x1,we=v.x2;r.segpts=[me,ze,we,ze]}else r.segpts=[v.x1,v.y2]}else{var Ae=Math.abs(Y)<=d/2,Se=Math.abs(N)<=p/2;if(Ae){var _e=(v.y1+v.y2)/2,Ie=v.x1,je=v.x2;r.segpts=[Ie,_e,je,_e]}else if(Se){var Ue=(v.x1+v.x2)/2,We=v.y1,Qe=v.y2;r.segpts=[Ue,We,Ue,Qe]}else r.segpts=[v.x2,v.y1]}else if(W){var he=v.y1+I+(y?g/2*te:0),O=v.x1,j=v.x2;r.segpts=[O,he,j,he]}else{var fe=v.x1+I+(y?d/2*te:0),ie=v.y1,oe=v.y2;r.segpts=[fe,ie,fe,oe]}if(r.isRound){var be=t.pstyle("taxi-radius").value,se=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(be),r.isArcRadius=new Array(r.segpts.length/2).fill(se)}},mr.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,o=e.srcH,l=e.tgtW,f=e.tgtH,c=e.srcShape,v=e.tgtShape,d=e.srcCornerRadius,g=e.tgtCornerRadius,m=e.srcRs,p=e.tgtRs,w=!xe(r.startX)||!xe(r.startY),y=!xe(r.arrowStartX)||!xe(r.arrowStartY),b=!xe(r.endX)||!xe(r.endY),E=!xe(r.arrowEndX)||!xe(r.arrowEndY),S=3,T=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,A=S*T,D=_a({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),P=D<A,L=_a({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),_=L<A,F=!1;if(w||y||P){F=!0;var N={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},B=Math.sqrt(N.x*N.x+N.y*N.y),V={x:N.x/B,y:N.y/B},M=Math.max(i,o),H={x:r.ctrlpts[0]+V.x*2*M,y:r.ctrlpts[1]+V.y*2*M},W=c.intersectLine(n.x,n.y,i,o,H.x,H.y,0,d,m);P?(r.ctrlpts[0]=r.ctrlpts[0]+V.x*(A-D),r.ctrlpts[1]=r.ctrlpts[1]+V.y*(A-D)):(r.ctrlpts[0]=W[0]+V.x*A,r.ctrlpts[1]=W[1]+V.y*A)}if(b||E||_){F=!0;var q={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},Y=Math.sqrt(q.x*q.x+q.y*q.y),te={x:q.x/Y,y:q.y/Y},re=Math.max(i,o),I={x:r.ctrlpts[0]+te.x*2*re,y:r.ctrlpts[1]+te.y*2*re},$=v.intersectLine(a.x,a.y,l,f,I.x,I.y,0,g,p);_?(r.ctrlpts[0]=r.ctrlpts[0]+te.x*(A-L),r.ctrlpts[1]=r.ctrlpts[1]+te.y*(A-L)):(r.ctrlpts[0]=$[0]+te.x*A,r.ctrlpts[1]=$[1]+te.y*A)}F&&this.findEndpoints(t)}},mr.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=jt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=jt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var i=2;i+3<e.allpts.length;i+=2){var o=e.radii[i/2-1],l=e.isArcRadius[i/2-1];e.roundCorners.push(yc({x:e.allpts[i-2],y:e.allpts[i-1]},{x:e.allpts[i],y:e.allpts[i+1],radius:o},{x:e.allpts[i+2],y:e.allpts[i+3]},o,l))}}if(e.segpts.length%4===0){var f=e.segpts.length/2,c=f-2;e.midX=(e.segpts[c]+e.segpts[f])/2,e.midY=(e.segpts[c+1]+e.segpts[f+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var d={x:e.segpts[v],y:e.segpts[v+1]},g=e.roundCorners[v/2],m=[d.x-g.cx,d.y-g.cy],p=g.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(w){return w*p}),e.midX=g.cx+m[0],e.midY=g.cy+m[1],e.midVector=m}}}},mr.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||xe(e.startX)&&xe(e.startY)&&xe(e.endX)&&xe(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ft("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},mr.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i={map:new kn,get:function(P){var L=this.map.get(P[0]);return L!=null?L.get(P[1]):null},set:function(P,L){var _=this.map.get(P[0]);_==null&&(_=new kn,this.map.set(P[0],_)),_.set(P[1],L)}},o=[],l=[],f=0;f<t.length;f++){var c=t[f],v=c._private,d=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(d==="haystack"){l.push(c);continue}var g=d==="unbundled-bezier"||d.endsWith("segments")||d==="straight"||d==="straight-triangle"||d.endsWith("taxi"),m=d==="unbundled-bezier"||d==="bezier",p=v.source,w=v.target,y=p.poolIndex(),b=w.poolIndex(),E=[y,b].sort(),S=i.get(E);S==null&&(S={eles:[]},i.set(E,S),o.push(E)),S.eles.push(c),g&&(S.hasUnbundled=!0),m&&(S.hasBezier=!0)}}for(var T=function(P){var L=o[P],_=i.get(L),F=void 0;if(!_.hasUnbundled){var N=_.eles[0].parallelEdges().filter(function(fe){return fe.isBundledBezier()});Nf(_.eles),N.forEach(function(fe){return _.eles.push(fe)}),_.eles.sort(function(fe,ie){return fe.poolIndex()-ie.poolIndex()})}var B=_.eles[0],V=B.source(),M=B.target();if(V.poolIndex()>M.poolIndex()){var H=V;V=M,M=H}var W=_.srcPos=V.position(),q=_.tgtPos=M.position(),Y=_.srcW=V.outerWidth(),te=_.srcH=V.outerHeight(),re=_.tgtW=M.outerWidth(),I=_.tgtH=M.outerHeight(),$=_.srcShape=r.nodeShapes[e.getNodeShape(V)],Q=_.tgtShape=r.nodeShapes[e.getNodeShape(M)],ue=_.srcCornerRadius=V.pstyle("corner-radius").value==="auto"?"auto":V.pstyle("corner-radius").pfValue,ne=_.tgtCornerRadius=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,Z=_.tgtRs=M._private.rscratch,G=_.srcRs=V._private.rscratch;_.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var J=0;J<_.eles.length;J++){var ee=_.eles[J],ce=ee[0]._private.rscratch,ge=ee.pstyle("curve-style").value,De=ge==="unbundled-bezier"||ge.endsWith("segments")||ge.endsWith("taxi"),ze=!V.same(ee.source());if(!_.calculatedIntersection&&V!==M&&(_.hasBezier||_.hasUnbundled)){_.calculatedIntersection=!0;var me=$.intersectLine(W.x,W.y,Y,te,q.x,q.y,0,ue,G),we=_.srcIntn=me,Ae=Q.intersectLine(q.x,q.y,re,I,W.x,W.y,0,ne,Z),Se=_.tgtIntn=Ae,_e=_.intersectionPts={x1:me[0],x2:Ae[0],y1:me[1],y2:Ae[1]},Ie=_.posPts={x1:W.x,x2:q.x,y1:W.y,y2:q.y},je=Ae[1]-me[1],Ue=Ae[0]-me[0],We=Math.sqrt(Ue*Ue+je*je),Qe=_.vector={x:Ue,y:je},he=_.vectorNorm={x:Qe.x/We,y:Qe.y/We},O={x:-he.y,y:he.x};_.nodesOverlap=!xe(We)||Q.checkPoint(me[0],me[1],0,re,I,q.x,q.y,ne,Z)||$.checkPoint(Ae[0],Ae[1],0,Y,te,W.x,W.y,ue,G),_.vectorNormInverse=O,F={nodesOverlap:_.nodesOverlap,dirCounts:_.dirCounts,calculatedIntersection:!0,hasBezier:_.hasBezier,hasUnbundled:_.hasUnbundled,eles:_.eles,srcPos:q,tgtPos:W,srcW:re,srcH:I,tgtW:Y,tgtH:te,srcIntn:Se,tgtIntn:we,srcShape:Q,tgtShape:$,posPts:{x1:Ie.x2,y1:Ie.y2,x2:Ie.x1,y2:Ie.y1},intersectionPts:{x1:_e.x2,y1:_e.y2,x2:_e.x1,y2:_e.y1},vector:{x:-Qe.x,y:-Qe.y},vectorNorm:{x:-he.x,y:-he.y},vectorNormInverse:{x:-O.x,y:-O.y}}}var j=ze?F:_;ce.nodesOverlap=j.nodesOverlap,ce.srcIntn=j.srcIntn,ce.tgtIntn=j.tgtIntn,ce.isRound=ge.startsWith("round"),a&&(V.isParent()||V.isChild()||M.isParent()||M.isChild())&&(V.parents().anySame(M)||M.parents().anySame(V)||V.same(M)&&V.isParent())?e.findCompoundLoopPoints(ee,j,J,De):V===M?e.findLoopPoints(ee,j,J,De):ge.endsWith("segments")?e.findSegmentsPoints(ee,j):ge.endsWith("taxi")?e.findTaxiPoints(ee,j):ge==="straight"||!De&&_.eles.length%2===1&&J===Math.floor(_.eles.length/2)?e.findStraightEdgePoints(ee):e.findBezierPoints(ee,j,J,De,ze),e.findEndpoints(ee),e.tryToCorrectInvalidPoints(ee,j),e.checkForInvalidEdgeWarning(ee),e.storeAllpts(ee),e.storeEdgeProjections(ee),e.calculateArrowAngles(ee),e.recalculateEdgeLabelProjections(ee),e.calculateLabelAngles(ee)}},A=0;A<o.length;A++)T(A);this.findHaystackPoints(l)}};function Bp(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}mr.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),Bp(e.segpts)},mr.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),Bp(e.ctrlpts)},mr.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Ho={};Ho.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight(),o=t._private.rscratch;if(e.value.length===2){var l=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(l[0]=l[0]*a),e.units[1]==="%"&&(l[1]=l[1]*i),l[0]+=n.x,l[1]+=n.y,l}else{var f=e.pfValue[0];f=-Math.PI/2+f;var c=2*Math.max(a,i),v=[n.x+Math.cos(f)*c,n.y+Math.sin(f)*c];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,v[0],v[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,o)}},Ho.findEndpoints=function(t){var e=this,r,n=t.source()[0],a=t.target()[0],i=n.position(),o=a.position(),l=t.pstyle("target-arrow-shape").value,f=t.pstyle("source-arrow-shape").value,c=t.pstyle("target-distance-from-node").pfValue,v=t.pstyle("source-distance-from-node").pfValue,d=n._private.rscratch,g=a._private.rscratch,m=t.pstyle("curve-style").value,p=t._private.rscratch,w=p.edgeType,y=m==="taxi",b=w==="self"||w==="compound",E=w==="bezier"||w==="multibezier"||b,S=w!=="bezier",T=w==="straight"||w==="segments",A=w==="segments",D=E||S||T,P=b||y,L=t.pstyle("source-endpoint"),_=P?"outside-to-node":L.value,F=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,N=t.pstyle("target-endpoint"),B=P?"outside-to-node":N.value,V=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue;p.srcManEndpt=L,p.tgtManEndpt=N;var M,H,W,q;if(E){var Y=[p.ctrlpts[0],p.ctrlpts[1]],te=S?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:Y;M=te,H=Y}else if(T){var re=A?p.segpts.slice(0,2):[o.x,o.y],I=A?p.segpts.slice(p.segpts.length-2):[i.x,i.y];M=I,H=re}if(B==="inside-to-node")r=[o.x,o.y];else if(N.units)r=this.manualEndptToPx(a,N);else if(B==="outside-to-line")r=p.tgtIntn;else if(B==="outside-to-node"||B==="outside-to-node-or-label"?W=M:(B==="outside-to-line"||B==="outside-to-line-or-label")&&(W=[i.x,i.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(o.x,o.y,a.outerWidth(),a.outerHeight(),W[0],W[1],0,V,g),B==="outside-to-node-or-label"||B==="outside-to-line-or-label"){var $=a._private.rscratch,Q=$.labelWidth,ue=$.labelHeight,ne=$.labelX,Z=$.labelY,G=Q/2,J=ue/2,ee=a.pstyle("text-valign").value;ee==="top"?Z-=J:ee==="bottom"&&(Z+=J);var ce=a.pstyle("text-halign").value;ce==="left"?ne-=G:ce==="right"&&(ne+=G);var ge=Ro(W[0],W[1],[ne-G,Z-J,ne+G,Z-J,ne+G,Z+J,ne-G,Z+J],o.x,o.y);if(ge.length>0){var De=i,ze=Ra(De,gi(r)),me=Ra(De,gi(ge)),we=ze;if(me<ze&&(r=ge,we=me),ge.length>2){var Ae=Ra(De,{x:ge[2],y:ge[3]});Ae<we&&(r=[ge[2],ge[3]])}}}var Se=pu(r,M,e.arrowShapes[l].spacing(t)+c),_e=pu(r,M,e.arrowShapes[l].gap(t)+c);if(p.endX=_e[0],p.endY=_e[1],p.arrowEndX=Se[0],p.arrowEndY=Se[1],_==="inside-to-node")r=[i.x,i.y];else if(L.units)r=this.manualEndptToPx(n,L);else if(_==="outside-to-line")r=p.srcIntn;else if(_==="outside-to-node"||_==="outside-to-node-or-label"?q=H:(_==="outside-to-line"||_==="outside-to-line-or-label")&&(q=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),q[0],q[1],0,F,d),_==="outside-to-node-or-label"||_==="outside-to-line-or-label"){var Ie=n._private.rscratch,je=Ie.labelWidth,Ue=Ie.labelHeight,We=Ie.labelX,Qe=Ie.labelY,he=je/2,O=Ue/2,j=n.pstyle("text-valign").value;j==="top"?Qe-=O:j==="bottom"&&(Qe+=O);var fe=n.pstyle("text-halign").value;fe==="left"?We-=he:fe==="right"&&(We+=he);var ie=Ro(q[0],q[1],[We-he,Qe-O,We+he,Qe-O,We+he,Qe+O,We-he,Qe+O],i.x,i.y);if(ie.length>0){var oe=o,be=Ra(oe,gi(r)),se=Ra(oe,gi(ie)),ye=be;if(se<be&&(r=[ie[0],ie[1]],ye=se),ie.length>2){var Me=Ra(oe,{x:ie[2],y:ie[3]});Me<ye&&(r=[ie[2],ie[3]])}}}var Be=pu(r,H,e.arrowShapes[f].spacing(t)+v),ke=pu(r,H,e.arrowShapes[f].gap(t)+v);p.startX=ke[0],p.startY=ke[1],p.arrowStartX=Be[0],p.arrowStartY=Be[1],D&&(!xe(p.startX)||!xe(p.startY)||!xe(p.endX)||!xe(p.endY)?p.badLine=!0:p.badLine=!1)},Ho.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},Ho.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var bc={};function zA(t,e,r){for(var n=function(c,v,d,g){return jt(c,v,d,g)},a=e._private,i=a.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var l=t.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}bc.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)zA(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var o=r.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},bc.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Ln={};Ln.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!aa(e)){var r,n,a=t._private,i=t.width(),o=t.height(),l=t.padding(),f=t.position(),c=t.pstyle("text-halign").strValue,v=t.pstyle("text-valign").strValue,d=a.rscratch,g=a.rstyle;switch(c){case"left":r=f.x-i/2-l;break;case"right":r=f.x+i/2+l;break;default:r=f.x}switch(v){case"top":n=f.y-o/2-l;break;case"bottom":n=f.y+o/2+l;break;default:n=f.y}d.labelX=r,d.labelY=n,g.labelX=r,g.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var Np=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},Fp=function(e,r){var n=r.x-e.x,a=r.y-e.y;return Np(n,a)},$A=function(e,r,n,a){var i=ko(0,a-.001,1),o=ko(0,a+.001,1),l=pi(e,r,n,i),f=pi(e,r,n,o);return Fp(l,f)};Ln.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var o=function(d,g,m){sa(r.rscratch,d,g,m),sa(r.rstyle,d,g,m)};o("labelX",null,e.x),o("labelY",null,e.y);var l=Np(n.midDispX,n.midDispY);o("labelAutoAngle",null,l);var f=function v(){if(v.cache)return v.cache;for(var d=[],g=0;g+5<n.allpts.length;g+=4){var m={x:n.allpts[g],y:n.allpts[g+1]},p={x:n.allpts[g+2],y:n.allpts[g+3]},w={x:n.allpts[g+4],y:n.allpts[g+5]};d.push({p0:m,p1:p,p2:w,startDist:0,length:0,segments:[]})}var y=r.rstyle.bezierPts,b=a.bezierProjPcts.length;function E(P,L,_,F,N){var B=_a(L,_),V=P.segments[P.segments.length-1],M={p0:L,p1:_,t0:F,t1:N,startDist:V?V.startDist+V.length:0,length:B};P.segments.push(M),P.length+=B}for(var S=0;S<d.length;S++){var T=d[S],A=d[S-1];A&&(T.startDist=A.startDist+A.length),E(T,T.p0,y[S*b],0,a.bezierProjPcts[0]);for(var D=0;D<b-1;D++)E(T,y[S*b+D],y[S*b+D+1],a.bezierProjPcts[D],a.bezierProjPcts[D+1]);E(T,y[S*b+b-1],T.p2,a.bezierProjPcts[b-1],1)}return v.cache=d},c=function(d){var g,m=d==="source";if(i[d]){var p=t.pstyle(d+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var w=f(),y,b=0,E=0,S=0;S<w.length;S++){for(var T=w[m?S:w.length-1-S],A=0;A<T.segments.length;A++){var D=T.segments[m?A:T.segments.length-1-A],P=S===w.length-1&&A===T.segments.length-1;if(b=E,E+=D.length,E>=p||P){y={cp:T,segment:D};break}}if(y)break}var L=y.cp,_=y.segment,F=(p-b)/_.length,N=_.t1-_.t0,B=m?_.t0+N*F:_.t1-N*F;B=ko(0,B,1),e=pi(L.p0,L.p1,L.p2,B),g=$A(L.p0,L.p1,L.p2,B);break}case"straight":case"segments":case"haystack":{for(var V=0,M,H,W,q,Y=n.allpts.length,te=0;te+3<Y&&(m?(W={x:n.allpts[te],y:n.allpts[te+1]},q={x:n.allpts[te+2],y:n.allpts[te+3]}):(W={x:n.allpts[Y-2-te],y:n.allpts[Y-1-te]},q={x:n.allpts[Y-4-te],y:n.allpts[Y-3-te]}),M=_a(W,q),H=V,V+=M,!(V>=p));te+=2);var re=p-H,I=re/M;I=ko(0,I,1),e=H2(W,q,I),g=Fp(W,q);break}}o("labelX",d,e.x),o("labelY",d,e.y),o("labelAutoAngle",d,g)}};c("source"),c("target"),this.applyLabelDimensions(t)}},Ln.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},Ln.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=this.calculateLabelDimensions(t,n),i=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,l=mn(r.rscratch,"labelWrapCachedLines",e)||[],f=o!=="wrap"?1:Math.max(l.length,1),c=a.height/f,v=c*i,d=a.width,g=a.height+(f-1)*(i-1)*c;sa(r.rstyle,"labelWidth",e,d),sa(r.rscratch,"labelWidth",e,d),sa(r.rstyle,"labelHeight",e,g),sa(r.rscratch,"labelHeight",e,g),sa(r.rscratch,"labelLineHeight",e,v)},Ln.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,o=function(re,I){return I?(sa(r.rscratch,re,e,I),I):mn(r.rscratch,re,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var l=t.pstyle("text-wrap").value;if(l==="wrap"){var f=o("labelKey");if(f!=null&&o("labelWrapKey")===f)return o("labelWrapCachedText");for(var c="",v=a.split(`
`),d=t.pstyle("text-max-width").pfValue,g=t.pstyle("text-overflow-wrap").value,m=g==="anywhere",p=[],w=/[\s\u200b]+/,y=m?"":" ",b=0;b<v.length;b++){var E=v[b],S=this.calculateLabelDimensions(t,E),T=S.width;if(m){var A=E.split("").join(c);E=A}if(T>d){for(var D=E.split(w),P="",L=0;L<D.length;L++){var _=D[L],F=P.length===0?_:P+y+_,N=this.calculateLabelDimensions(t,F),B=N.width;B<=d?P+=_+y:(P&&p.push(P),P=_+y)}P.match(/^[\s\u200b]+$/)||p.push(P)}else p.push(E)}o("labelWrapCachedLines",p),a=o("labelWrapCachedText",p.join(`
`)),o("labelWrapKey",f)}else if(l==="ellipsis"){var V=t.pstyle("text-max-width").pfValue,M="",H="",W=!1;if(this.calculateLabelDimensions(t,a).width<V)return a;for(var q=0;q<a.length;q++){var Y=this.calculateLabelDimensions(t,M+a[q]+H).width;if(Y>V)break;M+=a[q],q===a.length-1&&(W=!0)}return W||(M+=H),M}return a},Ln.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e},Ln.calculateLabelDimensions=function(t,e){var r=this,n=ka(e,t._private.labelDimsKey),a=r.labelDimCache||(r.labelDimCache=[]),i=a[n];if(i!=null)return i;var o=0,l=t.pstyle("font-style").strValue,f=t.pstyle("font-size").pfValue,c=t.pstyle("font-family").strValue,v=t.pstyle("font-weight").strValue,d=this.labelCalcCanvas,g=this.labelCalcCanvasContext;if(!d){d=this.labelCalcCanvas=document.createElement("canvas"),g=this.labelCalcCanvasContext=d.getContext("2d");var m=d.style;m.position="absolute",m.left="-9999px",m.top="-9999px",m.zIndex="-1",m.visibility="hidden",m.pointerEvents="none"}g.font="".concat(l," ").concat(v," ").concat(f,"px ").concat(c);for(var p=0,w=0,y=e.split(`
`),b=0;b<y.length;b++){var E=y[b],S=g.measureText(E),T=Math.ceil(S.width),A=f;p=Math.max(T,p),w+=A}return p+=o,w+=o,a[n]={width:p,height:w}},Ln.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),l=o.strValue;return l==="none"?0:a&&l==="autorotate"?n.labelAutoAngle:l==="autorotate"?0:o.pfValue},Ln.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var zp={},$p=28,qp=!1;zp.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<$p||t.height()<$p))return qp||(ft("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),qp=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Ku={};Ku.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),l)for(var f=0;f<o.length;f++){var c=o[f],v=c._private,d=v.rstyle;d.clean=!1,d.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(o){var l=o.target;n(l)}).on("style.* background.*",function(o){var l=o.target;n(l,!1)});var a=function(o){if(o){var l=r.onUpdateEleCalcsFns;e.cleanStyle();for(var f=0;f<e.length;f++){var c=e[f],v=c._private.rstyle;c.isNode()&&!v.cleanConnected&&(n(c.connectedEdges()),v.cleanConnected=!0)}if(l)for(var d=0;d<l.length;d++){var g=l[d];g(o,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)},Ku.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)},Ku.recalculateRenderedStyle=function(t,e){var r=function(T){return T._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var o=t[i],l=o._private,f=l.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(f.clean=!1),!(e&&f.clean||o.removed())&&o.pstyle("display").value!=="none"&&(l.group==="nodes"?a.push(o):n.push(o),f.clean=!0)}for(var c=0;c<a.length;c++){var v=a[c],d=v._private,g=d.rstyle,m=v.position();this.recalculateNodeLabelProjection(v),g.nodeX=m.x,g.nodeY=m.y,g.nodeW=v.pstyle("width").pfValue,g.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var p=0;p<n.length;p++){var w=n[p],y=w._private,b=y.rstyle,E=y.rscratch;b.srcX=E.arrowStartX,b.srcY=E.arrowStartY,b.tgtX=E.arrowEndX,b.tgtY=E.arrowEndY,b.midX=E.midX,b.midY=E.midY,b.labelAngle=E.labelAngle,b.sourceLabelAngle=E.sourceLabelAngle,b.targetLabelAngle=E.targetLabelAngle}}};var Yu={};Yu.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}},Yu.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},Yu.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(np),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Vp={};[Na,Uu,mr,Ho,bc,Ln,zp,Ku,Yu].forEach(function(t){Ne(Vp,t)});var Wp={};Wp.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var o=i.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var l="data:",f=t.substring(0,l.length).toLowerCase()===l;return f||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o};var Ii={};Ii.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]),i=this.binder(t);return i.on.apply(i,a)},Ii.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||cE(t);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var o=function(f,c,v){var d=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(d[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:d}),(t.addEventListener||t.on).apply(t,d),this};return{on:o,addEventListener:o,addListener:o,bind:o}},Ii.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},Ii.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()},Ii.load=function(){var t=this,e=t.cy.window(),r=function(O){return O.selected()},n=function(O,j,fe,ie){O==null&&(O=t.cy);for(var oe=0;oe<j.length;oe++){var be=j[oe];O.emit({originalEvent:fe,type:be,position:ie})}},a=function(O){return O.shiftKey||O.metaKey||O.ctrlKey},i=function(O,j){var fe=!0;if(t.cy.hasCompoundNodes()&&O&&O.pannable())for(var ie=0;j&&ie<j.length;ie++){var O=j[ie];if(O.isNode()&&O.isParent()&&!O.pannable()){fe=!1;break}}else fe=!0;return fe},o=function(O){O[0]._private.grabbed=!0},l=function(O){O[0]._private.grabbed=!1},f=function(O){O[0]._private.rscratch.inDragLayer=!0},c=function(O){O[0]._private.rscratch.inDragLayer=!1},v=function(O){O[0]._private.rscratch.isGrabTarget=!0},d=function(O){O[0]._private.rscratch.isGrabTarget=!1},g=function(O,j){var fe=j.addToList,ie=fe.has(O);!ie&&O.grabbable()&&!O.locked()&&(fe.merge(O),o(O))},m=function(O,j){if(O.cy().hasCompoundNodes()&&!(j.inDragLayer==null&&j.addToList==null)){var fe=O.descendants();j.inDragLayer&&(fe.forEach(f),fe.connectedEdges().forEach(f)),j.addToList&&g(fe,j)}},p=function(O,j){j=j||{};var fe=O.cy().hasCompoundNodes();j.inDragLayer&&(O.forEach(f),O.neighborhood().stdFilter(function(ie){return!fe||ie.isEdge()}).forEach(f)),j.addToList&&O.forEach(function(ie){g(ie,j)}),m(O,j),b(O,{inDragLayer:j.inDragLayer}),t.updateCachedGrabbedEles()},w=p,y=function(O){O&&(t.getCachedZSortedEles().forEach(function(j){l(j),c(j),d(j)}),t.updateCachedGrabbedEles())},b=function(O,j){if(!(j.inDragLayer==null&&j.addToList==null)&&O.cy().hasCompoundNodes()){var fe=O.ancestors().orphans();if(!fe.same(O)){var ie=fe.descendants().spawnSelf().merge(fe).unmerge(O).unmerge(O.descendants()),oe=ie.connectedEdges();j.inDragLayer&&(oe.forEach(f),ie.forEach(f)),j.addToList&&ie.forEach(function(be){g(be,j)})}}},E=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},S=typeof MutationObserver<"u",T=typeof ResizeObserver<"u";S?(t.removeObserver=new MutationObserver(function(he){for(var O=0;O<he.length;O++){var j=he[O],fe=j.removedNodes;if(fe)for(var ie=0;ie<fe.length;ie++){var oe=fe[ie];if(oe===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(he){t.destroy()});var A=iu(function(){t.cy.resize()},100);S&&(t.styleObserver=new MutationObserver(A),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",A),T&&(t.resizeObserver=new ResizeObserver(A),t.resizeObserver.observe(t.container));var D=function(O,j){for(;O!=null;)j(O),O=O.parentNode},P=function(){t.invalidateContainerClientCoordsCache()};D(t.container,function(he){t.registerBinding(he,"transitionend",P),t.registerBinding(he,"animationend",P),t.registerBinding(he,"scroll",P)}),t.registerBinding(t.container,"contextmenu",function(he){he.preventDefault()});var L=function(){return t.selection[4]!==0},_=function(O){for(var j=t.findContainerClientCoords(),fe=j[0],ie=j[1],oe=j[2],be=j[3],se=O.touches?O.touches:[O],ye=!1,Me=0;Me<se.length;Me++){var Be=se[Me];if(fe<=Be.clientX&&Be.clientX<=fe+oe&&ie<=Be.clientY&&Be.clientY<=ie+be){ye=!0;break}}if(!ye)return!1;for(var ke=t.container,$e=O.target,Ce=$e.parentNode,Oe=!1;Ce;){if(Ce===ke){Oe=!0;break}Ce=Ce.parentNode}return!!Oe};t.registerBinding(t.container,"mousedown",function(O){if(_(O)){O.preventDefault(),E(),t.hoverData.capture=!0,t.hoverData.which=O.which;var j=t.cy,fe=[O.clientX,O.clientY],ie=t.projectIntoViewport(fe[0],fe[1]),oe=t.selection,be=t.findNearestElements(ie[0],ie[1],!0,!1),se=be[0],ye=t.dragData.possibleDragElements;t.hoverData.mdownPos=ie,t.hoverData.mdownGPos=fe;var Me=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var St=t.hoverData.down;St?St.emit({originalEvent:O,type:"taphold",position:{x:ie[0],y:ie[1]}}):j.emit({originalEvent:O,type:"taphold",position:{x:ie[0],y:ie[1]}})}},t.tapholdDuration)};if(O.which==3){t.hoverData.cxtStarted=!0;var Be={originalEvent:O,type:"cxttapstart",position:{x:ie[0],y:ie[1]}};se?(se.activate(),se.emit(Be),t.hoverData.down=se):j.emit(Be),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(O.which==1){se&&se.activate();{if(se!=null&&t.nodeIsGrabbable(se)){var ke=function(St){return{originalEvent:O,type:St,position:{x:ie[0],y:ie[1]}}},$e=function(St){St.emit(ke("grab"))};if(v(se),!se.selected())ye=t.dragData.possibleDragElements=j.collection(),w(se,{addToList:ye}),se.emit(ke("grabon")).emit(ke("grab"));else{ye=t.dragData.possibleDragElements=j.collection();var Ce=j.$(function(Oe){return Oe.isNode()&&Oe.selected()&&t.nodeIsGrabbable(Oe)});p(Ce,{addToList:ye}),se.emit(ke("grabon")),Ce.forEach($e)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=se,t.hoverData.downs=be,t.hoverData.downTime=new Date().getTime()}n(se,["mousedown","tapstart","vmousedown"],O,{x:ie[0],y:ie[1]}),se==null?(oe[4]=1,t.data.bgActivePosistion={x:ie[0],y:ie[1]},t.redrawHint("select",!0),t.redraw()):se.pannable()&&(oe[4]=1),Me()}oe[0]=oe[2]=ie[0],oe[1]=oe[3]=ie[1]}},!1),t.registerBinding(e,"mousemove",function(O){var j=t.hoverData.capture;if(!(!j&&!_(O))){var fe=!1,ie=t.cy,oe=ie.zoom(),be=[O.clientX,O.clientY],se=t.projectIntoViewport(be[0],be[1]),ye=t.hoverData.mdownPos,Me=t.hoverData.mdownGPos,Be=t.selection,ke=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(ke=t.findNearestElement(se[0],se[1],!0,!1));var $e=t.hoverData.last,Ce=t.hoverData.down,Oe=[se[0]-Be[2],se[1]-Be[3]],St=t.dragData.possibleDragElements,pt;if(Me){var er=be[0]-Me[0],Wt=er*er,zt=be[1]-Me[1],yr=zt*zt,Xt=Wt+yr;t.hoverData.isOverThresholdDrag=pt=Xt>=t.desktopTapThreshold2}var lr=a(O);pt&&(t.hoverData.tapholdCancelled=!0);var kr=function(){var on=t.hoverData.dragDelta=t.hoverData.dragDelta||[];on.length===0?(on.push(Oe[0]),on.push(Oe[1])):(on[0]+=Oe[0],on[1]+=Oe[1])};fe=!0,n(ke,["mousemove","vmousemove","tapdrag"],O,{x:se[0],y:se[1]});var _r=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ie.emit({originalEvent:O,type:"boxstart",position:{x:se[0],y:se[1]}}),Be[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(pt){var br={originalEvent:O,type:"cxtdrag",position:{x:se[0],y:se[1]}};Ce?Ce.emit(br):ie.emit(br),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||ke!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:se[0],y:se[1]}}),t.hoverData.cxtOver=ke,ke&&ke.emit({originalEvent:O,type:"cxtdragover",position:{x:se[0],y:se[1]}}))}}else if(t.hoverData.dragging){if(fe=!0,ie.panningEnabled()&&ie.userPanningEnabled()){var an;if(t.hoverData.justStartedPan){var qr=t.hoverData.mdownPos;an={x:(se[0]-qr[0])*oe,y:(se[1]-qr[1])*oe},t.hoverData.justStartedPan=!1}else an={x:Oe[0]*oe,y:Oe[1]*oe};ie.panBy(an),ie.emit("dragpan"),t.hoverData.dragged=!0}se=t.projectIntoViewport(O.clientX,O.clientY)}else if(Be[4]==1&&(Ce==null||Ce.pannable())){if(pt){if(!t.hoverData.dragging&&ie.boxSelectionEnabled()&&(lr||!ie.panningEnabled()||!ie.userPanningEnabled()))_r();else if(!t.hoverData.selecting&&ie.panningEnabled()&&ie.userPanningEnabled()){var Vr=i(Ce,t.hoverData.downs);Vr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Be[4]=0,t.data.bgActivePosistion=gi(ye),t.redrawHint("select",!0),t.redraw())}Ce&&Ce.pannable()&&Ce.active()&&Ce.unactivate()}}else{if(Ce&&Ce.pannable()&&Ce.active()&&Ce.unactivate(),(!Ce||!Ce.grabbed())&&ke!=$e&&($e&&n($e,["mouseout","tapdragout"],O,{x:se[0],y:se[1]}),ke&&n(ke,["mouseover","tapdragover"],O,{x:se[0],y:se[1]}),t.hoverData.last=ke),Ce)if(pt){if(ie.boxSelectionEnabled()&&lr)Ce&&Ce.grabbed()&&(y(St),Ce.emit("freeon"),St.emit("free"),t.dragData.didDrag&&(Ce.emit("dragfreeon"),St.emit("dragfree"))),_r();else if(Ce&&Ce.grabbed()&&t.nodeIsDraggable(Ce)){var _t=!t.dragData.didDrag;_t&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||p(St,{inDragLayer:!0});var Ut={x:0,y:0};if(xe(Oe[0])&&xe(Oe[1])&&(Ut.x+=Oe[0],Ut.y+=Oe[1],_t)){var tr=t.hoverData.dragDelta;tr&&xe(tr[0])&&xe(tr[1])&&(Ut.x+=tr[0],Ut.y+=tr[1])}t.hoverData.draggingEles=!0,St.silentShift(Ut).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else kr();fe=!0}if(Be[2]=se[0],Be[3]=se[1],fe)return O.stopPropagation&&O.stopPropagation(),O.preventDefault&&O.preventDefault(),!1}},!1);var F,N,B;t.registerBinding(e,"mouseup",function(O){var j=t.hoverData.capture;if(j){t.hoverData.capture=!1;var fe=t.cy,ie=t.projectIntoViewport(O.clientX,O.clientY),oe=t.selection,be=t.findNearestElement(ie[0],ie[1],!0,!1),se=t.dragData.possibleDragElements,ye=t.hoverData.down,Me=a(O);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,ye&&ye.unactivate(),t.hoverData.which===3){var Be={originalEvent:O,type:"cxttapend",position:{x:ie[0],y:ie[1]}};if(ye?ye.emit(Be):fe.emit(Be),!t.hoverData.cxtDragged){var ke={originalEvent:O,type:"cxttap",position:{x:ie[0],y:ie[1]}};ye?ye.emit(ke):fe.emit(ke)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(n(be,["mouseup","tapend","vmouseup"],O,{x:ie[0],y:ie[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(n(ye,["click","tap","vclick"],O,{x:ie[0],y:ie[1]}),N=!1,O.timeStamp-B<=fe.multiClickDebounceTime()?(F&&clearTimeout(F),N=!0,B=null,n(ye,["dblclick","dbltap","vdblclick"],O,{x:ie[0],y:ie[1]})):(F=setTimeout(function(){N||n(ye,["oneclick","onetap","voneclick"],O,{x:ie[0],y:ie[1]})},fe.multiClickDebounceTime()),B=O.timeStamp)),ye==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(O)&&(fe.$(r).unselect(["tapunselect"]),se.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=se=fe.collection()),be==ye&&!t.dragData.didDrag&&!t.hoverData.selecting&&be!=null&&be._private.selectable&&(t.hoverData.dragging||(fe.selectionType()==="additive"||Me?be.selected()?be.unselect(["tapunselect"]):be.select(["tapselect"]):Me||(fe.$(r).unmerge(be).unselect(["tapunselect"]),be.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var $e=fe.collection(t.getAllInBox(oe[0],oe[1],oe[2],oe[3]));t.redrawHint("select",!0),$e.length>0&&t.redrawHint("eles",!0),fe.emit({type:"boxend",originalEvent:O,position:{x:ie[0],y:ie[1]}});var Ce=function(pt){return pt.selectable()&&!pt.selected()};fe.selectionType()==="additive"||Me||fe.$(r).unmerge($e).unselect(),$e.emit("box").stdFilter(Ce).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!oe[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Oe=ye&&ye.grabbed();y(se),Oe&&(ye.emit("freeon"),se.emit("free"),t.dragData.didDrag&&(ye.emit("dragfreeon"),se.emit("dragfree")))}}oe[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1);var V=function(O){if(!t.scrollingPage){var j=t.cy,fe=j.zoom(),ie=j.pan(),oe=t.projectIntoViewport(O.clientX,O.clientY),be=[oe[0]*fe+ie.x,oe[1]*fe+ie.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||L()){O.preventDefault();return}if(j.panningEnabled()&&j.userPanningEnabled()&&j.zoomingEnabled()&&j.userZoomingEnabled()){O.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var se;O.deltaY!=null?se=O.deltaY/-250:O.wheelDeltaY!=null?se=O.wheelDeltaY/1e3:se=O.wheelDelta/1e3,se=se*t.wheelSensitivity;var ye=O.deltaMode===1;ye&&(se*=33);var Me=j.zoom()*Math.pow(10,se);O.type==="gesturechange"&&(Me=t.gestureStartZoom*O.scale),j.zoom({level:Me,renderedPosition:{x:be[0],y:be[1]}}),j.emit(O.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",V,!0),t.registerBinding(e,"scroll",function(O){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(O){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||O.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(he){t.hasTouchStarted||V(he)},!0),t.registerBinding(t.container,"mouseout",function(O){var j=t.projectIntoViewport(O.clientX,O.clientY);t.cy.emit({originalEvent:O,type:"mouseout",position:{x:j[0],y:j[1]}})},!1),t.registerBinding(t.container,"mouseover",function(O){var j=t.projectIntoViewport(O.clientX,O.clientY);t.cy.emit({originalEvent:O,type:"mouseover",position:{x:j[0],y:j[1]}})},!1);var M,H,W,q,Y,te,re,I,$,Q,ue,ne,Z,G=function(O,j,fe,ie){return Math.sqrt((fe-O)*(fe-O)+(ie-j)*(ie-j))},J=function(O,j,fe,ie){return(fe-O)*(fe-O)+(ie-j)*(ie-j)},ee;t.registerBinding(t.container,"touchstart",ee=function(O){if(t.hasTouchStarted=!0,!!_(O)){E(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var j=t.cy,fe=t.touchData.now,ie=t.touchData.earlier;if(O.touches[0]){var oe=t.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);fe[0]=oe[0],fe[1]=oe[1]}if(O.touches[1]){var oe=t.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);fe[2]=oe[0],fe[3]=oe[1]}if(O.touches[2]){var oe=t.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);fe[4]=oe[0],fe[5]=oe[1]}if(O.touches[1]){t.touchData.singleTouchMoved=!0,y(t.dragData.touchDragEles);var be=t.findContainerClientCoords();$=be[0],Q=be[1],ue=be[2],ne=be[3],M=O.touches[0].clientX-$,H=O.touches[0].clientY-Q,W=O.touches[1].clientX-$,q=O.touches[1].clientY-Q,Z=0<=M&&M<=ue&&0<=W&&W<=ue&&0<=H&&H<=ne&&0<=q&&q<=ne;var se=j.pan(),ye=j.zoom();Y=G(M,H,W,q),te=J(M,H,W,q),re=[(M+W)/2,(H+q)/2],I=[(re[0]-se.x)/ye,(re[1]-se.y)/ye];var Me=200,Be=Me*Me;if(te<Be&&!O.touches[2]){var ke=t.findNearestElement(fe[0],fe[1],!0,!0),$e=t.findNearestElement(fe[2],fe[3],!0,!0);ke&&ke.isNode()?(ke.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start=ke):$e&&$e.isNode()?($e.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start=$e):j.emit({originalEvent:O,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(O.touches[2])j.boxSelectionEnabled()&&O.preventDefault();else if(!O.touches[1]){if(O.touches[0]){var Ce=t.findNearestElements(fe[0],fe[1],!0,!0),Oe=Ce[0];if(Oe!=null&&(Oe.activate(),t.touchData.start=Oe,t.touchData.starts=Ce,t.nodeIsGrabbable(Oe))){var St=t.dragData.touchDragEles=j.collection(),pt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Oe.selected()?(pt=j.$(function(Xt){return Xt.selected()&&t.nodeIsGrabbable(Xt)}),p(pt,{addToList:St})):w(Oe,{addToList:St}),v(Oe);var er=function(lr){return{originalEvent:O,type:lr,position:{x:fe[0],y:fe[1]}}};Oe.emit(er("grabon")),pt?pt.forEach(function(Xt){Xt.emit(er("grab"))}):Oe.emit(er("grab"))}n(Oe,["touchstart","tapstart","vmousedown"],O,{x:fe[0],y:fe[1]}),Oe==null&&(t.data.bgActivePosistion={x:oe[0],y:oe[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&n(t.touchData.start,["taphold"],O,{x:fe[0],y:fe[1]})},t.tapholdDuration)}}if(O.touches.length>=1){for(var Wt=t.touchData.startPosition=[null,null,null,null,null,null],zt=0;zt<fe.length;zt++)Wt[zt]=ie[zt]=fe[zt];var yr=O.touches[0];t.touchData.startGPosition=[yr.clientX,yr.clientY]}}},!1);var ce;t.registerBinding(window,"touchmove",ce=function(O){var j=t.touchData.capture;if(!(!j&&!_(O))){var fe=t.selection,ie=t.cy,oe=t.touchData.now,be=t.touchData.earlier,se=ie.zoom();if(O.touches[0]){var ye=t.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);oe[0]=ye[0],oe[1]=ye[1]}if(O.touches[1]){var ye=t.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);oe[2]=ye[0],oe[3]=ye[1]}if(O.touches[2]){var ye=t.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);oe[4]=ye[0],oe[5]=ye[1]}var Me=t.touchData.startGPosition,Be;if(j&&O.touches[0]&&Me){for(var ke=[],$e=0;$e<oe.length;$e++)ke[$e]=oe[$e]-be[$e];var Ce=O.touches[0].clientX-Me[0],Oe=Ce*Ce,St=O.touches[0].clientY-Me[1],pt=St*St,er=Oe+pt;Be=er>=t.touchTapThreshold2}if(j&&t.touchData.cxt){O.preventDefault();var Wt=O.touches[0].clientX-$,zt=O.touches[0].clientY-Q,yr=O.touches[1].clientX-$,Xt=O.touches[1].clientY-Q,lr=J(Wt,zt,yr,Xt),kr=lr/te,_r=150,br=_r*_r,an=1.5,qr=an*an;if(kr>=qr||lr>=br){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Vr={originalEvent:O,type:"cxttapend",position:{x:oe[0],y:oe[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Vr),t.touchData.start=null):ie.emit(Vr)}}if(j&&t.touchData.cxt){var Vr={originalEvent:O,type:"cxtdrag",position:{x:oe[0],y:oe[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Vr):ie.emit(Vr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var _t=t.findNearestElement(oe[0],oe[1],!0,!0);(!t.touchData.cxtOver||_t!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:oe[0],y:oe[1]}}),t.touchData.cxtOver=_t,_t&&_t.emit({originalEvent:O,type:"cxtdragover",position:{x:oe[0],y:oe[1]}}))}else if(j&&O.touches[2]&&ie.boxSelectionEnabled())O.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ie.emit({originalEvent:O,type:"boxstart",position:{x:oe[0],y:oe[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,fe[4]=1,!fe||fe.length===0||fe[0]===void 0?(fe[0]=(oe[0]+oe[2]+oe[4])/3,fe[1]=(oe[1]+oe[3]+oe[5])/3,fe[2]=(oe[0]+oe[2]+oe[4])/3+1,fe[3]=(oe[1]+oe[3]+oe[5])/3+1):(fe[2]=(oe[0]+oe[2]+oe[4])/3,fe[3]=(oe[1]+oe[3]+oe[5])/3),t.redrawHint("select",!0),t.redraw();else if(j&&O.touches[1]&&!t.touchData.didSelect&&ie.zoomingEnabled()&&ie.panningEnabled()&&ie.userZoomingEnabled()&&ie.userPanningEnabled()){O.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ut=t.dragData.touchDragEles;if(Ut){t.redrawHint("drag",!0);for(var tr=0;tr<Ut.length;tr++){var ma=Ut[tr]._private;ma.grabbed=!1,ma.rscratch.inDragLayer=!1}}var on=t.touchData.start,Wt=O.touches[0].clientX-$,zt=O.touches[0].clientY-Q,yr=O.touches[1].clientX-$,Xt=O.touches[1].clientY-Q,ju=G(Wt,zt,yr,Xt),kc=ju/Y;if(Z){var _c=Wt-M,Rc=zt-H,el=yr-W,Oc=Xt-q,Lc=(_c+el)/2,Ic=(Rc+Oc)/2,Ua=ie.zoom(),Zo=Ua*kc,zi=ie.pan(),Ha=I[0]*Ua+zi.x,tl=I[1]*Ua+zi.y,$i={x:-Zo/Ua*(Ha-zi.x-Lc)+Ha,y:-Zo/Ua*(tl-zi.y-Ic)+tl};if(on&&on.active()){var Ut=t.dragData.touchDragEles;y(Ut),t.redrawHint("drag",!0),t.redrawHint("eles",!0),on.unactivate().emit("freeon"),Ut.emit("free"),t.dragData.didDrag&&(on.emit("dragfreeon"),Ut.emit("dragfree"))}ie.viewport({zoom:Zo,pan:$i,cancelOnFailedZoom:!0}),ie.emit("pinchzoom"),Y=ju,M=Wt,H=zt,W=yr,q=Xt,t.pinching=!0}if(O.touches[0]){var ye=t.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);oe[0]=ye[0],oe[1]=ye[1]}if(O.touches[1]){var ye=t.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);oe[2]=ye[0],oe[3]=ye[1]}if(O.touches[2]){var ye=t.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);oe[4]=ye[0],oe[5]=ye[1]}}else if(O.touches[0]&&!t.touchData.didSelect){var Wr=t.touchData.start,Qo=t.touchData.last,_t;if(!t.hoverData.draggingEles&&!t.swipePanning&&(_t=t.findNearestElement(oe[0],oe[1],!0,!0)),j&&Wr!=null&&O.preventDefault(),j&&Wr!=null&&t.nodeIsDraggable(Wr))if(Be){var Ut=t.dragData.touchDragEles,rl=!t.dragData.didDrag;rl&&p(Ut,{inDragLayer:!0}),t.dragData.didDrag=!0;var ya={x:0,y:0};if(xe(ke[0])&&xe(ke[1])&&(ya.x+=ke[0],ya.y+=ke[1],rl)){t.redrawHint("eles",!0);var Rr=t.touchData.dragDelta;Rr&&xe(Rr[0])&&xe(Rr[1])&&(ya.x+=Rr[0],ya.y+=Rr[1])}t.hoverData.draggingEles=!0,Ut.silentShift(ya).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==be[0]&&t.touchData.startPosition[1]==be[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Rr=t.touchData.dragDelta=t.touchData.dragDelta||[];Rr.length===0?(Rr.push(ke[0]),Rr.push(ke[1])):(Rr[0]+=ke[0],Rr[1]+=ke[1])}if(n(Wr||_t,["touchmove","tapdrag","vmousemove"],O,{x:oe[0],y:oe[1]}),(!Wr||!Wr.grabbed())&&_t!=Qo&&(Qo&&Qo.emit({originalEvent:O,type:"tapdragout",position:{x:oe[0],y:oe[1]}}),_t&&_t.emit({originalEvent:O,type:"tapdragover",position:{x:oe[0],y:oe[1]}})),t.touchData.last=_t,j)for(var tr=0;tr<oe.length;tr++)oe[tr]&&t.touchData.startPosition[tr]&&Be&&(t.touchData.singleTouchMoved=!0);if(j&&(Wr==null||Wr.pannable())&&ie.panningEnabled()&&ie.userPanningEnabled()){var nl=i(Wr,t.touchData.starts);nl&&(O.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=gi(t.touchData.startPosition)),t.swipePanning?(ie.panBy({x:ke[0]*se,y:ke[1]*se}),ie.emit("dragpan")):Be&&(t.swipePanning=!0,ie.panBy({x:Ce*se,y:St*se}),ie.emit("dragpan"),Wr&&(Wr.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var ye=t.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);oe[0]=ye[0],oe[1]=ye[1]}}for(var $e=0;$e<oe.length;$e++)be[$e]=oe[$e];j&&O.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var ge;t.registerBinding(e,"touchcancel",ge=function(O){var j=t.touchData.start;t.touchData.capture=!1,j&&j.unactivate()});var De,ze,me,we;if(t.registerBinding(e,"touchend",De=function(O){var j=t.touchData.start,fe=t.touchData.capture;if(fe)O.touches.length===0&&(t.touchData.capture=!1),O.preventDefault();else return;var ie=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var oe=t.cy,be=oe.zoom(),se=t.touchData.now,ye=t.touchData.earlier;if(O.touches[0]){var Me=t.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);se[0]=Me[0],se[1]=Me[1]}if(O.touches[1]){var Me=t.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);se[2]=Me[0],se[3]=Me[1]}if(O.touches[2]){var Me=t.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);se[4]=Me[0],se[5]=Me[1]}j&&j.unactivate();var Be;if(t.touchData.cxt){if(Be={originalEvent:O,type:"cxttapend",position:{x:se[0],y:se[1]}},j?j.emit(Be):oe.emit(Be),!t.touchData.cxtDragged){var ke={originalEvent:O,type:"cxttap",position:{x:se[0],y:se[1]}};j?j.emit(ke):oe.emit(ke)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!O.touches[2]&&oe.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var $e=oe.collection(t.getAllInBox(ie[0],ie[1],ie[2],ie[3]));ie[0]=void 0,ie[1]=void 0,ie[2]=void 0,ie[3]=void 0,ie[4]=0,t.redrawHint("select",!0),oe.emit({type:"boxend",originalEvent:O,position:{x:se[0],y:se[1]}});var Ce=function(br){return br.selectable()&&!br.selected()};$e.emit("box").stdFilter(Ce).select().emit("boxselect"),$e.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(j?.unactivate(),O.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!O.touches[1]){if(!O.touches[0]){if(!O.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Oe=t.dragData.touchDragEles;if(j!=null){var St=j._private.grabbed;y(Oe),t.redrawHint("drag",!0),t.redrawHint("eles",!0),St&&(j.emit("freeon"),Oe.emit("free"),t.dragData.didDrag&&(j.emit("dragfreeon"),Oe.emit("dragfree"))),n(j,["touchend","tapend","vmouseup","tapdragout"],O,{x:se[0],y:se[1]}),j.unactivate(),t.touchData.start=null}else{var pt=t.findNearestElement(se[0],se[1],!0,!0);n(pt,["touchend","tapend","vmouseup","tapdragout"],O,{x:se[0],y:se[1]})}var er=t.touchData.startPosition[0]-se[0],Wt=er*er,zt=t.touchData.startPosition[1]-se[1],yr=zt*zt,Xt=Wt+yr,lr=Xt*be*be;t.touchData.singleTouchMoved||(j||oe.$(":selected").unselect(["tapunselect"]),n(j,["tap","vclick"],O,{x:se[0],y:se[1]}),ze=!1,O.timeStamp-we<=oe.multiClickDebounceTime()?(me&&clearTimeout(me),ze=!0,we=null,n(j,["dbltap","vdblclick"],O,{x:se[0],y:se[1]})):(me=setTimeout(function(){ze||n(j,["onetap","voneclick"],O,{x:se[0],y:se[1]})},oe.multiClickDebounceTime()),we=O.timeStamp)),j!=null&&!t.dragData.didDrag&&j._private.selectable&&lr<t.touchTapThreshold2&&!t.pinching&&(oe.selectionType()==="single"?(oe.$(r).unmerge(j).unselect(["tapunselect"]),j.select(["tapselect"])):j.selected()?j.unselect(["tapunselect"]):j.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var kr=0;kr<se.length;kr++)ye[kr]=se[kr];t.dragData.didDrag=!1,O.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),O.touches.length<2&&(O.touches.length===1&&(t.touchData.startGPosition=[O.touches[0].clientX,O.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Ae=[],Se=function(O){return{clientX:O.clientX,clientY:O.clientY,force:1,identifier:O.pointerId,pageX:O.pageX,pageY:O.pageY,radiusX:O.width/2,radiusY:O.height/2,screenX:O.screenX,screenY:O.screenY,target:O.target}},_e=function(O){return{event:O,touch:Se(O)}},Ie=function(O){Ae.push(_e(O))},je=function(O){for(var j=0;j<Ae.length;j++){var fe=Ae[j];if(fe.event.pointerId===O.pointerId){Ae.splice(j,1);return}}},Ue=function(O){var j=Ae.filter(function(fe){return fe.event.pointerId===O.pointerId})[0];j.event=O,j.touch=Se(O)},We=function(O){O.touches=Ae.map(function(j){return j.touch})},Qe=function(O){return O.pointerType==="mouse"||O.pointerType===4};t.registerBinding(t.container,"pointerdown",function(he){Qe(he)||(he.preventDefault(),Ie(he),We(he),ee(he))}),t.registerBinding(t.container,"pointerup",function(he){Qe(he)||(je(he),We(he),De(he))}),t.registerBinding(t.container,"pointercancel",function(he){Qe(he)||(je(he),We(he),ge(he))}),t.registerBinding(t.container,"pointermove",function(he){Qe(he)||(he.preventDefault(),Ue(he),We(he),ce(he))})}};var Un={};Un.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,o,l,f){this.renderer.nodeShapeImpl("polygon",n,a,i,o,l,this.points)},intersectLine:function(n,a,i,o,l,f,c,v){return Ro(l,f,this.points,n,a,i/2,o/2,c)},checkPoint:function(n,a,i,o,l,f,c,v){return qn(n,a,this.points,f,c,o,l,[0,-1],i)}}},Un.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,l,f){return aS(i,o,e,r,n/2+l,a/2+l)},checkPoint:function(e,r,n,a,i,o,l,f){return Oa(e,r,a,i,o,l,n)}}},Un.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,a,i,o,l,f,c){if(f[c]!==void 0&&f[c+"-cx"]===n&&f[c+"-cy"]===a)return f[c];f[c]=new Array(e.length/2),f[c+"-cx"]=n,f[c+"-cy"]=a;var v=i/2,d=o/2;l=l==="auto"?Jh(i,o):l;for(var g=new Array(e.length/2),m=0;m<e.length/2;m++)g[m]={x:n+v*e[m*2],y:a+d*e[m*2+1]};var p,w,y,b,E=g.length;for(w=g[E-1],p=0;p<E;p++)y=g[p%E],b=g[(p+1)%E],f[c][p]=yc(w,y,b,l),w=y,y=b;return f[c]},draw:function(n,a,i,o,l,f,c){this.renderer.nodeShapeImpl("round-polygon",n,a,i,o,l,this.points,this.getOrCreateCorners(a,i,o,l,f,c,"drawCorners"))},intersectLine:function(n,a,i,o,l,f,c,v,d){return iS(l,f,this.points,n,a,i,o,c,this.getOrCreateCorners(n,a,i,o,v,d,"corners"))},checkPoint:function(n,a,i,o,l,f,c,v,d){return nS(n,a,this.points,f,c,o,l,this.getOrCreateCorners(f,c,o,l,v,d,"corners"))}}},Un.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Er(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,o)},intersectLine:function(e,r,n,a,i,o,l,f){return Zh(i,o,e,r,n,a,l,f)},checkPoint:function(e,r,n,a,i,o,l,f){var c=a/2,v=i/2;f=f==="auto"?La(a,i):f,f=Math.min(c,v,f);var d=f*2;return!!(qn(e,r,this.points,o,l,a,i-d,[0,-1],n)||qn(e,r,this.points,o,l,a-d,i,[0,-1],n)||Oa(e,r,d,d,o-c+f,l-v+f,n)||Oa(e,r,d,d,o+c-f,l-v+f,n)||Oa(e,r,d,d,o+c-f,l+v-f,n)||Oa(e,r,d,d,o-c+f,l+v-f,n))}}},Un.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Wf(),points:Er(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,null,o)},generateCutTrianglePts:function(e,r,n,a,i){var o=i==="auto"?this.cornerLength:i,l=r/2,f=e/2,c=n-f,v=n+f,d=a-l,g=a+l;return{topLeft:[c,d+o,c+o,d,c+o,d+o],topRight:[v-o,d,v,d+o,v-o,d+o],bottomRight:[v,g-o,v-o,g,v-o,g-o],bottomLeft:[c+o,g,c,g-o,c+o,g-o]}},intersectLine:function(e,r,n,a,i,o,l,f){var c=this.generateCutTrianglePts(n+2*l,a+2*l,e,r,f),v=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return Ro(i,o,v,e,r)},checkPoint:function(e,r,n,a,i,o,l,f){var c=f==="auto"?this.cornerLength:f;if(qn(e,r,this.points,o,l,a,i-2*c,[0,-1],n)||qn(e,r,this.points,o,l,a-2*c,i,[0,-1],n))return!0;var v=this.generateCutTrianglePts(a,i,o,l);return Dr(e,r,v.topLeft)||Dr(e,r,v.topRight)||Dr(e,r,v.bottomRight)||Dr(e,r,v.bottomLeft)}}},Un.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Er(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,l,f){var c=.15,v=.5,d=.85,g=this.generateBarrelBezierPts(n+2*l,a+2*l,e,r),m=function(y){var b=pi({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},c),E=pi({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},v),S=pi({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},d);return[y[0],y[1],b.x,b.y,E.x,E.y,S.x,S.y,y[4],y[5]]},p=[].concat(m(g.topLeft),m(g.topRight),m(g.bottomRight),m(g.bottomLeft));return Ro(i,o,p,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,o=e/2,l=n-o,f=n+o,c=a-i,v=a+i,d=Uf(e,r),g=d.heightOffset,m=d.widthOffset,p=d.ctrlPtOffsetPct*e,w={topLeft:[l,c+g,l+p,c,l+m,c],topRight:[f-m,c,f-p,c,f,c+g],bottomRight:[f,v-g,f-p,v,f-m,v],bottomLeft:[l+m,v,l+p,v,l,v-g]};return w.topLeft.isTop=!0,w.topRight.isTop=!0,w.bottomLeft.isBottom=!0,w.bottomRight.isBottom=!0,w},checkPoint:function(e,r,n,a,i,o,l,f){var c=Uf(a,i),v=c.heightOffset,d=c.widthOffset;if(qn(e,r,this.points,o,l,a,i-2*v,[0,-1],n)||qn(e,r,this.points,o,l,a-2*d,i,[0,-1],n))return!0;for(var g=this.generateBarrelBezierPts(a,i,o,l),m=function(L,_,F){var N=F[4],B=F[2],V=F[0],M=F[5],H=F[1],W=Math.min(N,V),q=Math.max(N,V),Y=Math.min(M,H),te=Math.max(M,H);if(W<=L&&L<=q&&Y<=_&&_<=te){var re=oS(N,B,V),I=j2(re[0],re[1],re[2],L),$=I.filter(function(Q){return 0<=Q&&Q<=1});if($.length>0)return $[0]}return null},p=Object.keys(g),w=0;w<p.length;w++){var y=p[w],b=g[y],E=m(e,r,b);if(E!=null){var S=b[5],T=b[3],A=b[1],D=jt(S,T,A,E);if(b.isTop&&D<=r||b.isBottom&&r<=D)return!0}}return!1}}},Un.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Er(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,o)},intersectLine:function(e,r,n,a,i,o,l,f){var c=e-(n/2+l),v=r-(a/2+l),d=v,g=e+(n/2+l),m=ua(i,o,e,r,c,v,g,d,!1);return m.length>0?m:Zh(i,o,e,r,n,a,l,f)},checkPoint:function(e,r,n,a,i,o,l,f){f=f==="auto"?La(a,i):f;var c=2*f;if(qn(e,r,this.points,o,l,a,i-c,[0,-1],n)||qn(e,r,this.points,o,l,a-c,i,[0,-1],n))return!0;var v=a/2+2*n,d=i/2+2*n,g=[o-v,l-d,o-v,l,o+v,l,o+v,l-d];return!!(Dr(e,r,g)||Oa(e,r,c,c,o+a/2-f,l+i/2-f,n)||Oa(e,r,c,c,o-a/2+f,l+i/2-f,n))}}},Un.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Er(3,0)),this.generateRoundPolygon("round-triangle",Er(3,0)),this.generatePolygon("rectangle",Er(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Er(5,0)),this.generateRoundPolygon("round-pentagon",Er(5,0)),this.generatePolygon("hexagon",Er(6,0)),this.generateRoundPolygon("round-hexagon",Er(6,0)),this.generatePolygon("heptagon",Er(7,0)),this.generateRoundPolygon("round-heptagon",Er(7,0)),this.generatePolygon("octagon",Er(8,0)),this.generateRoundPolygon("round-octagon",Er(8,0));var n=new Array(20);{var a=Vf(5,0),i=Vf(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var l=0;l<i.length/2;l++)i[l*2]*=o,i[l*2+1]*=o;for(var l=0;l<20/4;l++)n[l*4]=a[l*2],n[l*4+1]=a[l*2+1],n[l*4+2]=i[l*2],n[l*4+3]=i[l*2+1]}n=Qh(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var f=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",f),this.generateRoundPolygon("round-tag",f)}t.makePolygon=function(c){var v=c.join("$"),d="polygon-"+v,g;return(g=this[d])?g:e.generatePolygon(d,c)}};var Go={};Go.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},Go.redraw=function(t){t=t||Wh();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},Go.beforeRender=function(t,e){if(!this.destroyed){e==null&&It("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var Up=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};Go.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Up(t,!0,a);var i=$n();t.render(t.renderOptions);var o=t.lastDrawTime=$n();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var l=o-i;t.redrawTotalTime+=l,t.lastRedrawTime=l,t.averageRedrawTime=t.averageRedrawTime/2+l/2,t.requestedFrame=!1}else Up(t,!1,a);t.skipFrame=!1,ou(n)}};ou(r)}};var qA=function(e){this.init(e)},Hp=qA,Mi=Hp.prototype;Mi.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Mi.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",l="__________cytoscape_container",f=a.getElementById(o)!=null;if(r.className.indexOf(l)<0&&(r.className=(r.className||"")+" "+l),!f){var c=a.createElement("style");c.id=o,c.textContent="."+l+" { position: relative; }",i.insertBefore(c,i.children[0])}var v=n.getComputedStyle(r),d=v.getPropertyValue("position");d==="static"&&ft("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=xe(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},Mi.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Mi.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}},Mi.isHeadless=function(){return!1},[dc,Vp,Wp,Ii,Un,Go].forEach(function(t){Ne(Mi,t)});var wc=1e3/60,Gp={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=iu(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),o=function(c,v){var d=$n(),g=a.averageRedrawTime,m=a.lastRedrawTime,p=[],w=a.cy.extent(),y=a.getPixelRatio();for(c||a.flushRenderedStyleQueue();;){var b=$n(),E=b-d,S=b-v;if(m<wc){var T=wc-(c?g:0);if(S>=e.deqFastCost*T)break}else if(c){if(E>=e.deqCost*m||E>=e.deqAvgCost*g)break}else if(S>=e.deqNoDrawCost*wc)break;var A=e.deq(n,y,w);if(A.length>0)for(var D=0;D<A.length;D++)p.push(A[D]);else break}p.length>0&&(e.onDeqd(n,p),!c&&e.shouldRedraw(n,p,y,w)&&i())},l=e.priority||Bf;a.beforeRender(o,l(n))}}}},VA=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uu;kf(this,t),this.idsByKey=new kn,this.keyForId=new kn,this.cachesByLvl=new kn,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return _f(t,[{key:"getIdsFor",value:function(r){r==null&&It("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new hi,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new kn,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}]),t}(),Kp=25,Xu=50,Zu=-4,xc=3,WA=7.99,UA=8,HA=1024,GA=1024,KA=1024,YA=.2,XA=.8,ZA=10,QA=.15,JA=.1,jA=.9,eD=.9,tD=100,rD=1,Bi={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},nD=ar({getKey:null,doesEleInvalidateKey:uu,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:zh,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ko=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=nD(r);Ne(n,a),n.lookup=new VA(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},Yt=Ko.prototype;Yt.reasons=Bi,Yt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]},Yt.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n},Yt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Do(function(r,n){return n.reqs-r.reqs});return e},Yt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e},Yt.getElement=function(t,e,r,n,a){var i=this,o=this.renderer,l=o.cy.zoom(),f=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(zf(l*r))),n<Zu)n=Zu;else if(l>=WA||n>xc)return null;var c=Math.pow(2,n),v=e.h*c,d=e.w*c,g=o.eleTextBiggerThanMin(t,c);if(!this.isVisible(t,g))return null;var m=f.get(t,n);if(m&&m.invalidated&&(m.invalidated=!1,m.texture.invalidatedWidth-=m.width),m)return m;var p;if(v<=Kp?p=Kp:v<=Xu?p=Xu:p=Math.ceil(v/Xu)*Xu,v>KA||d>GA)return null;var w=i.getTextureQueue(p),y=w[w.length-2],b=function(){return i.recycleTexture(p,d)||i.addTexture(p,d)};y||(y=w[w.length-1]),y||(y=b()),y.width-y.usedWidth<d&&(y=b());for(var E=function(W){return W&&W.scaledLabelShown===g},S=a&&a===Bi.dequeue,T=a&&a===Bi.highQuality,A=a&&a===Bi.downscale,D,P=n+1;P<=xc;P++){var L=f.get(t,P);if(L){D=L;break}}var _=D&&D.level===n+1?D:null,F=function(){y.context.drawImage(_.texture.canvas,_.x,0,_.width,_.height,y.usedWidth,0,d,v)};if(y.context.setTransform(1,0,0,1,0,0),y.context.clearRect(y.usedWidth,0,d,p),E(_))F();else if(E(D))if(T){for(var N=D.level;N>n;N--)_=i.getElement(t,e,r,N,Bi.downscale);F()}else return i.queueElement(t,D.level-1),D;else{var B;if(!S&&!T&&!A)for(var V=n-1;V>=Zu;V--){var M=f.get(t,V);if(M){B=M;break}}if(E(B))return i.queueElement(t,n),B;y.context.translate(y.usedWidth,0),y.context.scale(c,c),this.drawElement(y.context,t,e,g,!1),y.context.scale(1/c,1/c),y.context.translate(-y.usedWidth,0)}return m={x:y.usedWidth,texture:y,level:n,scale:c,width:d,height:v,scaledLabelShown:g},y.usedWidth+=Math.ceil(d+UA),y.eleCaches.push(m),f.set(t,n,m),i.checkTextureFullness(y),m},Yt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},Yt.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=Zu;i<=xc;i++){var o=r.getForCachedKey(t,i);o&&n.push(o)}var l=r.invalidate(t);if(l)for(var f=0;f<n.length;f++){var c=n[f],v=c.texture;v.invalidatedWidth+=c.width,c.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(t)}},Yt.checkTextureUtility=function(t){t.invalidatedWidth>=YA*t.width&&this.retireTexture(t)},Yt.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>XA&&t.fullnessChecks>=ZA?oa(r,t):t.fullnessChecks++},Yt.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;oa(n,t),t.retired=!0;for(var i=t.eleCaches,o=0;o<i.length;o++){var l=i[o];a.deleteCache(l.key,l.level)}Nf(i);var f=e.getRetiredTextureQueue(r);f.push(t)},Yt.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(HA,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a},Yt.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var o=a[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Nf(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),oa(a,o),n.push(o),o}},Yt.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),o=a[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var l={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(l),a[i]=l}},Yt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,o=0;o<rD&&r.size()>0;o++){var l=r.pop(),f=l.key,c=l.eles[0],v=i.hasCache(c,l.level);if(n[f]=null,v)continue;a.push(l);var d=e.getBoundingBox(c);e.getElement(c,d,t,l.level,Bi.dequeue)}return a},Yt.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=Mf,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))},Yt.onDequeue=function(t){this.onDequeues.push(t)},Yt.offDequeue=function(t){oa(this.onDequeues,t)},Yt.setupDequeueing=Gp.setupDequeueing({deqRedrawThreshold:tD,deqCost:QA,deqAvgCost:JA,deqNoDrawCost:jA,deqFastCost:eD,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,l=0;l<o.length;l++){var f=o[l].boundingBox();if($f(f,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var aD=1,Yo=-4,Qu=2,iD=3.99,oD=50,sD=50,uD=.15,lD=.1,fD=.9,cD=.9,vD=1,Yp=250,dD=4e3*4e3,hD=!0,Xp=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=$n()-2*Yp,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=iu(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},sD),n.beforeRender(function(o,l){l-r.lastInvalidationTime<=Yp?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(l,f){return f.reqs-l.reqs};r.layersQueue=new Do(i),r.setupDequeueing()},ur=Xp.prototype,Zp=0,gD=Math.pow(2,53)-1;ur.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:Zp=++Zp%gD,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=o.context,f=-o.bb.x1,c=-o.bb.y1;return l.scale(r,r),l.translate(f,c),o},ur.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),l=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(zf(o*e)),r<Yo)r=Yo;else if(o>=iD||r>Qu)return null}n.validateLayersElesOrdering(r,t);var f=n.layersByLevel,c=Math.pow(2,r),v=f[r]=f[r]||[],d,g=n.levelIsComplete(r,t),m,p=function(){var F=function(H){if(n.validateLayersElesOrdering(H,t),n.levelIsComplete(H,t))return m=f[H],!0},N=function(H){if(!m)for(var W=r+H;Yo<=W&&W<=Qu&&!F(W);W+=H);};N(1),N(-1);for(var B=v.length-1;B>=0;B--){var V=v[B];V.invalid&&oa(v,V)}};if(!g)p();else return v;var w=function(){if(!d){d=Ar();for(var F=0;F<t.length;F++)Kh(d,t[F].boundingBox())}return d},y=function(F){F=F||{};var N=F.after;w();var B=d.w*c*(d.h*c);if(B>dD)return null;var V=n.makeLayer(d,r);if(N!=null){var M=v.indexOf(N)+1;v.splice(M,0,V)}else(F.insert===void 0||F.insert)&&v.unshift(V);return V};if(n.skipping&&!l)return null;for(var b=null,E=t.length/aD,S=!l,T=0;T<t.length;T++){var A=t[T],D=A._private.rscratch,P=D.imgLayerCaches=D.imgLayerCaches||{},L=P[r];if(L){b=L;continue}if((!b||b.eles.length>=E||!Xh(b.bb,A.boundingBox()))&&(b=y({insert:!0,after:b}),!b))return null;m||S?n.queueLayer(b,A):n.drawEleInLayer(b,A,r,e),b.eles.push(A),P[r]=b}return m||(S?null:v)},ur.getEleLevelForLayerLevel=function(t,e){return t},ur.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,o=t.context,l=e.boundingBox();l.w===0||l.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,r,hD),i.setImgSmoothing(o,!0))},ur.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===e.length},ur.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<e.length;o++)if(a.eles[0]===e[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var l=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==e[l+o]){this.invalidateLayer(a);break}}},ur.updateElementsInLayers=function(t,e){for(var r=this,n=bo(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],o=n?t[a]:t[a].ele,l=o._private.rscratch,f=l.imgLayerCaches=l.imgLayerCaches||{},c=Yo;c<=Qu;c++){var v=f[c];v&&(i&&r.getEleLevelForLayerLevel(v.level)!==i.level||e(v,o,i))}},ur.haveLayers=function(){for(var t=this,e=!1,r=Yo;r<=Qu;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e},ur.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=$n(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))},ur.invalidateLayer=function(t){if(this.lastInvalidationTime=$n(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];oa(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}},ur.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var l=0;l<o.eles.length;l++)e.queueLayer(o,o.eles[l])})},ur.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},ur.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}},ur.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<vD&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var o=i.elesQueue.shift();o&&(e.drawEleInLayer(i,o,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n},ur.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,l=o.imgLayerCaches=o.imgLayerCaches||{};l&&(l[t.level]=t)}e.requestRedraw()}},ur.requestRedraw=iu(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100),ur.setupDequeueing=Gp.setupDequeueing({deqRedrawThreshold:oD,deqCost:uD,deqAvgCost:lD,deqNoDrawCost:fD,deqFastCost:cD,deq:function(e,r){return e.dequeue(r)},onDeqd:Bf,shouldRedraw:zh,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Qp={},Jp;function pD(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function mD(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function jp(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var o=r,l=r[0];t.moveTo(l.x,l.y);for(var a=1;a<o.length;a++){var i=o[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function yD(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,o=i[0];t.moveTo(o.x,o.y);for(var l=0;l<i.length;l++){var f=i[l];t.lineTo(f.x,f.y)}t.closePath&&t.closePath()}function bD(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}Qp.arrowShapeImpl=function(t){return(Jp||(Jp={polygon:pD,"triangle-backcurve":mD,"triangle-tee":jp,"circle-triangle":yD,"triangle-cross":jp,circle:bD}))[t]};var In={};In.drawElement=function(t,e,r,n,a,i){var o=this;e.isNode()?o.drawNode(t,e,r,n,a,i):o.drawEdge(t,e,r,n,a,i)},In.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)},In.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)},In.drawCachedElementPortion=function(t,e,r,n,a,i,o,l){var f=this,c=r.getBoundingBox(e);if(!(c.w===0||c.h===0)){var v=r.getElement(e,c,n,a,i);if(v!=null){var d=l(f,e);if(d===0)return;var g=o(f,e),m=c.x1,p=c.y1,w=c.w,y=c.h,b,E,S,T,A;if(g!==0){var D=r.getRotationPoint(e);S=D.x,T=D.y,t.translate(S,T),t.rotate(g),A=f.getImgSmoothing(t),A||f.setImgSmoothing(t,!0);var P=r.getRotationOffset(e);b=P.x,E=P.y}else b=m,E=p;var L;d!==1&&(L=t.globalAlpha,t.globalAlpha=L*d),t.drawImage(v.texture.canvas,v.x,0,v.width,v.height,b,E,w,y),d!==1&&(t.globalAlpha=L),g!==0&&(t.rotate(-g),t.translate(-S,-T),A||f.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var wD=function(){return 0},xD=function(e,r){return e.getTextAngle(r,null)},ED=function(e,r){return e.getTextAngle(r,"source")},SD=function(e,r){return e.getTextAngle(r,"target")},CD=function(e,r){return r.effectiveOpacity()},Ec=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};In.drawCachedElement=function(t,e,r,n,a,i){var o=this,l=o.data,f=l.eleTxrCache,c=l.lblTxrCache,v=l.slbTxrCache,d=l.tlbTxrCache,g=e.boundingBox(),m=i===!0?f.reasons.highQuality:null;if(!(g.w===0||g.h===0||!e.visible())&&(!n||$f(g,n))){var p=e.isEdge(),w=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,f,r,a,m,wD,CD),(!p||!w)&&o.drawCachedElementPortion(t,e,c,r,a,m,xD,Ec),p&&!w&&(o.drawCachedElementPortion(t,e,v,r,a,m,ED,Ec),o.drawCachedElementPortion(t,e,d,r,a,m,SD,Ec)),o.drawElementOverlay(t,e)}},In.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}},In.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];a.drawCachedElement(t,o,r,n)}},In.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];o.isNode()&&a.drawCachedElement(t,o,r,n)}},In.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var o=0;o<i.length;o++){var l=i[o],f=l.bb;f.w===0||f.h===0||t.drawImage(l.canvas,f.x1,f.y1,f.w,f.h)}else a.drawCachedElements(t,e,r,n)};var Hn={};Hn.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,l=e._private.rscratch;if(!(i&&!e.visible())&&!(l.badLine||l.allpts==null||isNaN(l.allpts[0]))){var f;r&&(f=r,t.translate(-f.x1,-f.y1));var c=i?e.pstyle("opacity").value:1,v=i?e.pstyle("line-opacity").value:1,d=e.pstyle("curve-style").value,g=e.pstyle("line-style").value,m=e.pstyle("width").pfValue,p=e.pstyle("line-cap").value,w=c*v,y=c*v,b=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;d==="straight-triangle"?(o.eleStrokeStyle(t,e,B),o.drawEdgeTrianglePath(e,t,l.allpts)):(t.lineWidth=m,t.lineCap=p,o.eleStrokeStyle(t,e,B),o.drawEdgePath(e,t,l.allpts,g),t.lineCap="butt")},E=function(){a&&o.drawEdgeOverlay(t,e)},S=function(){a&&o.drawEdgeUnderlay(t,e)},T=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;o.drawArrowheads(t,e,B)},A=function(){o.drawElementText(t,e,null,n)};t.lineJoin="round";var D=e.pstyle("ghost").value==="yes";if(D){var P=e.pstyle("ghost-offset-x").pfValue,L=e.pstyle("ghost-offset-y").pfValue,_=e.pstyle("ghost-opacity").value,F=w*_;t.translate(P,L),b(F),T(F),t.translate(-P,-L)}S(),b(),T(),E(),A(),r&&t.translate(f.x1,f.y1)}};var em=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),l=n._private.rscratch,f=n.pstyle("".concat(e,"-padding")).pfValue,c=2*f,v=n.pstyle("".concat(e,"-color")).value;r.lineWidth=c,l.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,v[0],v[1],v[2],a),i.drawEdgePath(n,r,l.allpts,"solid")}}}};Hn.drawEdgeOverlay=em("overlay"),Hn.drawEdgeUnderlay=em("underlay"),Hn.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,o,l=!1,f=this.usePaths(),c=t.pstyle("line-dash-pattern").pfValue,v=t.pstyle("line-dash-offset").pfValue;if(f){var d=r.join("$"),g=a.pathCacheKey&&a.pathCacheKey===d;g?(o=e=a.pathCache,l=!0):(o=e=new Path2D,a.pathCacheKey=d,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(c),i.lineDashOffset=v;break;case"solid":i.setLineDash([]);break}if(!l&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var m=2;m+3<r.length;m+=4)e.quadraticCurveTo(r[m],r[m+1],r[m+2],r[m+3]);break;case"straight":case"haystack":for(var p=2;p+1<r.length;p+=2)e.lineTo(r[p],r[p+1]);break;case"segments":if(a.isRound){var w=aE(a.roundCorners),y;try{for(w.s();!(y=w.n()).done;){var b=y.value;Mp(e,b)}}catch(S){w.e(S)}finally{w.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var E=2;E+1<r.length;E+=2)e.lineTo(r[E],r[E+1]);break}e=i,f?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])},Hn.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),l=[i[1]/o,-i[0]/o],f=[l[0]*n/2,l[1]*n/2];e.beginPath(),e.moveTo(r[a]-f[0],r[a+1]-f[1]),e.lineTo(r[a]+f[0],r[a+1]+f[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}},Hn.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)},Hn.drawArrowhead=function(t,e,r,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var l=this,f=e.pstyle(r+"-arrow-shape").value;if(f!=="none"){var c=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(r+"-arrow-fill").value,d=e.pstyle("width").pfValue,g=e.pstyle(r+"-arrow-width"),m=g.value==="match-line"?d:g.pfValue;g.units==="%"&&(m*=d);var p=e.pstyle("opacity").value;o===void 0&&(o=p);var w=t.globalCompositeOperation;(o!==1||v==="hollow")&&(t.globalCompositeOperation="destination-out",l.colorFillStyle(t,255,255,255,1),l.colorStrokeStyle(t,255,255,255,1),l.drawArrowShape(e,t,c,d,f,m,n,a,i),t.globalCompositeOperation=w);var y=e.pstyle(r+"-arrow-color").value;l.colorFillStyle(t,y[0],y[1],y[2],o),l.colorStrokeStyle(t,y[0],y[1],y[2],o),l.drawArrowShape(e,t,v,d,f,m,n,a,i)}}},Hn.drawArrowShape=function(t,e,r,n,a,i,o,l,f){var c=this,v=this.usePaths()&&a!=="triangle-cross",d=!1,g,m=e,p={x:o,y:l},w=t.pstyle("arrow-scale").value,y=this.getArrowWidth(n,w),b=c.arrowShapes[a];if(v){var E=c.arrowPathCache=c.arrowPathCache||[],S=ka(a),T=E[S];T!=null?(g=e=T,d=!0):(g=e=new Path2D,E[S]=g)}d||(e.beginPath&&e.beginPath(),v?b.draw(e,1,0,{x:0,y:0},1):b.draw(e,y,f,p,n),e.closePath&&e.closePath()),e=m,v&&(e.translate(o,l),e.rotate(f),e.scale(y,y)),(r==="filled"||r==="both")&&(v?e.fill(g):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=i/(v?y:1),e.lineJoin="miter",v?e.stroke(g):e.stroke()),v&&(e.scale(1/y,1/y),e.rotate(-f),e.translate(-o,-l))};var Sc={};Sc.safeDrawImage=function(t,e,r,n,a,i,o,l,f,c){if(!(a<=0||i<=0||f<=0||c<=0))try{t.drawImage(e,r,n,a,i,o,l,f,c)}catch(v){ft(v)}},Sc.drawInscribedImage=function(t,e,r,n,a){var i=this,o=r.position(),l=o.x,f=o.y,c=r.cy().style(),v=c.getIndexedStyle.bind(c),d=v(r,"background-fit","value",n),g=v(r,"background-repeat","value",n),m=r.width(),p=r.height(),w=r.padding()*2,y=m+(v(r,"background-width-relative-to","value",n)==="inner"?0:w),b=p+(v(r,"background-height-relative-to","value",n)==="inner"?0:w),E=r._private.rscratch,S=v(r,"background-clip","value",n),T=S==="node",A=v(r,"background-image-opacity","value",n)*a,D=v(r,"background-image-smoothing","value",n),P=r.pstyle("corner-radius").value;P!=="auto"&&(P=r.pstyle("corner-radius").pfValue);var L=e.width||e.cachedW,_=e.height||e.cachedH;(L==null||_==null)&&(document.body.appendChild(e),L=e.cachedW=e.width||e.offsetWidth,_=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var F=L,N=_;if(v(r,"background-width","value",n)!=="auto"&&(v(r,"background-width","units",n)==="%"?F=v(r,"background-width","pfValue",n)*y:F=v(r,"background-width","pfValue",n)),v(r,"background-height","value",n)!=="auto"&&(v(r,"background-height","units",n)==="%"?N=v(r,"background-height","pfValue",n)*b:N=v(r,"background-height","pfValue",n)),!(F===0||N===0)){if(d==="contain"){var B=Math.min(y/F,b/N);F*=B,N*=B}else if(d==="cover"){var B=Math.max(y/F,b/N);F*=B,N*=B}var V=l-y/2,M=v(r,"background-position-x","units",n),H=v(r,"background-position-x","pfValue",n);M==="%"?V+=(y-F)*H:V+=H;var W=v(r,"background-offset-x","units",n),q=v(r,"background-offset-x","pfValue",n);W==="%"?V+=(y-F)*q:V+=q;var Y=f-b/2,te=v(r,"background-position-y","units",n),re=v(r,"background-position-y","pfValue",n);te==="%"?Y+=(b-N)*re:Y+=re;var I=v(r,"background-offset-y","units",n),$=v(r,"background-offset-y","pfValue",n);I==="%"?Y+=(b-N)*$:Y+=$,E.pathCache&&(V-=l,Y-=f,l=0,f=0);var Q=t.globalAlpha;t.globalAlpha=A;var ue=i.getImgSmoothing(t),ne=!1;if(D==="no"&&ue?(i.setImgSmoothing(t,!1),ne=!0):D==="yes"&&!ue&&(i.setImgSmoothing(t,!0),ne=!0),g==="no-repeat")T&&(t.save(),E.pathCache?t.clip(E.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,l,f,y,b,P,E),t.clip())),i.safeDrawImage(t,e,0,0,L,_,V,Y,F,N),T&&t.restore();else{var Z=t.createPattern(e,g);t.fillStyle=Z,i.nodeShapes[i.getNodeShape(r)].draw(t,l,f,y,b,P,E),t.translate(V,Y),t.fill(),t.translate(-V,-Y)}t.globalAlpha=Q,ne&&i.setImgSmoothing(t,ue)}};var qa={};qa.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(zf(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,o=t.pstyle("min-zoomed-font-size").pfValue;return!(i<o)},qa.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var l=e.pstyle("label");if(!l||!l.value)return;var f=o.getLabelJustification(e);t.textAlign=f,t.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,v=e.pstyle("label"),d=e.pstyle("source-label"),g=e.pstyle("target-label");if(c||(!v||!v.value)&&(!d||!d.value)&&(!g||!g.value))return;t.textAlign="center",t.textBaseline="bottom"}var m=!r,p;r&&(p=r,t.translate(-p.x1,-p.y1)),a==null?(o.drawText(t,e,null,m,i),e.isEdge()&&(o.drawText(t,e,"source",m,i),o.drawText(t,e,"target",m,i))):o.drawText(t,e,a,m,i),r&&t.translate(p.x1,p.y1)},qa.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e},qa.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,l=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,f=e.pstyle("text-outline-opacity").value*l,c=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;t.font=n+" "+o+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,c[0],c[1],c[2],l),this.colorStrokeStyle(t,v[0],v[1],v[2],f)};function Cc(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+i,r),t.lineTo(e+n-i,r),t.quadraticCurveTo(e+n,r,e+n,r+i),t.lineTo(e+n,r+a-i),t.quadraticCurveTo(e+n,r+a,e+n-i,r+a),t.lineTo(e+i,r+a),t.quadraticCurveTo(e,r+a,e,r+a-i),t.lineTo(e,r+i),t.quadraticCurveTo(e,r,e+i,r),t.closePath(),o?t.stroke():t.fill()}qa.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),l=mn(a,"labelAngle",e);return o.strValue==="autorotate"?r=t.isEdge()?l:0:o.strValue==="none"?r=0:r=o.pfValue,r},qa.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,o=i.rscratch,l=a?e.effectiveOpacity():1;if(!(a&&(l===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var f=mn(o,"labelX",r),c=mn(o,"labelY",r),v,d,g=this.getLabelText(e,r);if(g!=null&&g!==""&&!isNaN(f)&&!isNaN(c)){this.setupTextStyle(t,e,a);var m=r?r+"-":"",p=mn(o,"labelWidth",r),w=mn(o,"labelHeight",r),y=e.pstyle(m+"text-margin-x").pfValue,b=e.pstyle(m+"text-margin-y").pfValue,E=e.isEdge(),S=e.pstyle("text-halign").value,T=e.pstyle("text-valign").value;E&&(S="center",T="center"),f+=y,c+=b;var A;switch(n?A=this.getTextAngle(e,r):A=0,A!==0&&(v=f,d=c,t.translate(v,d),t.rotate(A),f=0,c=0),T){case"top":break;case"center":c+=w/2;break;case"bottom":c+=w;break}var D=e.pstyle("text-background-opacity").value,P=e.pstyle("text-border-opacity").value,L=e.pstyle("text-border-width").pfValue,_=e.pstyle("text-background-padding").pfValue,F=e.pstyle("text-background-shape").strValue,N=F.indexOf("round")===0,B=2;if(D>0||L>0&&P>0){var V=f-_;switch(S){case"left":V-=p;break;case"center":V-=p/2;break}var M=c-w-_,H=p+2*_,W=w+2*_;if(D>0){var q=t.fillStyle,Y=e.pstyle("text-background-color").value;t.fillStyle="rgba("+Y[0]+","+Y[1]+","+Y[2]+","+D*l+")",N?Cc(t,V,M,H,W,B):t.fillRect(V,M,H,W),t.fillStyle=q}if(L>0&&P>0){var te=t.strokeStyle,re=t.lineWidth,I=e.pstyle("text-border-color").value,$=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+P*l+")",t.lineWidth=L,t.setLineDash)switch($){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=L/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(N?Cc(t,V,M,H,W,B,"stroke"):t.strokeRect(V,M,H,W),$==="double"){var Q=L/2;N?Cc(t,V+Q,M+Q,H-Q*2,W-Q*2,B,"stroke"):t.strokeRect(V+Q,M+Q,H-Q*2,W-Q*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=re,t.strokeStyle=te}}var ue=2*e.pstyle("text-outline-width").pfValue;if(ue>0&&(t.lineWidth=ue),e.pstyle("text-wrap").value==="wrap"){var ne=mn(o,"labelWrapCachedLines",r),Z=mn(o,"labelLineHeight",r),G=p/2,J=this.getLabelJustification(e);switch(J==="auto"||(S==="left"?J==="left"?f+=-p:J==="center"&&(f+=-G):S==="center"?J==="left"?f+=-G:J==="right"&&(f+=G):S==="right"&&(J==="center"?f+=G:J==="right"&&(f+=p))),T){case"top":c-=(ne.length-1)*Z;break;case"center":case"bottom":c-=(ne.length-1)*Z;break}for(var ee=0;ee<ne.length;ee++)ue>0&&t.strokeText(ne[ee],f,c),t.fillText(ne[ee],f,c),c+=Z}else ue>0&&t.strokeText(g,f,c),t.fillText(g,f,c);A!==0&&(t.rotate(-A),t.translate(-v,-d))}}};var Ni={};Ni.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,l,f,c=e._private,v=c.rscratch,d=e.position();if(!(!xe(d.x)||!xe(d.y))&&!(i&&!e.visible())){var g=i?e.effectiveOpacity():1,m=o.usePaths(),p,w=!1,y=e.padding();l=e.width()+2*y,f=e.height()+2*y;var b;r&&(b=r,t.translate(-b.x1,-b.y1));for(var E=e.pstyle("background-image"),S=E.value,T=new Array(S.length),A=new Array(S.length),D=0,P=0;P<S.length;P++){var L=S[P],_=T[P]=L!=null&&L!=="none";if(_){var F=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",P);D++,A[P]=o.getCachedImage(L,F,function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var N=e.pstyle("background-blacken").value,B=e.pstyle("border-width").pfValue,V=e.pstyle("background-opacity").value*g,M=e.pstyle("border-color").value,H=e.pstyle("border-style").value,W=e.pstyle("border-join").value,q=e.pstyle("border-cap").value,Y=e.pstyle("border-position").value,te=e.pstyle("border-dash-pattern").pfValue,re=e.pstyle("border-dash-offset").pfValue,I=e.pstyle("border-opacity").value*g,$=e.pstyle("outline-width").pfValue,Q=e.pstyle("outline-color").value,ue=e.pstyle("outline-style").value,ne=e.pstyle("outline-opacity").value*g,Z=e.pstyle("outline-offset").value,G=e.pstyle("corner-radius").value;G!=="auto"&&(G=e.pstyle("corner-radius").pfValue);var J=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V;o.eleFillStyle(t,e,be)},ee=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I;o.colorStrokeStyle(t,M[0],M[1],M[2],be)},ce=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ne;o.colorStrokeStyle(t,Q[0],Q[1],Q[2],be)},ge=function(be,se,ye,Me){var Be=o.nodePathCache=o.nodePathCache||[],ke=Nh(ye==="polygon"?ye+","+Me.join(","):ye,""+se,""+be,""+G),$e=Be[ke],Ce,Oe=!1;return $e!=null?(Ce=$e,Oe=!0,v.pathCache=Ce):(Ce=new Path2D,Be[ke]=v.pathCache=Ce),{path:Ce,cacheHit:Oe}},De=e.pstyle("shape").strValue,ze=e.pstyle("shape-polygon-points").pfValue;if(m){t.translate(d.x,d.y);var me=ge(l,f,De,ze);p=me.path,w=me.cacheHit}var we=function(){if(!w){var be=d;m&&(be={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(p||t,be.x,be.y,l,f,G,v)}m?t.fill(p):t.fill()},Ae=function(){for(var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ye=c.backgrounding,Me=0,Be=0;Be<A.length;Be++){var ke=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Be);if(se&&ke==="over"||!se&&ke==="inside"){Me++;continue}T[Be]&&A[Be].complete&&!A[Be].error&&(Me++,o.drawInscribedImage(t,A[Be],e,Be,be))}c.backgrounding=Me!==D,ye!==c.backgrounding&&e.updateStyle(!1)},Se=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;o.hasPie(e)&&(o.drawPie(t,e,se),be&&(m||o.nodeShapes[o.getNodeShape(e)].draw(t,d.x,d.y,l,f,G,v)))},_e=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,se=(N>0?N:-N)*be,ye=N>0?0:255;N!==0&&(o.colorFillStyle(t,ye,ye,ye,se),m?t.fill(p):t.fill())},Ie=function(){if(B>0){if(t.lineWidth=B,t.lineCap=q,t.lineJoin=W,t.setLineDash)switch(H){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(te),t.lineDashOffset=re;break;case"solid":case"double":t.setLineDash([]);break}if(Y!=="center"){if(t.save(),t.lineWidth*=2,Y==="inside")m?t.clip(p):t.clip();else{var be=new Path2D;be.rect(-l/2-B,-f/2-B,l+2*B,f+2*B),be.addPath(p),t.clip(be,"evenodd")}m?t.stroke(p):t.stroke(),t.restore()}else m?t.stroke(p):t.stroke();if(H==="double"){t.lineWidth=B/3;var se=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(p):t.stroke(),t.globalCompositeOperation=se}t.setLineDash&&t.setLineDash([])}},je=function(){if($>0){if(t.lineWidth=$,t.lineCap="butt",t.setLineDash)switch(ue){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var be=d;m&&(be={x:0,y:0});var se=o.getNodeShape(e),ye=B;Y==="inside"&&(ye=0),Y==="outside"&&(ye*=2);var Me=(l+ye+($+Z))/l,Be=(f+ye+($+Z))/f,ke=l*Me,$e=f*Be,Ce=o.nodeShapes[se].points,Oe;if(m){var St=ge(ke,$e,se,Ce);Oe=St.path}if(se==="ellipse")o.drawEllipsePath(Oe||t,be.x,be.y,ke,$e);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(se)){var pt=0,er=0,Wt=0;se==="round-diamond"?pt=(ye+Z+$)*1.4:se==="round-heptagon"?(pt=(ye+Z+$)*1.075,Wt=-(ye/2+Z+$)/35):se==="round-hexagon"?pt=(ye+Z+$)*1.12:se==="round-pentagon"?(pt=(ye+Z+$)*1.13,Wt=-(ye/2+Z+$)/15):se==="round-tag"?(pt=(ye+Z+$)*1.12,er=(ye/2+$+Z)*.07):se==="round-triangle"&&(pt=(ye+Z+$)*(Math.PI/2),Wt=-(ye+Z/2+$)/Math.PI),pt!==0&&(Me=(l+pt)/l,ke=l*Me,["round-hexagon","round-tag"].includes(se)||(Be=(f+pt)/f,$e=f*Be)),G=G==="auto"?Jh(ke,$e):G;for(var zt=ke/2,yr=$e/2,Xt=G+(ye+$+Z)/2,lr=new Array(Ce.length/2),kr=new Array(Ce.length/2),_r=0;_r<Ce.length/2;_r++)lr[_r]={x:be.x+er+zt*Ce[_r*2],y:be.y+Wt+yr*Ce[_r*2+1]};var br,an,qr,Vr,_t=lr.length;for(an=lr[_t-1],br=0;br<_t;br++)qr=lr[br%_t],Vr=lr[(br+1)%_t],kr[br]=yc(an,qr,Vr,Xt),an=qr,qr=Vr;o.drawRoundPolygonPath(Oe||t,be.x+er,be.y+Wt,l*Me,f*Be,Ce,kr)}else if(["roundrectangle","round-rectangle"].includes(se))G=G==="auto"?La(ke,$e):G,o.drawRoundRectanglePath(Oe||t,be.x,be.y,ke,$e,G+(ye+$+Z)/2);else if(["cutrectangle","cut-rectangle"].includes(se))G=G==="auto"?Wf():G,o.drawCutRectanglePath(Oe||t,be.x,be.y,ke,$e,null,G+(ye+$+Z)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(se))G=G==="auto"?La(ke,$e):G,o.drawBottomRoundRectanglePath(Oe||t,be.x,be.y,ke,$e,G+(ye+$+Z)/2);else if(se==="barrel")o.drawBarrelPath(Oe||t,be.x,be.y,ke,$e);else if(se.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(se)){var Ut=(ye+$+Z)/l;Ce=hu(gu(Ce,Ut)),o.drawPolygonPath(Oe||t,be.x,be.y,l,f,Ce)}else{var tr=(ye+$+Z)/l;Ce=hu(gu(Ce,-tr)),o.drawPolygonPath(Oe||t,be.x,be.y,l,f,Ce)}if(m?t.stroke(Oe):t.stroke(),ue==="double"){t.lineWidth=ye/3;var ma=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(Oe):t.stroke(),t.globalCompositeOperation=ma}t.setLineDash&&t.setLineDash([])}},Ue=function(){a&&o.drawNodeOverlay(t,e,d,l,f)},We=function(){a&&o.drawNodeUnderlay(t,e,d,l,f)},Qe=function(){o.drawElementText(t,e,null,n)},he=e.pstyle("ghost").value==="yes";if(he){var O=e.pstyle("ghost-offset-x").pfValue,j=e.pstyle("ghost-offset-y").pfValue,fe=e.pstyle("ghost-opacity").value,ie=fe*g;t.translate(O,j),ce(),je(),J(fe*V),we(),Ae(ie,!0),ee(fe*I),Ie(),Se(N!==0||B!==0),Ae(ie,!1),_e(ie),t.translate(-O,-j)}m&&t.translate(-d.x,-d.y),We(),m&&t.translate(d.x,d.y),ce(),je(),J(),we(),Ae(g,!0),ee(),Ie(),Se(N!==0||B!==0),Ae(g,!1),_e(),m&&t.translate(-d.x,-d.y),Qe(),Ue(),r&&t.translate(b.x1,b.y1)}};var tm=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,o){var l=this;if(n.visible()){var f=n.pstyle("".concat(e,"-padding")).pfValue,c=n.pstyle("".concat(e,"-opacity")).value,v=n.pstyle("".concat(e,"-color")).value,d=n.pstyle("".concat(e,"-shape")).value,g=n.pstyle("".concat(e,"-corner-radius")).value;if(c>0){if(a=a||n.position(),i==null||o==null){var m=n.padding();i=n.width()+2*m,o=n.height()+2*m}l.colorFillStyle(r,v[0],v[1],v[2],c),l.nodeShapes[d].draw(r,a.x,a.y,i+f*2,o+f*2,g),r.fill()}}}};Ni.drawNodeOverlay=tm("overlay"),Ni.drawNodeUnderlay=tm("underlay"),Ni.hasPie=function(t){return t=t[0],t._private.hasPie},Ni.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),o=n.x,l=n.y,f=e.width(),c=e.height(),v=Math.min(f,c)/2,d=0,g=this.usePaths();g&&(o=0,l=0),i.units==="%"?v=v*i.pfValue:i.pfValue!==void 0&&(v=i.pfValue/2);for(var m=1;m<=a.pieBackgroundN;m++){var p=e.pstyle("pie-"+m+"-background-size").value,w=e.pstyle("pie-"+m+"-background-color").value,y=e.pstyle("pie-"+m+"-background-opacity").value*r,b=p/100;b+d>1&&(b=1-d);var E=1.5*Math.PI+2*Math.PI*d,S=2*Math.PI*b,T=E+S;p===0||d>=1||d+b>1||(t.beginPath(),t.moveTo(o,l),t.arc(o,l,v,E,T),t.closePath(),this.colorFillStyle(t,w[0],w[1],w[2],y),t.fill(),d+=b)}};var $r={},TD=100;$r.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},$r.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n},$r.createGradientStyleFor=function(t,e,r,n,a){var i,o=this.usePaths(),l=r.pstyle(e+"-gradient-stop-colors").value,f=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var c=r.sourceEndpoint(),v=r.targetEndpoint(),d=r.midpoint(),g=_a(c,d),m=_a(v,d);i=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(g,m))}else{var p=o?{x:0,y:0}:r.position(),w=r.paddedWidth(),y=r.paddedHeight();i=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(w,y))}else if(r.isEdge()){var b=r.sourceEndpoint(),E=r.targetEndpoint();i=t.createLinearGradient(b.x,b.y,E.x,E.y)}else{var S=o?{x:0,y:0}:r.position(),T=r.paddedWidth(),A=r.paddedHeight(),D=T/2,P=A/2,L=r.pstyle("background-gradient-direction").value;switch(L){case"to-bottom":i=t.createLinearGradient(S.x,S.y-P,S.x,S.y+P);break;case"to-top":i=t.createLinearGradient(S.x,S.y+P,S.x,S.y-P);break;case"to-left":i=t.createLinearGradient(S.x+D,S.y,S.x-D,S.y);break;case"to-right":i=t.createLinearGradient(S.x-D,S.y,S.x+D,S.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(S.x-D,S.y-P,S.x+D,S.y+P);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(S.x-D,S.y+P,S.x+D,S.y-P);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(S.x+D,S.y-P,S.x-D,S.y+P);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(S.x+D,S.y+P,S.x-D,S.y-P);break}}if(!i)return null;for(var _=f.length===l.length,F=l.length,N=0;N<F;N++)i.addColorStop(_?f[N]:N/(F-1),"rgba("+l[N][0]+","+l[N][1]+","+l[N][2]+","+a+")");return i},$r.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a},$r.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"},$r.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}},$r.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a},$r.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"},$r.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}},$r.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],o=e.getPixelRatio(),l=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=l);var f=a*o,c=i*o,v;if(!(f===e.canvasWidth&&c===e.canvasHeight)){e.fontCaches=null;var d=r.canvasContainer;d.style.width=a+"px",d.style.height=i+"px";for(var g=0;g<e.CANVAS_LAYERS;g++)v=r.canvases[g],v.width=f,v.height=c,v.style.width=a+"px",v.style.height=i+"px";for(var g=0;g<e.BUFFER_COUNT;g++)v=r.bufferCanvases[g],v.width=f,v.height=c,v.style.width=a+"px",v.style.height=i+"px";e.textureMult=1,o<=1&&(v=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=f*e.textureMult,v.height=c*e.textureMult),e.canvasWidth=f,e.canvasHeight=c}},$r.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},$r.render=function(t){t=t||Wh();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,a=t.forcedZoom,i=t.forcedPan,o=this,l=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,f=o.cy,c=o.data,v=c.canvasNeedsRedraw,d=o.textureOnViewport&&!e&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),g=t.motionBlur!==void 0?t.motionBlur:o.motionBlur,m=o.motionBlurPxRatio,p=f.hasCompoundNodes(),w=o.hoverData.draggingEles,y=!!(o.hoverData.selecting||o.touchData.selecting);g=g&&!e&&o.motionBlurEnabled&&!y;var b=g;e||(o.prevPxRatio!==l&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=l),!e&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),g&&(o.mbFrames==null&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(b=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!d&&(v[o.NODE]=!0,v[o.SELECT_BOX]=!0);var E=f.style(),S=f.zoom(),T=a!==void 0?a:S,A=f.pan(),D={x:A.x,y:A.y},P={zoom:S,pan:{x:A.x,y:A.y}},L=o.prevViewport,_=L===void 0||P.zoom!==L.zoom||P.pan.x!==L.pan.x||P.pan.y!==L.pan.y;!_&&!(w&&!p)&&(o.motionBlurPxRatio=1),i&&(D=i),T*=l,D.x*=l,D.y*=l;var F=o.getCachedZSortedEles();function N(me,we,Ae,Se,_e){var Ie=me.globalCompositeOperation;me.globalCompositeOperation="destination-out",o.colorFillStyle(me,255,255,255,o.motionBlurTransparency),me.fillRect(we,Ae,Se,_e),me.globalCompositeOperation=Ie}function B(me,we){var Ae,Se,_e,Ie;!o.clearingMotionBlur&&(me===c.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]||me===c.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])?(Ae={x:A.x*m,y:A.y*m},Se=S*m,_e=o.canvasWidth*m,Ie=o.canvasHeight*m):(Ae=D,Se=T,_e=o.canvasWidth,Ie=o.canvasHeight),me.setTransform(1,0,0,1,0,0),we==="motionBlur"?N(me,0,0,_e,Ie):!e&&(we===void 0||we)&&me.clearRect(0,0,_e,Ie),r||(me.translate(Ae.x,Ae.y),me.scale(Se,Se)),i&&me.translate(i.x,i.y),a&&me.scale(a,a)}if(d||(o.textureDrawLastFrame=!1),d){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=f.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var V=o.data.bufferContexts[o.TEXTURE_BUFFER];V.setTransform(1,0,0,1,0,0),V.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:V,drawOnlyNodeLayer:!0,forcedPxRatio:l*o.textureMult});var P=o.textureCache.viewport={zoom:f.zoom(),pan:f.pan(),width:o.canvasWidth,height:o.canvasHeight};P.mpan={x:(0-P.pan.x)/P.zoom,y:(0-P.pan.y)/P.zoom}}v[o.DRAG]=!1,v[o.NODE]=!1;var M=c.contexts[o.NODE],H=o.textureCache.texture,P=o.textureCache.viewport;M.setTransform(1,0,0,1,0,0),g?N(M,0,0,P.width,P.height):M.clearRect(0,0,P.width,P.height);var W=E.core("outside-texture-bg-color").value,q=E.core("outside-texture-bg-opacity").value;o.colorFillStyle(M,W[0],W[1],W[2],q),M.fillRect(0,0,P.width,P.height);var S=f.zoom();B(M,!1),M.clearRect(P.mpan.x,P.mpan.y,P.width/P.zoom/l,P.height/P.zoom/l),M.drawImage(H,P.mpan.x,P.mpan.y,P.width/P.zoom/l,P.height/P.zoom/l)}else o.textureOnViewport&&!e&&(o.textureCache=null);var Y=f.extent(),te=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),re=o.hideEdgesOnViewport&&te,I=[];if(I[o.NODE]=!v[o.NODE]&&g&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,I[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),I[o.DRAG]=!v[o.DRAG]&&g&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,I[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),v[o.NODE]||r||n||I[o.NODE]){var $=g&&!I[o.NODE]&&m!==1,M=e||($?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:c.contexts[o.NODE]),Q=g&&!$?"motionBlur":void 0;B(M,Q),re?o.drawCachedNodes(M,F.nondrag,l,Y):o.drawLayeredElements(M,F.nondrag,l,Y),o.debug&&o.drawDebugPoints(M,F.nondrag),!r&&!g&&(v[o.NODE]=!1)}if(!n&&(v[o.DRAG]||r||I[o.DRAG])){var $=g&&!I[o.DRAG]&&m!==1,M=e||($?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:c.contexts[o.DRAG]);B(M,g&&!$?"motionBlur":void 0),re?o.drawCachedNodes(M,F.drag,l,Y):o.drawCachedElements(M,F.drag,l,Y),o.debug&&o.drawDebugPoints(M,F.drag),!r&&!g&&(v[o.DRAG]=!1)}if(o.showFps||!n&&v[o.SELECT_BOX]&&!r){var M=e||c.contexts[o.SELECT_BOX];if(B(M),o.selection[4]==1&&(o.hoverData.selecting||o.touchData.selecting)){var S=o.cy.zoom(),ue=E.core("selection-box-border-width").value/S;M.lineWidth=ue,M.fillStyle="rgba("+E.core("selection-box-color").value[0]+","+E.core("selection-box-color").value[1]+","+E.core("selection-box-color").value[2]+","+E.core("selection-box-opacity").value+")",M.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),ue>0&&(M.strokeStyle="rgba("+E.core("selection-box-border-color").value[0]+","+E.core("selection-box-border-color").value[1]+","+E.core("selection-box-border-color").value[2]+","+E.core("selection-box-opacity").value+")",M.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(c.bgActivePosistion&&!o.hoverData.selecting){var S=o.cy.zoom(),ne=c.bgActivePosistion;M.fillStyle="rgba("+E.core("active-bg-color").value[0]+","+E.core("active-bg-color").value[1]+","+E.core("active-bg-color").value[2]+","+E.core("active-bg-opacity").value+")",M.beginPath(),M.arc(ne.x,ne.y,E.core("active-bg-size").pfValue/S,0,2*Math.PI),M.fill()}var Z=o.lastRedrawTime;if(o.showFps&&Z){Z=Math.round(Z);var G=Math.round(1e3/Z);M.setTransform(1,0,0,1,0,0),M.fillStyle="rgba(255, 0, 0, 0.75)",M.strokeStyle="rgba(255, 0, 0, 0.75)",M.lineWidth=1,M.fillText("1 frame = "+Z+" ms = "+G+" fps",0,20);var J=60;M.strokeRect(0,30,250,20),M.fillRect(0,30,250*Math.min(G/J,1),20)}r||(v[o.SELECT_BOX]=!1)}if(g&&m!==1){var ee=c.contexts[o.NODE],ce=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],ge=c.contexts[o.DRAG],De=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],ze=function(we,Ae,Se){we.setTransform(1,0,0,1,0,0),Se||!b?we.clearRect(0,0,o.canvasWidth,o.canvasHeight):N(we,0,0,o.canvasWidth,o.canvasHeight);var _e=m;we.drawImage(Ae,0,0,o.canvasWidth*_e,o.canvasHeight*_e,0,0,o.canvasWidth,o.canvasHeight)};(v[o.NODE]||I[o.NODE])&&(ze(ee,ce,I[o.NODE]),v[o.NODE]=!1),(v[o.DRAG]||I[o.DRAG])&&(ze(ge,De,I[o.DRAG]),v[o.DRAG]=!1)}o.prevViewport=P,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),g&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!d,o.mbFrames=0,v[o.NODE]=!0,v[o.DRAG]=!0,o.redraw()},TD)),e||f.emit("render")};var pa={};pa.drawPolygonPath=function(t,e,r,n,a,i){var o=n/2,l=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*i[0],r+l*i[1]);for(var f=1;f<i.length/2;f++)t.lineTo(e+o*i[f*2],r+l*i[f*2+1]);t.closePath()},pa.drawRoundPolygonPath=function(t,e,r,n,a,i,o){o.forEach(function(l){return Mp(t,l)}),t.closePath()},pa.drawRoundRectanglePath=function(t,e,r,n,a,i){var o=n/2,l=a/2,f=i==="auto"?La(n,a):Math.min(i,l,o);t.beginPath&&t.beginPath(),t.moveTo(e,r-l),t.arcTo(e+o,r-l,e+o,r,f),t.arcTo(e+o,r+l,e,r+l,f),t.arcTo(e-o,r+l,e-o,r,f),t.arcTo(e-o,r-l,e,r-l,f),t.lineTo(e,r-l),t.closePath()},pa.drawBottomRoundRectanglePath=function(t,e,r,n,a,i){var o=n/2,l=a/2,f=i==="auto"?La(n,a):i;t.beginPath&&t.beginPath(),t.moveTo(e,r-l),t.lineTo(e+o,r-l),t.lineTo(e+o,r),t.arcTo(e+o,r+l,e,r+l,f),t.arcTo(e-o,r+l,e-o,r,f),t.lineTo(e-o,r-l),t.lineTo(e,r-l),t.closePath()},pa.drawCutRectanglePath=function(t,e,r,n,a,i,o){var l=n/2,f=a/2,c=o==="auto"?Wf():o;t.beginPath&&t.beginPath(),t.moveTo(e-l+c,r-f),t.lineTo(e+l-c,r-f),t.lineTo(e+l,r-f+c),t.lineTo(e+l,r+f-c),t.lineTo(e+l-c,r+f),t.lineTo(e-l+c,r+f),t.lineTo(e-l,r+f-c),t.lineTo(e-l,r-f+c),t.closePath()},pa.drawBarrelPath=function(t,e,r,n,a){var i=n/2,o=a/2,l=e-i,f=e+i,c=r-o,v=r+o,d=Uf(n,a),g=d.widthOffset,m=d.heightOffset,p=d.ctrlPtOffsetPct*g;t.beginPath&&t.beginPath(),t.moveTo(l,c+m),t.lineTo(l,v-m),t.quadraticCurveTo(l+p,v,l+g,v),t.lineTo(f-g,v),t.quadraticCurveTo(f-p,v,f,v-m),t.lineTo(f,c+m),t.quadraticCurveTo(f-p,c,f-g,c),t.lineTo(l+g,c),t.quadraticCurveTo(l+p,c,l,c+m),t.closePath()};for(var rm=Math.sin(0),nm=Math.cos(0),Tc={},Pc={},am=Math.PI/40,Fi=0*Math.PI;Fi<2*Math.PI;Fi+=am)Tc[Fi]=Math.sin(Fi),Pc[Fi]=Math.cos(Fi);pa.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,l=n/2,f=a/2,c=0*Math.PI;c<2*Math.PI;c+=am)i=e-l*Tc[c]*rm+l*Pc[c]*nm,o=r+f*Pc[c]*rm+f*Tc[c]*nm,c===0?t.moveTo(i,o):t.lineTo(i,o);t.closePath()};var Xo={};Xo.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]},Xo.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],o=t.full?Math.ceil(n.h):a[3],l=xe(t.maxWidth)||xe(t.maxHeight),f=this.getPixelRatio(),c=1;if(t.scale!==void 0)i*=t.scale,o*=t.scale,c=t.scale;else if(l){var v=1/0,d=1/0;xe(t.maxWidth)&&(v=c*t.maxWidth/i),xe(t.maxHeight)&&(d=c*t.maxHeight/o),c=Math.min(v,d),i*=c,o*=c}l||(i*=f,o*=f,c*=f);var g=document.createElement("canvas");g.width=i,g.height=o,g.style.width=i+"px",g.style.height=o+"px";var m=g.getContext("2d");if(i>0&&o>0){m.clearRect(0,0,i,o),m.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)m.translate(-n.x1*c,-n.y1*c),m.scale(c,c),this.drawElements(m,p),m.scale(1/c,1/c),m.translate(n.x1*c,n.y1*c);else{var w=e.pan(),y={x:w.x*c,y:w.y*c};c*=e.zoom(),m.translate(y.x,y.y),m.scale(c,c),this.drawElements(m,p),m.scale(1/c,1/c),m.translate(-y.x,-y.y)}t.bg&&(m.globalCompositeOperation="destination-over",m.fillStyle=t.bg,m.rect(0,0,i,o),m.fill())}return g};function PD(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function im(t){var e=t.indexOf(",");return t.substr(e+1)}function om(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new xi(function(a,i){try{e.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(o){i(o)}});case"blob":return PD(im(n()),r);case"base64":return im(n());case"base64uri":default:return n()}}Xo.png=function(t){return om(t,this.bufferCanvasImage(t),"image/png")},Xo.jpg=function(t){return om(t,this.bufferCanvasImage(t),"image/jpeg")};var sm={};sm.nodeShapeImpl=function(t,e,r,n,a,i,o,l){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,o,l);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i,l);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i,o,l);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i,l);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var AD=um,ot=um.prototype;ot.CANVAS_LAYERS=3,ot.SELECT_BOX=0,ot.DRAG=1,ot.NODE=2,ot.BUFFER_COUNT=3,ot.TEXTURE_BUFFER=0,ot.MOTIONBLUR_BUFFER_NODE=1,ot.MOTIONBLUR_BUFFER_DRAG=2;function um(t){var e=this;e.data={canvases:new Array(ot.CANVAS_LAYERS),contexts:new Array(ot.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ot.CANVAS_LAYERS),bufferCanvases:new Array(ot.BUFFER_COUNT),bufferContexts:new Array(ot.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var a=e.data.canvasContainer.style;e.data.canvasContainer.style[r]=n,a.position="relative",a.zIndex="0",a.overflow="hidden";var i=t.cy.container();i.appendChild(e.data.canvasContainer),i.style[r]=n;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};hE()&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var l=0;l<ot.CANVAS_LAYERS;l++){var f=e.data.canvases[l]=document.createElement("canvas");e.data.contexts[l]=f.getContext("2d"),Object.keys(o).forEach(function(Z){f.style[Z]=o[Z]}),f.style.position="absolute",f.setAttribute("data-id","layer"+l),f.style.zIndex=String(ot.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(f),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[ot.NODE].setAttribute("data-id","layer"+ot.NODE+"-node"),e.data.canvases[ot.SELECT_BOX].setAttribute("data-id","layer"+ot.SELECT_BOX+"-selectbox"),e.data.canvases[ot.DRAG].setAttribute("data-id","layer"+ot.DRAG+"-drag");for(var l=0;l<ot.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=document.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var c=Ar(),v=function(G){return{x:(G.x1+G.x2)/2,y:(G.y1+G.y2)/2}},d=function(G){return{x:-G.w/2,y:-G.h/2}},g=function(G){var J=G[0]._private,ee=J.oldBackgroundTimestamp===J.backgroundTimestamp;return!ee},m=function(G){return G[0]._private.nodeKey},p=function(G){return G[0]._private.labelStyleKey},w=function(G){return G[0]._private.sourceLabelStyleKey},y=function(G){return G[0]._private.targetLabelStyleKey},b=function(G,J,ee,ce,ge){return e.drawElement(G,J,ee,!1,!1,ge)},E=function(G,J,ee,ce,ge){return e.drawElementText(G,J,ee,ce,"main",ge)},S=function(G,J,ee,ce,ge){return e.drawElementText(G,J,ee,ce,"source",ge)},T=function(G,J,ee,ce,ge){return e.drawElementText(G,J,ee,ce,"target",ge)},A=function(G){return G.boundingBox(),G[0]._private.bodyBounds},D=function(G){return G.boundingBox(),G[0]._private.labelBounds.main||c},P=function(G){return G.boundingBox(),G[0]._private.labelBounds.source||c},L=function(G){return G.boundingBox(),G[0]._private.labelBounds.target||c},_=function(G,J){return J},F=function(G){return v(A(G))},N=function(G,J,ee){var ce=G?G+"-":"";return{x:J.x+ee.pstyle(ce+"text-margin-x").pfValue,y:J.y+ee.pstyle(ce+"text-margin-y").pfValue}},B=function(G,J,ee){var ce=G[0]._private.rscratch;return{x:ce[J],y:ce[ee]}},V=function(G){return N("",B(G,"labelX","labelY"),G)},M=function(G){return N("source",B(G,"sourceLabelX","sourceLabelY"),G)},H=function(G){return N("target",B(G,"targetLabelX","targetLabelY"),G)},W=function(G){return d(A(G))},q=function(G){return d(P(G))},Y=function(G){return d(L(G))},te=function(G){var J=D(G),ee=d(D(G));if(G.isNode()){switch(G.pstyle("text-halign").value){case"left":ee.x=-J.w;break;case"right":ee.x=0;break}switch(G.pstyle("text-valign").value){case"top":ee.y=-J.h;break;case"bottom":ee.y=0;break}}return ee},re=e.data.eleTxrCache=new Ko(e,{getKey:m,doesEleInvalidateKey:g,drawElement:b,getBoundingBox:A,getRotationPoint:F,getRotationOffset:W,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),I=e.data.lblTxrCache=new Ko(e,{getKey:p,drawElement:E,getBoundingBox:D,getRotationPoint:V,getRotationOffset:te,isVisible:_}),$=e.data.slbTxrCache=new Ko(e,{getKey:w,drawElement:S,getBoundingBox:P,getRotationPoint:M,getRotationOffset:q,isVisible:_}),Q=e.data.tlbTxrCache=new Ko(e,{getKey:y,drawElement:T,getBoundingBox:L,getRotationPoint:H,getRotationOffset:Y,isVisible:_}),ue=e.data.lyrTxrCache=new Xp(e);e.onUpdateEleCalcs(function(G,J){re.invalidateElements(J),I.invalidateElements(J),$.invalidateElements(J),Q.invalidateElements(J),ue.invalidateElements(J);for(var ee=0;ee<J.length;ee++){var ce=J[ee]._private;ce.oldBackgroundTimestamp=ce.backgroundTimestamp}});var ne=function(G){for(var J=0;J<G.length;J++)ue.enqueueElementRefinement(G[J].ele)};re.onDequeue(ne),I.onDequeue(ne),$.onDequeue(ne),Q.onDequeue(ne)}ot.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[ot.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[ot.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[ot.SELECT_BOX]=e;break}};var DD=typeof Path2D<"u";ot.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t},ot.usePaths=function(){return DD&&this.pathsEnabled},ot.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},ot.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},ot.makeOffscreenCanvas=function(t,e){var r;return(typeof OffscreenCanvas>"u"?"undefined":Ht(OffscreenCanvas))!=="undefined"?r=new OffscreenCanvas(t,e):(r=document.createElement("canvas"),r.width=t,r.height=e),r},[Qp,In,Hn,Sc,qa,Ni,$r,pa,Xo,sm].forEach(function(t){Ne(ot,t)});var kD=[{name:"null",impl:Pp},{name:"base",impl:Hp},{name:"canvas",impl:AD}],_D=[{type:"layout",extensions:BA},{type:"renderer",extensions:kD}],lm={},fm={};function cm(t,e,r){var n=r,a=function(L){ft("Can not register `"+e+"` for `"+t+"` since `"+L+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Uo.prototype[e])return a(e);Uo.prototype[e]=r}else if(t==="collection"){if(or.prototype[e])return a(e);or.prototype[e]=r}else if(t==="layout"){for(var i=function(L){this.options=L,r.call(this,L),rt(this._private)||(this._private={}),this._private.cy=L.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),l=[],f=0;f<l.length;f++){var c=l[f];o[c]=o[c]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var v=r.prototype.stop;o.stop=function(){var P=this.options;if(P&&P.animate){var L=this.animations;if(L)for(var _=0;_<L.length;_++)L[_].stop()}return v?v.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var d=function(L){return L._private.cy},g={addEventFields:function(L,_){_.layout=L,_.cy=d(L),_.target=L},bubble:function(){return!0},parent:function(L){return d(L)}};Ne(o,{createEmitter:function(){return this._private.emitter=new ku(g,this),this},emitter:function(){return this._private.emitter},on:function(L,_){return this.emitter().on(L,_),this},one:function(L,_){return this.emitter().one(L,_),this},once:function(L,_){return this.emitter().one(L,_),this},removeListener:function(L,_){return this.emitter().removeListener(L,_),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(L,_){return this.emitter().emit(L,_),this}}),ct.eventAliasesOn(o),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var m=vm("renderer","base"),p=m.prototype,w=r,y=r.prototype,b=function(){m.apply(this,arguments),w.apply(this,arguments)},E=b.prototype;for(var S in p){var T=p[S],A=y[S]!=null;if(A)return a(S);E[S]=T}for(var D in y)E[D]=y[D];p.clientFunctions.forEach(function(P){E[P]=E[P]||function(){It("Renderer does not implement `renderer."+P+"()` on its prototype")}}),n=b}else if(t==="__proto__"||t==="constructor"||t==="prototype")return It(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Ah({map:lm,keys:[t,e],value:n})}function vm(t,e){return Dh({map:lm,keys:[t,e]})}function RD(t,e,r,n,a){return Ah({map:fm,keys:[t,e,r,n],value:a})}function OD(t,e,r,n){return Dh({map:fm,keys:[t,e,r,n]})}var Ac=function(){if(arguments.length===2)return vm.apply(null,arguments);if(arguments.length===3)return cm.apply(null,arguments);if(arguments.length===4)return OD.apply(null,arguments);if(arguments.length===5)return RD.apply(null,arguments);It("Invalid extension access syntax")};Uo.prototype.extension=Ac,_D.forEach(function(t){t.extensions.forEach(function(e){cm(t.type,e.name,e.impl)})});var dm=function t(){if(!(this instanceof t))return new t;this.length=0},Va=dm.prototype;Va.instanceString=function(){return"stylesheet"},Va.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this},Va.css=function(t,e){var r=this.length-1;if(Le(t))this[r].properties.push({name:t,value:e});else if(rt(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],l=n[o];if(l!=null){var f=gr.properties[o]||gr.properties[nu(o)];if(f!=null){var c=f.name,v=l;this[r].properties.push({name:c,value:v})}}}return this},Va.style=Va.css,Va.generateStyle=function(t){var e=new gr(t);return this.appendToStyle(e)},Va.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var o=a[i];t.css(o.name,o.value)}}return t};var LD="3.29.2",Wa=function(e){if(e===void 0&&(e={}),rt(e))return new Uo(e);if(Le(e))return Ac.apply(Ac,arguments)};Wa.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Wa),t.apply(null,e),this},Wa.warnings=function(t){return qh(t)},Wa.version=LD,Wa.stylesheet=Wa.Stylesheet=dm;var Ju={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ju.exports,function(t,e){(function(){var r,n="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",c=500,v="__lodash_placeholder__",d=1,g=2,m=4,p=1,w=2,y=1,b=2,E=4,S=8,T=16,A=32,D=64,P=128,L=256,_=512,F=30,N="...",B=800,V=16,M=1,H=2,W=3,q=1/0,Y=9007199254740991,te=17976931348623157e292,re=NaN,I=4294967295,$=I-1,Q=I>>>1,ue=[["ary",P],["bind",y],["bindKey",b],["curry",S],["curryRight",T],["flip",_],["partial",A],["partialRight",D],["rearg",L]],ne="[object Arguments]",Z="[object Array]",G="[object AsyncFunction]",J="[object Boolean]",ee="[object Date]",ce="[object DOMException]",ge="[object Error]",De="[object Function]",ze="[object GeneratorFunction]",me="[object Map]",we="[object Number]",Ae="[object Null]",Se="[object Object]",_e="[object Promise]",Ie="[object Proxy]",je="[object RegExp]",Ue="[object Set]",We="[object String]",Qe="[object Symbol]",he="[object Undefined]",O="[object WeakMap]",j="[object WeakSet]",fe="[object ArrayBuffer]",ie="[object DataView]",oe="[object Float32Array]",be="[object Float64Array]",se="[object Int8Array]",ye="[object Int16Array]",Me="[object Int32Array]",Be="[object Uint8Array]",ke="[object Uint8ClampedArray]",$e="[object Uint16Array]",Ce="[object Uint32Array]",Oe=/\b__p \+= '';/g,St=/\b(__p \+=) '' \+/g,pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,er=/&(?:amp|lt|gt|quot|#39);/g,Wt=/[&<>"']/g,zt=RegExp(er.source),yr=RegExp(Wt.source),Xt=/<%-([\s\S]+?)%>/g,lr=/<%([\s\S]+?)%>/g,kr=/<%=([\s\S]+?)%>/g,_r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,br=/^\w*$/,an=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qr=/[\\^$.*+?()[\]{}|]/g,Vr=RegExp(qr.source),_t=/^\s+/,Ut=/\s/,tr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ma=/\{\n\/\* \[wrapped with (.+)\] \*/,on=/,? & /,ju=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kc=/[()=,{}\[\]\/\s]/,_c=/\\(\\)?/g,Rc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,el=/\w*$/,Oc=/^[-+]0x[0-9a-f]+$/i,Lc=/^0b[01]+$/i,Ic=/^\[object .+?Constructor\]$/,Ua=/^0o[0-7]+$/i,Zo=/^(?:0|[1-9]\d*)$/,zi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ha=/($^)/,tl=/['\n\r\u2028\u2029\\]/g,$i="\\ud800-\\udfff",Wr="\\u0300-\\u036f",Qo="\\ufe20-\\ufe2f",rl="\\u20d0-\\u20ff",ya=Wr+Qo+rl,Rr="\\u2700-\\u27bf",nl="a-z\\xdf-\\xf6\\xf8-\\xff",FD="\\xac\\xb1\\xd7\\xf7",zD="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$D="\\u2000-\\u206f",qD=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gm="A-Z\\xc0-\\xd6\\xd8-\\xde",pm="\\ufe0e\\ufe0f",mm=FD+zD+$D+qD,Mc="[']",VD="["+$i+"]",ym="["+mm+"]",al="["+ya+"]",bm="\\d+",WD="["+Rr+"]",wm="["+nl+"]",xm="[^"+$i+mm+bm+Rr+nl+gm+"]",Bc="\\ud83c[\\udffb-\\udfff]",UD="(?:"+al+"|"+Bc+")",Em="[^"+$i+"]",Nc="(?:\\ud83c[\\udde6-\\uddff]){2}",Fc="[\\ud800-\\udbff][\\udc00-\\udfff]",qi="["+gm+"]",Sm="\\u200d",Cm="(?:"+wm+"|"+xm+")",HD="(?:"+qi+"|"+xm+")",Tm="(?:"+Mc+"(?:d|ll|m|re|s|t|ve))?",Pm="(?:"+Mc+"(?:D|LL|M|RE|S|T|VE))?",Am=UD+"?",Dm="["+pm+"]?",GD="(?:"+Sm+"(?:"+[Em,Nc,Fc].join("|")+")"+Dm+Am+")*",KD="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",YD="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",km=Dm+Am+GD,XD="(?:"+[WD,Nc,Fc].join("|")+")"+km,ZD="(?:"+[Em+al+"?",al,Nc,Fc,VD].join("|")+")",QD=RegExp(Mc,"g"),JD=RegExp(al,"g"),zc=RegExp(Bc+"(?="+Bc+")|"+ZD+km,"g"),jD=RegExp([qi+"?"+wm+"+"+Tm+"(?="+[ym,qi,"$"].join("|")+")",HD+"+"+Pm+"(?="+[ym,qi+Cm,"$"].join("|")+")",qi+"?"+Cm+"+"+Tm,qi+"+"+Pm,YD,KD,bm,XD].join("|"),"g"),ek=RegExp("["+Sm+$i+ya+pm+"]"),tk=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rk=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nk=-1,Pt={};Pt[oe]=Pt[be]=Pt[se]=Pt[ye]=Pt[Me]=Pt[Be]=Pt[ke]=Pt[$e]=Pt[Ce]=!0,Pt[ne]=Pt[Z]=Pt[fe]=Pt[J]=Pt[ie]=Pt[ee]=Pt[ge]=Pt[De]=Pt[me]=Pt[we]=Pt[Se]=Pt[je]=Pt[Ue]=Pt[We]=Pt[O]=!1;var Ct={};Ct[ne]=Ct[Z]=Ct[fe]=Ct[ie]=Ct[J]=Ct[ee]=Ct[oe]=Ct[be]=Ct[se]=Ct[ye]=Ct[Me]=Ct[me]=Ct[we]=Ct[Se]=Ct[je]=Ct[Ue]=Ct[We]=Ct[Qe]=Ct[Be]=Ct[ke]=Ct[$e]=Ct[Ce]=!0,Ct[ge]=Ct[De]=Ct[O]=!1;var ak={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ik={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ok={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sk={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},uk=parseFloat,lk=parseInt,_m=typeof to=="object"&&to&&to.Object===Object&&to,fk=typeof self=="object"&&self&&self.Object===Object&&self,fr=_m||fk||Function("return this")(),$c=e&&!e.nodeType&&e,Ga=$c&&!0&&t&&!t.nodeType&&t,Rm=Ga&&Ga.exports===$c,qc=Rm&&_m.process,sn=function(){try{var K=Ga&&Ga.require&&Ga.require("util").types;return K||qc&&qc.binding&&qc.binding("util")}catch{}}(),Om=sn&&sn.isArrayBuffer,Lm=sn&&sn.isDate,Im=sn&&sn.isMap,Mm=sn&&sn.isRegExp,Bm=sn&&sn.isSet,Nm=sn&&sn.isTypedArray;function Ur(K,le,ae){switch(ae.length){case 0:return K.call(le);case 1:return K.call(le,ae[0]);case 2:return K.call(le,ae[0],ae[1]);case 3:return K.call(le,ae[0],ae[1],ae[2])}return K.apply(le,ae)}function ck(K,le,ae,Te){for(var He=-1,lt=K==null?0:K.length;++He<lt;){var Zt=K[He];le(Te,Zt,ae(Zt),K)}return Te}function un(K,le){for(var ae=-1,Te=K==null?0:K.length;++ae<Te&&le(K[ae],ae,K)!==!1;);return K}function vk(K,le){for(var ae=K==null?0:K.length;ae--&&le(K[ae],ae,K)!==!1;);return K}function Fm(K,le){for(var ae=-1,Te=K==null?0:K.length;++ae<Te;)if(!le(K[ae],ae,K))return!1;return!0}function ba(K,le){for(var ae=-1,Te=K==null?0:K.length,He=0,lt=[];++ae<Te;){var Zt=K[ae];le(Zt,ae,K)&&(lt[He++]=Zt)}return lt}function il(K,le){var ae=K==null?0:K.length;return!!ae&&Vi(K,le,0)>-1}function Vc(K,le,ae){for(var Te=-1,He=K==null?0:K.length;++Te<He;)if(ae(le,K[Te]))return!0;return!1}function Dt(K,le){for(var ae=-1,Te=K==null?0:K.length,He=Array(Te);++ae<Te;)He[ae]=le(K[ae],ae,K);return He}function wa(K,le){for(var ae=-1,Te=le.length,He=K.length;++ae<Te;)K[He+ae]=le[ae];return K}function Wc(K,le,ae,Te){var He=-1,lt=K==null?0:K.length;for(Te&&lt&&(ae=K[++He]);++He<lt;)ae=le(ae,K[He],He,K);return ae}function dk(K,le,ae,Te){var He=K==null?0:K.length;for(Te&&He&&(ae=K[--He]);He--;)ae=le(ae,K[He],He,K);return ae}function Uc(K,le){for(var ae=-1,Te=K==null?0:K.length;++ae<Te;)if(le(K[ae],ae,K))return!0;return!1}var hk=Hc("length");function gk(K){return K.split("")}function pk(K){return K.match(ju)||[]}function zm(K,le,ae){var Te;return ae(K,function(He,lt,Zt){if(le(He,lt,Zt))return Te=lt,!1}),Te}function ol(K,le,ae,Te){for(var He=K.length,lt=ae+(Te?1:-1);Te?lt--:++lt<He;)if(le(K[lt],lt,K))return lt;return-1}function Vi(K,le,ae){return le===le?Dk(K,le,ae):ol(K,$m,ae)}function mk(K,le,ae,Te){for(var He=ae-1,lt=K.length;++He<lt;)if(Te(K[He],le))return He;return-1}function $m(K){return K!==K}function qm(K,le){var ae=K==null?0:K.length;return ae?Kc(K,le)/ae:re}function Hc(K){return function(le){return le==null?r:le[K]}}function Gc(K){return function(le){return K==null?r:K[le]}}function Vm(K,le,ae,Te,He){return He(K,function(lt,Zt,wt){ae=Te?(Te=!1,lt):le(ae,lt,Zt,wt)}),ae}function yk(K,le){var ae=K.length;for(K.sort(le);ae--;)K[ae]=K[ae].value;return K}function Kc(K,le){for(var ae,Te=-1,He=K.length;++Te<He;){var lt=le(K[Te]);lt!==r&&(ae=ae===r?lt:ae+lt)}return ae}function Yc(K,le){for(var ae=-1,Te=Array(K);++ae<K;)Te[ae]=le(ae);return Te}function bk(K,le){return Dt(le,function(ae){return[ae,K[ae]]})}function Wm(K){return K&&K.slice(0,Km(K)+1).replace(_t,"")}function Hr(K){return function(le){return K(le)}}function Xc(K,le){return Dt(le,function(ae){return K[ae]})}function Jo(K,le){return K.has(le)}function Um(K,le){for(var ae=-1,Te=K.length;++ae<Te&&Vi(le,K[ae],0)>-1;);return ae}function Hm(K,le){for(var ae=K.length;ae--&&Vi(le,K[ae],0)>-1;);return ae}function wk(K,le){for(var ae=K.length,Te=0;ae--;)K[ae]===le&&++Te;return Te}var xk=Gc(ak),Ek=Gc(ik);function Sk(K){return"\\"+sk[K]}function Ck(K,le){return K==null?r:K[le]}function Wi(K){return ek.test(K)}function Tk(K){return tk.test(K)}function Pk(K){for(var le,ae=[];!(le=K.next()).done;)ae.push(le.value);return ae}function Zc(K){var le=-1,ae=Array(K.size);return K.forEach(function(Te,He){ae[++le]=[He,Te]}),ae}function Gm(K,le){return function(ae){return K(le(ae))}}function xa(K,le){for(var ae=-1,Te=K.length,He=0,lt=[];++ae<Te;){var Zt=K[ae];(Zt===le||Zt===v)&&(K[ae]=v,lt[He++]=ae)}return lt}function sl(K){var le=-1,ae=Array(K.size);return K.forEach(function(Te){ae[++le]=Te}),ae}function Ak(K){var le=-1,ae=Array(K.size);return K.forEach(function(Te){ae[++le]=[Te,Te]}),ae}function Dk(K,le,ae){for(var Te=ae-1,He=K.length;++Te<He;)if(K[Te]===le)return Te;return-1}function kk(K,le,ae){for(var Te=ae+1;Te--;)if(K[Te]===le)return Te;return Te}function Ui(K){return Wi(K)?Rk(K):hk(K)}function wn(K){return Wi(K)?Ok(K):gk(K)}function Km(K){for(var le=K.length;le--&&Ut.test(K.charAt(le)););return le}var _k=Gc(ok);function Rk(K){for(var le=zc.lastIndex=0;zc.test(K);)++le;return le}function Ok(K){return K.match(zc)||[]}function Lk(K){return K.match(jD)||[]}var Ik=function K(le){le=le==null?fr:Hi.defaults(fr.Object(),le,Hi.pick(fr,rk));var ae=le.Array,Te=le.Date,He=le.Error,lt=le.Function,Zt=le.Math,wt=le.Object,Qc=le.RegExp,Mk=le.String,ln=le.TypeError,ul=ae.prototype,Bk=lt.prototype,Gi=wt.prototype,ll=le["__core-js_shared__"],fl=Bk.toString,mt=Gi.hasOwnProperty,Nk=0,Ym=function(){var s=/[^.]+$/.exec(ll&&ll.keys&&ll.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),cl=Gi.toString,Fk=fl.call(wt),zk=fr._,$k=Qc("^"+fl.call(mt).replace(qr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vl=Rm?le.Buffer:r,Ea=le.Symbol,dl=le.Uint8Array,Xm=vl?vl.allocUnsafe:r,hl=Gm(wt.getPrototypeOf,wt),Zm=wt.create,Qm=Gi.propertyIsEnumerable,gl=ul.splice,Jm=Ea?Ea.isConcatSpreadable:r,jo=Ea?Ea.iterator:r,Ka=Ea?Ea.toStringTag:r,pl=function(){try{var s=Ja(wt,"defineProperty");return s({},"",{}),s}catch{}}(),qk=le.clearTimeout!==fr.clearTimeout&&le.clearTimeout,Vk=Te&&Te.now!==fr.Date.now&&Te.now,Wk=le.setTimeout!==fr.setTimeout&&le.setTimeout,ml=Zt.ceil,yl=Zt.floor,Jc=wt.getOwnPropertySymbols,Uk=vl?vl.isBuffer:r,jm=le.isFinite,Hk=ul.join,Gk=Gm(wt.keys,wt),Qt=Zt.max,wr=Zt.min,Kk=Te.now,Yk=le.parseInt,ey=Zt.random,Xk=ul.reverse,jc=Ja(le,"DataView"),es=Ja(le,"Map"),ev=Ja(le,"Promise"),Ki=Ja(le,"Set"),ts=Ja(le,"WeakMap"),rs=Ja(wt,"create"),bl=ts&&new ts,Yi={},Zk=ja(jc),Qk=ja(es),Jk=ja(ev),jk=ja(Ki),e_=ja(ts),wl=Ea?Ea.prototype:r,ns=wl?wl.valueOf:r,ty=wl?wl.toString:r;function k(s){if(Bt(s)&&!Ge(s)&&!(s instanceof et)){if(s instanceof fn)return s;if(mt.call(s,"__wrapped__"))return r0(s)}return new fn(s)}var Xi=function(){function s(){}return function(u){if(!Rt(u))return{};if(Zm)return Zm(u);s.prototype=u;var h=new s;return s.prototype=r,h}}();function xl(){}function fn(s,u){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=r}k.templateSettings={escape:Xt,evaluate:lr,interpolate:kr,variable:"",imports:{_:k}},k.prototype=xl.prototype,k.prototype.constructor=k,fn.prototype=Xi(xl.prototype),fn.prototype.constructor=fn;function et(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=I,this.__views__=[]}function t_(){var s=new et(this.__wrapped__);return s.__actions__=Or(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Or(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Or(this.__views__),s}function r_(){if(this.__filtered__){var s=new et(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function n_(){var s=this.__wrapped__.value(),u=this.__dir__,h=Ge(s),x=u<0,C=h?s.length:0,R=gR(0,C,this.__views__),z=R.start,U=R.end,X=U-z,ve=x?U:z-1,de=this.__iteratees__,pe=de.length,Ee=0,Re=wr(X,this.__takeCount__);if(!h||!x&&C==X&&Re==X)return Ty(s,this.__actions__);var qe=[];e:for(;X--&&Ee<Re;){ve+=u;for(var Ye=-1,Ve=s[ve];++Ye<pe;){var Je=de[Ye],tt=Je.iteratee,Yr=Je.type,Tr=tt(Ve);if(Yr==H)Ve=Tr;else if(!Tr){if(Yr==M)continue e;break e}}qe[Ee++]=Ve}return qe}et.prototype=Xi(xl.prototype),et.prototype.constructor=et;function Ya(s){var u=-1,h=s==null?0:s.length;for(this.clear();++u<h;){var x=s[u];this.set(x[0],x[1])}}function a_(){this.__data__=rs?rs(null):{},this.size=0}function i_(s){var u=this.has(s)&&delete this.__data__[s];return this.size-=u?1:0,u}function o_(s){var u=this.__data__;if(rs){var h=u[s];return h===f?r:h}return mt.call(u,s)?u[s]:r}function s_(s){var u=this.__data__;return rs?u[s]!==r:mt.call(u,s)}function u_(s,u){var h=this.__data__;return this.size+=this.has(s)?0:1,h[s]=rs&&u===r?f:u,this}Ya.prototype.clear=a_,Ya.prototype.delete=i_,Ya.prototype.get=o_,Ya.prototype.has=s_,Ya.prototype.set=u_;function Gn(s){var u=-1,h=s==null?0:s.length;for(this.clear();++u<h;){var x=s[u];this.set(x[0],x[1])}}function l_(){this.__data__=[],this.size=0}function f_(s){var u=this.__data__,h=El(u,s);if(h<0)return!1;var x=u.length-1;return h==x?u.pop():gl.call(u,h,1),--this.size,!0}function c_(s){var u=this.__data__,h=El(u,s);return h<0?r:u[h][1]}function v_(s){return El(this.__data__,s)>-1}function d_(s,u){var h=this.__data__,x=El(h,s);return x<0?(++this.size,h.push([s,u])):h[x][1]=u,this}Gn.prototype.clear=l_,Gn.prototype.delete=f_,Gn.prototype.get=c_,Gn.prototype.has=v_,Gn.prototype.set=d_;function Kn(s){var u=-1,h=s==null?0:s.length;for(this.clear();++u<h;){var x=s[u];this.set(x[0],x[1])}}function h_(){this.size=0,this.__data__={hash:new Ya,map:new(es||Gn),string:new Ya}}function g_(s){var u=Il(this,s).delete(s);return this.size-=u?1:0,u}function p_(s){return Il(this,s).get(s)}function m_(s){return Il(this,s).has(s)}function y_(s,u){var h=Il(this,s),x=h.size;return h.set(s,u),this.size+=h.size==x?0:1,this}Kn.prototype.clear=h_,Kn.prototype.delete=g_,Kn.prototype.get=p_,Kn.prototype.has=m_,Kn.prototype.set=y_;function Xa(s){var u=-1,h=s==null?0:s.length;for(this.__data__=new Kn;++u<h;)this.add(s[u])}function b_(s){return this.__data__.set(s,f),this}function w_(s){return this.__data__.has(s)}Xa.prototype.add=Xa.prototype.push=b_,Xa.prototype.has=w_;function xn(s){var u=this.__data__=new Gn(s);this.size=u.size}function x_(){this.__data__=new Gn,this.size=0}function E_(s){var u=this.__data__,h=u.delete(s);return this.size=u.size,h}function S_(s){return this.__data__.get(s)}function C_(s){return this.__data__.has(s)}function T_(s,u){var h=this.__data__;if(h instanceof Gn){var x=h.__data__;if(!es||x.length<a-1)return x.push([s,u]),this.size=++h.size,this;h=this.__data__=new Kn(x)}return h.set(s,u),this.size=h.size,this}xn.prototype.clear=x_,xn.prototype.delete=E_,xn.prototype.get=S_,xn.prototype.has=C_,xn.prototype.set=T_;function ry(s,u){var h=Ge(s),x=!h&&ei(s),C=!h&&!x&&Aa(s),R=!h&&!x&&!C&&ji(s),z=h||x||C||R,U=z?Yc(s.length,Mk):[],X=U.length;for(var ve in s)(u||mt.call(s,ve))&&!(z&&(ve=="length"||C&&(ve=="offset"||ve=="parent")||R&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||Qn(ve,X)))&&U.push(ve);return U}function ny(s){var u=s.length;return u?s[cv(0,u-1)]:r}function P_(s,u){return Ml(Or(s),Za(u,0,s.length))}function A_(s){return Ml(Or(s))}function tv(s,u,h){(h!==r&&!En(s[u],h)||h===r&&!(u in s))&&Yn(s,u,h)}function as(s,u,h){var x=s[u];(!(mt.call(s,u)&&En(x,h))||h===r&&!(u in s))&&Yn(s,u,h)}function El(s,u){for(var h=s.length;h--;)if(En(s[h][0],u))return h;return-1}function D_(s,u,h,x){return Sa(s,function(C,R,z){u(x,C,h(C),z)}),x}function ay(s,u){return s&&Bn(u,rr(u),s)}function k_(s,u){return s&&Bn(u,Ir(u),s)}function Yn(s,u,h){u=="__proto__"&&pl?pl(s,u,{configurable:!0,enumerable:!0,value:h,writable:!0}):s[u]=h}function rv(s,u){for(var h=-1,x=u.length,C=ae(x),R=s==null;++h<x;)C[h]=R?r:Bv(s,u[h]);return C}function Za(s,u,h){return s===s&&(h!==r&&(s=s<=h?s:h),u!==r&&(s=s>=u?s:u)),s}function cn(s,u,h,x,C,R){var z,U=u&d,X=u&g,ve=u&m;if(h&&(z=C?h(s,x,C,R):h(s)),z!==r)return z;if(!Rt(s))return s;var de=Ge(s);if(de){if(z=mR(s),!U)return Or(s,z)}else{var pe=xr(s),Ee=pe==De||pe==ze;if(Aa(s))return Dy(s,U);if(pe==Se||pe==ne||Ee&&!C){if(z=X||Ee?{}:Ky(s),!U)return X?oR(s,k_(z,s)):iR(s,ay(z,s))}else{if(!Ct[pe])return C?s:{};z=yR(s,pe,U)}}R||(R=new xn);var Re=R.get(s);if(Re)return Re;R.set(s,z),E0(s)?s.forEach(function(Ve){z.add(cn(Ve,u,h,Ve,s,R))}):w0(s)&&s.forEach(function(Ve,Je){z.set(Je,cn(Ve,u,h,Je,s,R))});var qe=ve?X?Ev:xv:X?Ir:rr,Ye=de?r:qe(s);return un(Ye||s,function(Ve,Je){Ye&&(Je=Ve,Ve=s[Je]),as(z,Je,cn(Ve,u,h,Je,s,R))}),z}function __(s){var u=rr(s);return function(h){return iy(h,s,u)}}function iy(s,u,h){var x=h.length;if(s==null)return!x;for(s=wt(s);x--;){var C=h[x],R=u[C],z=s[C];if(z===r&&!(C in s)||!R(z))return!1}return!0}function oy(s,u,h){if(typeof s!="function")throw new ln(o);return cs(function(){s.apply(r,h)},u)}function is(s,u,h,x){var C=-1,R=il,z=!0,U=s.length,X=[],ve=u.length;if(!U)return X;h&&(u=Dt(u,Hr(h))),x?(R=Vc,z=!1):u.length>=a&&(R=Jo,z=!1,u=new Xa(u));e:for(;++C<U;){var de=s[C],pe=h==null?de:h(de);if(de=x||de!==0?de:0,z&&pe===pe){for(var Ee=ve;Ee--;)if(u[Ee]===pe)continue e;X.push(de)}else R(u,pe,x)||X.push(de)}return X}var Sa=Ly(Mn),sy=Ly(av,!0);function R_(s,u){var h=!0;return Sa(s,function(x,C,R){return h=!!u(x,C,R),h}),h}function Sl(s,u,h){for(var x=-1,C=s.length;++x<C;){var R=s[x],z=u(R);if(z!=null&&(U===r?z===z&&!Kr(z):h(z,U)))var U=z,X=R}return X}function O_(s,u,h,x){var C=s.length;for(h=Ke(h),h<0&&(h=-h>C?0:C+h),x=x===r||x>C?C:Ke(x),x<0&&(x+=C),x=h>x?0:C0(x);h<x;)s[h++]=u;return s}function uy(s,u){var h=[];return Sa(s,function(x,C,R){u(x,C,R)&&h.push(x)}),h}function cr(s,u,h,x,C){var R=-1,z=s.length;for(h||(h=wR),C||(C=[]);++R<z;){var U=s[R];u>0&&h(U)?u>1?cr(U,u-1,h,x,C):wa(C,U):x||(C[C.length]=U)}return C}var nv=Iy(),ly=Iy(!0);function Mn(s,u){return s&&nv(s,u,rr)}function av(s,u){return s&&ly(s,u,rr)}function Cl(s,u){return ba(u,function(h){return Jn(s[h])})}function Qa(s,u){u=Ta(u,s);for(var h=0,x=u.length;s!=null&&h<x;)s=s[Nn(u[h++])];return h&&h==x?s:r}function fy(s,u,h){var x=u(s);return Ge(s)?x:wa(x,h(s))}function Sr(s){return s==null?s===r?he:Ae:Ka&&Ka in wt(s)?hR(s):AR(s)}function iv(s,u){return s>u}function L_(s,u){return s!=null&&mt.call(s,u)}function I_(s,u){return s!=null&&u in wt(s)}function M_(s,u,h){return s>=wr(u,h)&&s<Qt(u,h)}function ov(s,u,h){for(var x=h?Vc:il,C=s[0].length,R=s.length,z=R,U=ae(R),X=1/0,ve=[];z--;){var de=s[z];z&&u&&(de=Dt(de,Hr(u))),X=wr(de.length,X),U[z]=!h&&(u||C>=120&&de.length>=120)?new Xa(z&&de):r}de=s[0];var pe=-1,Ee=U[0];e:for(;++pe<C&&ve.length<X;){var Re=de[pe],qe=u?u(Re):Re;if(Re=h||Re!==0?Re:0,!(Ee?Jo(Ee,qe):x(ve,qe,h))){for(z=R;--z;){var Ye=U[z];if(!(Ye?Jo(Ye,qe):x(s[z],qe,h)))continue e}Ee&&Ee.push(qe),ve.push(Re)}}return ve}function B_(s,u,h,x){return Mn(s,function(C,R,z){u(x,h(C),R,z)}),x}function os(s,u,h){u=Ta(u,s),s=Qy(s,u);var x=s==null?s:s[Nn(dn(u))];return x==null?r:Ur(x,s,h)}function cy(s){return Bt(s)&&Sr(s)==ne}function N_(s){return Bt(s)&&Sr(s)==fe}function F_(s){return Bt(s)&&Sr(s)==ee}function ss(s,u,h,x,C){return s===u?!0:s==null||u==null||!Bt(s)&&!Bt(u)?s!==s&&u!==u:z_(s,u,h,x,ss,C)}function z_(s,u,h,x,C,R){var z=Ge(s),U=Ge(u),X=z?Z:xr(s),ve=U?Z:xr(u);X=X==ne?Se:X,ve=ve==ne?Se:ve;var de=X==Se,pe=ve==Se,Ee=X==ve;if(Ee&&Aa(s)){if(!Aa(u))return!1;z=!0,de=!1}if(Ee&&!de)return R||(R=new xn),z||ji(s)?Uy(s,u,h,x,C,R):vR(s,u,X,h,x,C,R);if(!(h&p)){var Re=de&&mt.call(s,"__wrapped__"),qe=pe&&mt.call(u,"__wrapped__");if(Re||qe){var Ye=Re?s.value():s,Ve=qe?u.value():u;return R||(R=new xn),C(Ye,Ve,h,x,R)}}return Ee?(R||(R=new xn),dR(s,u,h,x,C,R)):!1}function $_(s){return Bt(s)&&xr(s)==me}function sv(s,u,h,x){var C=h.length,R=C,z=!x;if(s==null)return!R;for(s=wt(s);C--;){var U=h[C];if(z&&U[2]?U[1]!==s[U[0]]:!(U[0]in s))return!1}for(;++C<R;){U=h[C];var X=U[0],ve=s[X],de=U[1];if(z&&U[2]){if(ve===r&&!(X in s))return!1}else{var pe=new xn;if(x)var Ee=x(ve,de,X,s,u,pe);if(!(Ee===r?ss(de,ve,p|w,x,pe):Ee))return!1}}return!0}function vy(s){if(!Rt(s)||ER(s))return!1;var u=Jn(s)?$k:Ic;return u.test(ja(s))}function q_(s){return Bt(s)&&Sr(s)==je}function V_(s){return Bt(s)&&xr(s)==Ue}function W_(s){return Bt(s)&&ql(s.length)&&!!Pt[Sr(s)]}function dy(s){return typeof s=="function"?s:s==null?Mr:typeof s=="object"?Ge(s)?py(s[0],s[1]):gy(s):M0(s)}function uv(s){if(!fs(s))return Gk(s);var u=[];for(var h in wt(s))mt.call(s,h)&&h!="constructor"&&u.push(h);return u}function U_(s){if(!Rt(s))return PR(s);var u=fs(s),h=[];for(var x in s)x=="constructor"&&(u||!mt.call(s,x))||h.push(x);return h}function lv(s,u){return s<u}function hy(s,u){var h=-1,x=Lr(s)?ae(s.length):[];return Sa(s,function(C,R,z){x[++h]=u(C,R,z)}),x}function gy(s){var u=Cv(s);return u.length==1&&u[0][2]?Xy(u[0][0],u[0][1]):function(h){return h===s||sv(h,s,u)}}function py(s,u){return Pv(s)&&Yy(u)?Xy(Nn(s),u):function(h){var x=Bv(h,s);return x===r&&x===u?Nv(h,s):ss(u,x,p|w)}}function Tl(s,u,h,x,C){s!==u&&nv(u,function(R,z){if(C||(C=new xn),Rt(R))H_(s,u,z,h,Tl,x,C);else{var U=x?x(Dv(s,z),R,z+"",s,u,C):r;U===r&&(U=R),tv(s,z,U)}},Ir)}function H_(s,u,h,x,C,R,z){var U=Dv(s,h),X=Dv(u,h),ve=z.get(X);if(ve){tv(s,h,ve);return}var de=R?R(U,X,h+"",s,u,z):r,pe=de===r;if(pe){var Ee=Ge(X),Re=!Ee&&Aa(X),qe=!Ee&&!Re&&ji(X);de=X,Ee||Re||qe?Ge(U)?de=U:$t(U)?de=Or(U):Re?(pe=!1,de=Dy(X,!0)):qe?(pe=!1,de=ky(X,!0)):de=[]:vs(X)||ei(X)?(de=U,ei(U)?de=T0(U):(!Rt(U)||Jn(U))&&(de=Ky(X))):pe=!1}pe&&(z.set(X,de),C(de,X,x,R,z),z.delete(X)),tv(s,h,de)}function my(s,u){var h=s.length;if(h)return u+=u<0?h:0,Qn(u,h)?s[u]:r}function yy(s,u,h){u.length?u=Dt(u,function(R){return Ge(R)?function(z){return Qa(z,R.length===1?R[0]:R)}:R}):u=[Mr];var x=-1;u=Dt(u,Hr(Fe()));var C=hy(s,function(R,z,U){var X=Dt(u,function(ve){return ve(R)});return{criteria:X,index:++x,value:R}});return yk(C,function(R,z){return aR(R,z,h)})}function G_(s,u){return by(s,u,function(h,x){return Nv(s,x)})}function by(s,u,h){for(var x=-1,C=u.length,R={};++x<C;){var z=u[x],U=Qa(s,z);h(U,z)&&us(R,Ta(z,s),U)}return R}function K_(s){return function(u){return Qa(u,s)}}function fv(s,u,h,x){var C=x?mk:Vi,R=-1,z=u.length,U=s;for(s===u&&(u=Or(u)),h&&(U=Dt(s,Hr(h)));++R<z;)for(var X=0,ve=u[R],de=h?h(ve):ve;(X=C(U,de,X,x))>-1;)U!==s&&gl.call(U,X,1),gl.call(s,X,1);return s}function wy(s,u){for(var h=s?u.length:0,x=h-1;h--;){var C=u[h];if(h==x||C!==R){var R=C;Qn(C)?gl.call(s,C,1):hv(s,C)}}return s}function cv(s,u){return s+yl(ey()*(u-s+1))}function Y_(s,u,h,x){for(var C=-1,R=Qt(ml((u-s)/(h||1)),0),z=ae(R);R--;)z[x?R:++C]=s,s+=h;return z}function vv(s,u){var h="";if(!s||u<1||u>Y)return h;do u%2&&(h+=s),u=yl(u/2),u&&(s+=s);while(u);return h}function Xe(s,u){return kv(Zy(s,u,Mr),s+"")}function X_(s){return ny(eo(s))}function Z_(s,u){var h=eo(s);return Ml(h,Za(u,0,h.length))}function us(s,u,h,x){if(!Rt(s))return s;u=Ta(u,s);for(var C=-1,R=u.length,z=R-1,U=s;U!=null&&++C<R;){var X=Nn(u[C]),ve=h;if(X==="__proto__"||X==="constructor"||X==="prototype")return s;if(C!=z){var de=U[X];ve=x?x(de,X,U):r,ve===r&&(ve=Rt(de)?de:Qn(u[C+1])?[]:{})}as(U,X,ve),U=U[X]}return s}var xy=bl?function(s,u){return bl.set(s,u),s}:Mr,Q_=pl?function(s,u){return pl(s,"toString",{configurable:!0,enumerable:!1,value:zv(u),writable:!0})}:Mr;function J_(s){return Ml(eo(s))}function vn(s,u,h){var x=-1,C=s.length;u<0&&(u=-u>C?0:C+u),h=h>C?C:h,h<0&&(h+=C),C=u>h?0:h-u>>>0,u>>>=0;for(var R=ae(C);++x<C;)R[x]=s[x+u];return R}function j_(s,u){var h;return Sa(s,function(x,C,R){return h=u(x,C,R),!h}),!!h}function Pl(s,u,h){var x=0,C=s==null?x:s.length;if(typeof u=="number"&&u===u&&C<=Q){for(;x<C;){var R=x+C>>>1,z=s[R];z!==null&&!Kr(z)&&(h?z<=u:z<u)?x=R+1:C=R}return C}return dv(s,u,Mr,h)}function dv(s,u,h,x){var C=0,R=s==null?0:s.length;if(R===0)return 0;u=h(u);for(var z=u!==u,U=u===null,X=Kr(u),ve=u===r;C<R;){var de=yl((C+R)/2),pe=h(s[de]),Ee=pe!==r,Re=pe===null,qe=pe===pe,Ye=Kr(pe);if(z)var Ve=x||qe;else ve?Ve=qe&&(x||Ee):U?Ve=qe&&Ee&&(x||!Re):X?Ve=qe&&Ee&&!Re&&(x||!Ye):Re||Ye?Ve=!1:Ve=x?pe<=u:pe<u;Ve?C=de+1:R=de}return wr(R,$)}function Ey(s,u){for(var h=-1,x=s.length,C=0,R=[];++h<x;){var z=s[h],U=u?u(z):z;if(!h||!En(U,X)){var X=U;R[C++]=z===0?0:z}}return R}function Sy(s){return typeof s=="number"?s:Kr(s)?re:+s}function Gr(s){if(typeof s=="string")return s;if(Ge(s))return Dt(s,Gr)+"";if(Kr(s))return ty?ty.call(s):"";var u=s+"";return u=="0"&&1/s==-q?"-0":u}function Ca(s,u,h){var x=-1,C=il,R=s.length,z=!0,U=[],X=U;if(h)z=!1,C=Vc;else if(R>=a){var ve=u?null:fR(s);if(ve)return sl(ve);z=!1,C=Jo,X=new Xa}else X=u?[]:U;e:for(;++x<R;){var de=s[x],pe=u?u(de):de;if(de=h||de!==0?de:0,z&&pe===pe){for(var Ee=X.length;Ee--;)if(X[Ee]===pe)continue e;u&&X.push(pe),U.push(de)}else C(X,pe,h)||(X!==U&&X.push(pe),U.push(de))}return U}function hv(s,u){return u=Ta(u,s),s=Qy(s,u),s==null||delete s[Nn(dn(u))]}function Cy(s,u,h,x){return us(s,u,h(Qa(s,u)),x)}function Al(s,u,h,x){for(var C=s.length,R=x?C:-1;(x?R--:++R<C)&&u(s[R],R,s););return h?vn(s,x?0:R,x?R+1:C):vn(s,x?R+1:0,x?C:R)}function Ty(s,u){var h=s;return h instanceof et&&(h=h.value()),Wc(u,function(x,C){return C.func.apply(C.thisArg,wa([x],C.args))},h)}function gv(s,u,h){var x=s.length;if(x<2)return x?Ca(s[0]):[];for(var C=-1,R=ae(x);++C<x;)for(var z=s[C],U=-1;++U<x;)U!=C&&(R[C]=is(R[C]||z,s[U],u,h));return Ca(cr(R,1),u,h)}function Py(s,u,h){for(var x=-1,C=s.length,R=u.length,z={};++x<C;){var U=x<R?u[x]:r;h(z,s[x],U)}return z}function pv(s){return $t(s)?s:[]}function mv(s){return typeof s=="function"?s:Mr}function Ta(s,u){return Ge(s)?s:Pv(s,u)?[s]:t0(vt(s))}var eR=Xe;function Pa(s,u,h){var x=s.length;return h=h===r?x:h,!u&&h>=x?s:vn(s,u,h)}var Ay=qk||function(s){return fr.clearTimeout(s)};function Dy(s,u){if(u)return s.slice();var h=s.length,x=Xm?Xm(h):new s.constructor(h);return s.copy(x),x}function yv(s){var u=new s.constructor(s.byteLength);return new dl(u).set(new dl(s)),u}function tR(s,u){var h=u?yv(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.byteLength)}function rR(s){var u=new s.constructor(s.source,el.exec(s));return u.lastIndex=s.lastIndex,u}function nR(s){return ns?wt(ns.call(s)):{}}function ky(s,u){var h=u?yv(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.length)}function _y(s,u){if(s!==u){var h=s!==r,x=s===null,C=s===s,R=Kr(s),z=u!==r,U=u===null,X=u===u,ve=Kr(u);if(!U&&!ve&&!R&&s>u||R&&z&&X&&!U&&!ve||x&&z&&X||!h&&X||!C)return 1;if(!x&&!R&&!ve&&s<u||ve&&h&&C&&!x&&!R||U&&h&&C||!z&&C||!X)return-1}return 0}function aR(s,u,h){for(var x=-1,C=s.criteria,R=u.criteria,z=C.length,U=h.length;++x<z;){var X=_y(C[x],R[x]);if(X){if(x>=U)return X;var ve=h[x];return X*(ve=="desc"?-1:1)}}return s.index-u.index}function Ry(s,u,h,x){for(var C=-1,R=s.length,z=h.length,U=-1,X=u.length,ve=Qt(R-z,0),de=ae(X+ve),pe=!x;++U<X;)de[U]=u[U];for(;++C<z;)(pe||C<R)&&(de[h[C]]=s[C]);for(;ve--;)de[U++]=s[C++];return de}function Oy(s,u,h,x){for(var C=-1,R=s.length,z=-1,U=h.length,X=-1,ve=u.length,de=Qt(R-U,0),pe=ae(de+ve),Ee=!x;++C<de;)pe[C]=s[C];for(var Re=C;++X<ve;)pe[Re+X]=u[X];for(;++z<U;)(Ee||C<R)&&(pe[Re+h[z]]=s[C++]);return pe}function Or(s,u){var h=-1,x=s.length;for(u||(u=ae(x));++h<x;)u[h]=s[h];return u}function Bn(s,u,h,x){var C=!h;h||(h={});for(var R=-1,z=u.length;++R<z;){var U=u[R],X=x?x(h[U],s[U],U,h,s):r;X===r&&(X=s[U]),C?Yn(h,U,X):as(h,U,X)}return h}function iR(s,u){return Bn(s,Tv(s),u)}function oR(s,u){return Bn(s,Hy(s),u)}function Dl(s,u){return function(h,x){var C=Ge(h)?ck:D_,R=u?u():{};return C(h,s,Fe(x,2),R)}}function Zi(s){return Xe(function(u,h){var x=-1,C=h.length,R=C>1?h[C-1]:r,z=C>2?h[2]:r;for(R=s.length>3&&typeof R=="function"?(C--,R):r,z&&Cr(h[0],h[1],z)&&(R=C<3?r:R,C=1),u=wt(u);++x<C;){var U=h[x];U&&s(u,U,x,R)}return u})}function Ly(s,u){return function(h,x){if(h==null)return h;if(!Lr(h))return s(h,x);for(var C=h.length,R=u?C:-1,z=wt(h);(u?R--:++R<C)&&x(z[R],R,z)!==!1;);return h}}function Iy(s){return function(u,h,x){for(var C=-1,R=wt(u),z=x(u),U=z.length;U--;){var X=z[s?U:++C];if(h(R[X],X,R)===!1)break}return u}}function sR(s,u,h){var x=u&y,C=ls(s);function R(){var z=this&&this!==fr&&this instanceof R?C:s;return z.apply(x?h:this,arguments)}return R}function My(s){return function(u){u=vt(u);var h=Wi(u)?wn(u):r,x=h?h[0]:u.charAt(0),C=h?Pa(h,1).join(""):u.slice(1);return x[s]()+C}}function Qi(s){return function(u){return Wc(L0(O0(u).replace(QD,"")),s,"")}}function ls(s){return function(){var u=arguments;switch(u.length){case 0:return new s;case 1:return new s(u[0]);case 2:return new s(u[0],u[1]);case 3:return new s(u[0],u[1],u[2]);case 4:return new s(u[0],u[1],u[2],u[3]);case 5:return new s(u[0],u[1],u[2],u[3],u[4]);case 6:return new s(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new s(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var h=Xi(s.prototype),x=s.apply(h,u);return Rt(x)?x:h}}function uR(s,u,h){var x=ls(s);function C(){for(var R=arguments.length,z=ae(R),U=R,X=Ji(C);U--;)z[U]=arguments[U];var ve=R<3&&z[0]!==X&&z[R-1]!==X?[]:xa(z,X);if(R-=ve.length,R<h)return $y(s,u,kl,C.placeholder,r,z,ve,r,r,h-R);var de=this&&this!==fr&&this instanceof C?x:s;return Ur(de,this,z)}return C}function By(s){return function(u,h,x){var C=wt(u);if(!Lr(u)){var R=Fe(h,3);u=rr(u),h=function(U){return R(C[U],U,C)}}var z=s(u,h,x);return z>-1?C[R?u[z]:z]:r}}function Ny(s){return Zn(function(u){var h=u.length,x=h,C=fn.prototype.thru;for(s&&u.reverse();x--;){var R=u[x];if(typeof R!="function")throw new ln(o);if(C&&!z&&Ll(R)=="wrapper")var z=new fn([],!0)}for(x=z?x:h;++x<h;){R=u[x];var U=Ll(R),X=U=="wrapper"?Sv(R):r;X&&Av(X[0])&&X[1]==(P|S|A|L)&&!X[4].length&&X[9]==1?z=z[Ll(X[0])].apply(z,X[3]):z=R.length==1&&Av(R)?z[U]():z.thru(R)}return function(){var ve=arguments,de=ve[0];if(z&&ve.length==1&&Ge(de))return z.plant(de).value();for(var pe=0,Ee=h?u[pe].apply(this,ve):de;++pe<h;)Ee=u[pe].call(this,Ee);return Ee}})}function kl(s,u,h,x,C,R,z,U,X,ve){var de=u&P,pe=u&y,Ee=u&b,Re=u&(S|T),qe=u&_,Ye=Ee?r:ls(s);function Ve(){for(var Je=arguments.length,tt=ae(Je),Yr=Je;Yr--;)tt[Yr]=arguments[Yr];if(Re)var Tr=Ji(Ve),Xr=wk(tt,Tr);if(x&&(tt=Ry(tt,x,C,Re)),R&&(tt=Oy(tt,R,z,Re)),Je-=Xr,Re&&Je<ve){var qt=xa(tt,Tr);return $y(s,u,kl,Ve.placeholder,h,tt,qt,U,X,ve-Je)}var Sn=pe?h:this,ea=Ee?Sn[s]:s;return Je=tt.length,U?tt=DR(tt,U):qe&&Je>1&&tt.reverse(),de&&X<Je&&(tt.length=X),this&&this!==fr&&this instanceof Ve&&(ea=Ye||ls(ea)),ea.apply(Sn,tt)}return Ve}function Fy(s,u){return function(h,x){return B_(h,s,u(x),{})}}function _l(s,u){return function(h,x){var C;if(h===r&&x===r)return u;if(h!==r&&(C=h),x!==r){if(C===r)return x;typeof h=="string"||typeof x=="string"?(h=Gr(h),x=Gr(x)):(h=Sy(h),x=Sy(x)),C=s(h,x)}return C}}function bv(s){return Zn(function(u){return u=Dt(u,Hr(Fe())),Xe(function(h){var x=this;return s(u,function(C){return Ur(C,x,h)})})})}function Rl(s,u){u=u===r?" ":Gr(u);var h=u.length;if(h<2)return h?vv(u,s):u;var x=vv(u,ml(s/Ui(u)));return Wi(u)?Pa(wn(x),0,s).join(""):x.slice(0,s)}function lR(s,u,h,x){var C=u&y,R=ls(s);function z(){for(var U=-1,X=arguments.length,ve=-1,de=x.length,pe=ae(de+X),Ee=this&&this!==fr&&this instanceof z?R:s;++ve<de;)pe[ve]=x[ve];for(;X--;)pe[ve++]=arguments[++U];return Ur(Ee,C?h:this,pe)}return z}function zy(s){return function(u,h,x){return x&&typeof x!="number"&&Cr(u,h,x)&&(h=x=r),u=jn(u),h===r?(h=u,u=0):h=jn(h),x=x===r?u<h?1:-1:jn(x),Y_(u,h,x,s)}}function Ol(s){return function(u,h){return typeof u=="string"&&typeof h=="string"||(u=hn(u),h=hn(h)),s(u,h)}}function $y(s,u,h,x,C,R,z,U,X,ve){var de=u&S,pe=de?z:r,Ee=de?r:z,Re=de?R:r,qe=de?r:R;u|=de?A:D,u&=~(de?D:A),u&E||(u&=~(y|b));var Ye=[s,u,C,Re,pe,qe,Ee,U,X,ve],Ve=h.apply(r,Ye);return Av(s)&&Jy(Ve,Ye),Ve.placeholder=x,jy(Ve,s,u)}function wv(s){var u=Zt[s];return function(h,x){if(h=hn(h),x=x==null?0:wr(Ke(x),292),x&&jm(h)){var C=(vt(h)+"e").split("e"),R=u(C[0]+"e"+(+C[1]+x));return C=(vt(R)+"e").split("e"),+(C[0]+"e"+(+C[1]-x))}return u(h)}}var fR=Ki&&1/sl(new Ki([,-0]))[1]==q?function(s){return new Ki(s)}:Vv;function qy(s){return function(u){var h=xr(u);return h==me?Zc(u):h==Ue?Ak(u):bk(u,s(u))}}function Xn(s,u,h,x,C,R,z,U){var X=u&b;if(!X&&typeof s!="function")throw new ln(o);var ve=x?x.length:0;if(ve||(u&=~(A|D),x=C=r),z=z===r?z:Qt(Ke(z),0),U=U===r?U:Ke(U),ve-=C?C.length:0,u&D){var de=x,pe=C;x=C=r}var Ee=X?r:Sv(s),Re=[s,u,h,x,C,de,pe,R,z,U];if(Ee&&TR(Re,Ee),s=Re[0],u=Re[1],h=Re[2],x=Re[3],C=Re[4],U=Re[9]=Re[9]===r?X?0:s.length:Qt(Re[9]-ve,0),!U&&u&(S|T)&&(u&=~(S|T)),!u||u==y)var qe=sR(s,u,h);else u==S||u==T?qe=uR(s,u,U):(u==A||u==(y|A))&&!C.length?qe=lR(s,u,h,x):qe=kl.apply(r,Re);var Ye=Ee?xy:Jy;return jy(Ye(qe,Re),s,u)}function Vy(s,u,h,x){return s===r||En(s,Gi[h])&&!mt.call(x,h)?u:s}function Wy(s,u,h,x,C,R){return Rt(s)&&Rt(u)&&(R.set(u,s),Tl(s,u,r,Wy,R),R.delete(u)),s}function cR(s){return vs(s)?r:s}function Uy(s,u,h,x,C,R){var z=h&p,U=s.length,X=u.length;if(U!=X&&!(z&&X>U))return!1;var ve=R.get(s),de=R.get(u);if(ve&&de)return ve==u&&de==s;var pe=-1,Ee=!0,Re=h&w?new Xa:r;for(R.set(s,u),R.set(u,s);++pe<U;){var qe=s[pe],Ye=u[pe];if(x)var Ve=z?x(Ye,qe,pe,u,s,R):x(qe,Ye,pe,s,u,R);if(Ve!==r){if(Ve)continue;Ee=!1;break}if(Re){if(!Uc(u,function(Je,tt){if(!Jo(Re,tt)&&(qe===Je||C(qe,Je,h,x,R)))return Re.push(tt)})){Ee=!1;break}}else if(!(qe===Ye||C(qe,Ye,h,x,R))){Ee=!1;break}}return R.delete(s),R.delete(u),Ee}function vR(s,u,h,x,C,R,z){switch(h){case ie:if(s.byteLength!=u.byteLength||s.byteOffset!=u.byteOffset)return!1;s=s.buffer,u=u.buffer;case fe:return!(s.byteLength!=u.byteLength||!R(new dl(s),new dl(u)));case J:case ee:case we:return En(+s,+u);case ge:return s.name==u.name&&s.message==u.message;case je:case We:return s==u+"";case me:var U=Zc;case Ue:var X=x&p;if(U||(U=sl),s.size!=u.size&&!X)return!1;var ve=z.get(s);if(ve)return ve==u;x|=w,z.set(s,u);var de=Uy(U(s),U(u),x,C,R,z);return z.delete(s),de;case Qe:if(ns)return ns.call(s)==ns.call(u)}return!1}function dR(s,u,h,x,C,R){var z=h&p,U=xv(s),X=U.length,ve=xv(u),de=ve.length;if(X!=de&&!z)return!1;for(var pe=X;pe--;){var Ee=U[pe];if(!(z?Ee in u:mt.call(u,Ee)))return!1}var Re=R.get(s),qe=R.get(u);if(Re&&qe)return Re==u&&qe==s;var Ye=!0;R.set(s,u),R.set(u,s);for(var Ve=z;++pe<X;){Ee=U[pe];var Je=s[Ee],tt=u[Ee];if(x)var Yr=z?x(tt,Je,Ee,u,s,R):x(Je,tt,Ee,s,u,R);if(!(Yr===r?Je===tt||C(Je,tt,h,x,R):Yr)){Ye=!1;break}Ve||(Ve=Ee=="constructor")}if(Ye&&!Ve){var Tr=s.constructor,Xr=u.constructor;Tr!=Xr&&"constructor"in s&&"constructor"in u&&!(typeof Tr=="function"&&Tr instanceof Tr&&typeof Xr=="function"&&Xr instanceof Xr)&&(Ye=!1)}return R.delete(s),R.delete(u),Ye}function Zn(s){return kv(Zy(s,r,i0),s+"")}function xv(s){return fy(s,rr,Tv)}function Ev(s){return fy(s,Ir,Hy)}var Sv=bl?function(s){return bl.get(s)}:Vv;function Ll(s){for(var u=s.name+"",h=Yi[u],x=mt.call(Yi,u)?h.length:0;x--;){var C=h[x],R=C.func;if(R==null||R==s)return C.name}return u}function Ji(s){var u=mt.call(k,"placeholder")?k:s;return u.placeholder}function Fe(){var s=k.iteratee||$v;return s=s===$v?dy:s,arguments.length?s(arguments[0],arguments[1]):s}function Il(s,u){var h=s.__data__;return xR(u)?h[typeof u=="string"?"string":"hash"]:h.map}function Cv(s){for(var u=rr(s),h=u.length;h--;){var x=u[h],C=s[x];u[h]=[x,C,Yy(C)]}return u}function Ja(s,u){var h=Ck(s,u);return vy(h)?h:r}function hR(s){var u=mt.call(s,Ka),h=s[Ka];try{s[Ka]=r;var x=!0}catch{}var C=cl.call(s);return x&&(u?s[Ka]=h:delete s[Ka]),C}var Tv=Jc?function(s){return s==null?[]:(s=wt(s),ba(Jc(s),function(u){return Qm.call(s,u)}))}:Wv,Hy=Jc?function(s){for(var u=[];s;)wa(u,Tv(s)),s=hl(s);return u}:Wv,xr=Sr;(jc&&xr(new jc(new ArrayBuffer(1)))!=ie||es&&xr(new es)!=me||ev&&xr(ev.resolve())!=_e||Ki&&xr(new Ki)!=Ue||ts&&xr(new ts)!=O)&&(xr=function(s){var u=Sr(s),h=u==Se?s.constructor:r,x=h?ja(h):"";if(x)switch(x){case Zk:return ie;case Qk:return me;case Jk:return _e;case jk:return Ue;case e_:return O}return u});function gR(s,u,h){for(var x=-1,C=h.length;++x<C;){var R=h[x],z=R.size;switch(R.type){case"drop":s+=z;break;case"dropRight":u-=z;break;case"take":u=wr(u,s+z);break;case"takeRight":s=Qt(s,u-z);break}}return{start:s,end:u}}function pR(s){var u=s.match(ma);return u?u[1].split(on):[]}function Gy(s,u,h){u=Ta(u,s);for(var x=-1,C=u.length,R=!1;++x<C;){var z=Nn(u[x]);if(!(R=s!=null&&h(s,z)))break;s=s[z]}return R||++x!=C?R:(C=s==null?0:s.length,!!C&&ql(C)&&Qn(z,C)&&(Ge(s)||ei(s)))}function mR(s){var u=s.length,h=new s.constructor(u);return u&&typeof s[0]=="string"&&mt.call(s,"index")&&(h.index=s.index,h.input=s.input),h}function Ky(s){return typeof s.constructor=="function"&&!fs(s)?Xi(hl(s)):{}}function yR(s,u,h){var x=s.constructor;switch(u){case fe:return yv(s);case J:case ee:return new x(+s);case ie:return tR(s,h);case oe:case be:case se:case ye:case Me:case Be:case ke:case $e:case Ce:return ky(s,h);case me:return new x;case we:case We:return new x(s);case je:return rR(s);case Ue:return new x;case Qe:return nR(s)}}function bR(s,u){var h=u.length;if(!h)return s;var x=h-1;return u[x]=(h>1?"& ":"")+u[x],u=u.join(h>2?", ":" "),s.replace(tr,`{
/* [wrapped with `+u+`] */
`)}function wR(s){return Ge(s)||ei(s)||!!(Jm&&s&&s[Jm])}function Qn(s,u){var h=typeof s;return u=u??Y,!!u&&(h=="number"||h!="symbol"&&Zo.test(s))&&s>-1&&s%1==0&&s<u}function Cr(s,u,h){if(!Rt(h))return!1;var x=typeof u;return(x=="number"?Lr(h)&&Qn(u,h.length):x=="string"&&u in h)?En(h[u],s):!1}function Pv(s,u){if(Ge(s))return!1;var h=typeof s;return h=="number"||h=="symbol"||h=="boolean"||s==null||Kr(s)?!0:br.test(s)||!_r.test(s)||u!=null&&s in wt(u)}function xR(s){var u=typeof s;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?s!=="__proto__":s===null}function Av(s){var u=Ll(s),h=k[u];if(typeof h!="function"||!(u in et.prototype))return!1;if(s===h)return!0;var x=Sv(h);return!!x&&s===x[0]}function ER(s){return!!Ym&&Ym in s}var SR=ll?Jn:Uv;function fs(s){var u=s&&s.constructor,h=typeof u=="function"&&u.prototype||Gi;return s===h}function Yy(s){return s===s&&!Rt(s)}function Xy(s,u){return function(h){return h==null?!1:h[s]===u&&(u!==r||s in wt(h))}}function CR(s){var u=zl(s,function(x){return h.size===c&&h.clear(),x}),h=u.cache;return u}function TR(s,u){var h=s[1],x=u[1],C=h|x,R=C<(y|b|P),z=x==P&&h==S||x==P&&h==L&&s[7].length<=u[8]||x==(P|L)&&u[7].length<=u[8]&&h==S;if(!(R||z))return s;x&y&&(s[2]=u[2],C|=h&y?0:E);var U=u[3];if(U){var X=s[3];s[3]=X?Ry(X,U,u[4]):U,s[4]=X?xa(s[3],v):u[4]}return U=u[5],U&&(X=s[5],s[5]=X?Oy(X,U,u[6]):U,s[6]=X?xa(s[5],v):u[6]),U=u[7],U&&(s[7]=U),x&P&&(s[8]=s[8]==null?u[8]:wr(s[8],u[8])),s[9]==null&&(s[9]=u[9]),s[0]=u[0],s[1]=C,s}function PR(s){var u=[];if(s!=null)for(var h in wt(s))u.push(h);return u}function AR(s){return cl.call(s)}function Zy(s,u,h){return u=Qt(u===r?s.length-1:u,0),function(){for(var x=arguments,C=-1,R=Qt(x.length-u,0),z=ae(R);++C<R;)z[C]=x[u+C];C=-1;for(var U=ae(u+1);++C<u;)U[C]=x[C];return U[u]=h(z),Ur(s,this,U)}}function Qy(s,u){return u.length<2?s:Qa(s,vn(u,0,-1))}function DR(s,u){for(var h=s.length,x=wr(u.length,h),C=Or(s);x--;){var R=u[x];s[x]=Qn(R,h)?C[R]:r}return s}function Dv(s,u){if(!(u==="constructor"&&typeof s[u]=="function")&&u!="__proto__")return s[u]}var Jy=e0(xy),cs=Wk||function(s,u){return fr.setTimeout(s,u)},kv=e0(Q_);function jy(s,u,h){var x=u+"";return kv(s,bR(x,kR(pR(x),h)))}function e0(s){var u=0,h=0;return function(){var x=Kk(),C=V-(x-h);if(h=x,C>0){if(++u>=B)return arguments[0]}else u=0;return s.apply(r,arguments)}}function Ml(s,u){var h=-1,x=s.length,C=x-1;for(u=u===r?x:u;++h<u;){var R=cv(h,C),z=s[R];s[R]=s[h],s[h]=z}return s.length=u,s}var t0=CR(function(s){var u=[];return s.charCodeAt(0)===46&&u.push(""),s.replace(an,function(h,x,C,R){u.push(C?R.replace(_c,"$1"):x||h)}),u});function Nn(s){if(typeof s=="string"||Kr(s))return s;var u=s+"";return u=="0"&&1/s==-q?"-0":u}function ja(s){if(s!=null){try{return fl.call(s)}catch{}try{return s+""}catch{}}return""}function kR(s,u){return un(ue,function(h){var x="_."+h[0];u&h[1]&&!il(s,x)&&s.push(x)}),s.sort()}function r0(s){if(s instanceof et)return s.clone();var u=new fn(s.__wrapped__,s.__chain__);return u.__actions__=Or(s.__actions__),u.__index__=s.__index__,u.__values__=s.__values__,u}function _R(s,u,h){(h?Cr(s,u,h):u===r)?u=1:u=Qt(Ke(u),0);var x=s==null?0:s.length;if(!x||u<1)return[];for(var C=0,R=0,z=ae(ml(x/u));C<x;)z[R++]=vn(s,C,C+=u);return z}function RR(s){for(var u=-1,h=s==null?0:s.length,x=0,C=[];++u<h;){var R=s[u];R&&(C[x++]=R)}return C}function OR(){var s=arguments.length;if(!s)return[];for(var u=ae(s-1),h=arguments[0],x=s;x--;)u[x-1]=arguments[x];return wa(Ge(h)?Or(h):[h],cr(u,1))}var LR=Xe(function(s,u){return $t(s)?is(s,cr(u,1,$t,!0)):[]}),IR=Xe(function(s,u){var h=dn(u);return $t(h)&&(h=r),$t(s)?is(s,cr(u,1,$t,!0),Fe(h,2)):[]}),MR=Xe(function(s,u){var h=dn(u);return $t(h)&&(h=r),$t(s)?is(s,cr(u,1,$t,!0),r,h):[]});function BR(s,u,h){var x=s==null?0:s.length;return x?(u=h||u===r?1:Ke(u),vn(s,u<0?0:u,x)):[]}function NR(s,u,h){var x=s==null?0:s.length;return x?(u=h||u===r?1:Ke(u),u=x-u,vn(s,0,u<0?0:u)):[]}function FR(s,u){return s&&s.length?Al(s,Fe(u,3),!0,!0):[]}function zR(s,u){return s&&s.length?Al(s,Fe(u,3),!0):[]}function $R(s,u,h,x){var C=s==null?0:s.length;return C?(h&&typeof h!="number"&&Cr(s,u,h)&&(h=0,x=C),O_(s,u,h,x)):[]}function n0(s,u,h){var x=s==null?0:s.length;if(!x)return-1;var C=h==null?0:Ke(h);return C<0&&(C=Qt(x+C,0)),ol(s,Fe(u,3),C)}function a0(s,u,h){var x=s==null?0:s.length;if(!x)return-1;var C=x-1;return h!==r&&(C=Ke(h),C=h<0?Qt(x+C,0):wr(C,x-1)),ol(s,Fe(u,3),C,!0)}function i0(s){var u=s==null?0:s.length;return u?cr(s,1):[]}function qR(s){var u=s==null?0:s.length;return u?cr(s,q):[]}function VR(s,u){var h=s==null?0:s.length;return h?(u=u===r?1:Ke(u),cr(s,u)):[]}function WR(s){for(var u=-1,h=s==null?0:s.length,x={};++u<h;){var C=s[u];x[C[0]]=C[1]}return x}function o0(s){return s&&s.length?s[0]:r}function UR(s,u,h){var x=s==null?0:s.length;if(!x)return-1;var C=h==null?0:Ke(h);return C<0&&(C=Qt(x+C,0)),Vi(s,u,C)}function HR(s){var u=s==null?0:s.length;return u?vn(s,0,-1):[]}var GR=Xe(function(s){var u=Dt(s,pv);return u.length&&u[0]===s[0]?ov(u):[]}),KR=Xe(function(s){var u=dn(s),h=Dt(s,pv);return u===dn(h)?u=r:h.pop(),h.length&&h[0]===s[0]?ov(h,Fe(u,2)):[]}),YR=Xe(function(s){var u=dn(s),h=Dt(s,pv);return u=typeof u=="function"?u:r,u&&h.pop(),h.length&&h[0]===s[0]?ov(h,r,u):[]});function XR(s,u){return s==null?"":Hk.call(s,u)}function dn(s){var u=s==null?0:s.length;return u?s[u-1]:r}function ZR(s,u,h){var x=s==null?0:s.length;if(!x)return-1;var C=x;return h!==r&&(C=Ke(h),C=C<0?Qt(x+C,0):wr(C,x-1)),u===u?kk(s,u,C):ol(s,$m,C,!0)}function QR(s,u){return s&&s.length?my(s,Ke(u)):r}var JR=Xe(s0);function s0(s,u){return s&&s.length&&u&&u.length?fv(s,u):s}function jR(s,u,h){return s&&s.length&&u&&u.length?fv(s,u,Fe(h,2)):s}function eO(s,u,h){return s&&s.length&&u&&u.length?fv(s,u,r,h):s}var tO=Zn(function(s,u){var h=s==null?0:s.length,x=rv(s,u);return wy(s,Dt(u,function(C){return Qn(C,h)?+C:C}).sort(_y)),x});function rO(s,u){var h=[];if(!(s&&s.length))return h;var x=-1,C=[],R=s.length;for(u=Fe(u,3);++x<R;){var z=s[x];u(z,x,s)&&(h.push(z),C.push(x))}return wy(s,C),h}function _v(s){return s==null?s:Xk.call(s)}function nO(s,u,h){var x=s==null?0:s.length;return x?(h&&typeof h!="number"&&Cr(s,u,h)?(u=0,h=x):(u=u==null?0:Ke(u),h=h===r?x:Ke(h)),vn(s,u,h)):[]}function aO(s,u){return Pl(s,u)}function iO(s,u,h){return dv(s,u,Fe(h,2))}function oO(s,u){var h=s==null?0:s.length;if(h){var x=Pl(s,u);if(x<h&&En(s[x],u))return x}return-1}function sO(s,u){return Pl(s,u,!0)}function uO(s,u,h){return dv(s,u,Fe(h,2),!0)}function lO(s,u){var h=s==null?0:s.length;if(h){var x=Pl(s,u,!0)-1;if(En(s[x],u))return x}return-1}function fO(s){return s&&s.length?Ey(s):[]}function cO(s,u){return s&&s.length?Ey(s,Fe(u,2)):[]}function vO(s){var u=s==null?0:s.length;return u?vn(s,1,u):[]}function dO(s,u,h){return s&&s.length?(u=h||u===r?1:Ke(u),vn(s,0,u<0?0:u)):[]}function hO(s,u,h){var x=s==null?0:s.length;return x?(u=h||u===r?1:Ke(u),u=x-u,vn(s,u<0?0:u,x)):[]}function gO(s,u){return s&&s.length?Al(s,Fe(u,3),!1,!0):[]}function pO(s,u){return s&&s.length?Al(s,Fe(u,3)):[]}var mO=Xe(function(s){return Ca(cr(s,1,$t,!0))}),yO=Xe(function(s){var u=dn(s);return $t(u)&&(u=r),Ca(cr(s,1,$t,!0),Fe(u,2))}),bO=Xe(function(s){var u=dn(s);return u=typeof u=="function"?u:r,Ca(cr(s,1,$t,!0),r,u)});function wO(s){return s&&s.length?Ca(s):[]}function xO(s,u){return s&&s.length?Ca(s,Fe(u,2)):[]}function EO(s,u){return u=typeof u=="function"?u:r,s&&s.length?Ca(s,r,u):[]}function Rv(s){if(!(s&&s.length))return[];var u=0;return s=ba(s,function(h){if($t(h))return u=Qt(h.length,u),!0}),Yc(u,function(h){return Dt(s,Hc(h))})}function u0(s,u){if(!(s&&s.length))return[];var h=Rv(s);return u==null?h:Dt(h,function(x){return Ur(u,r,x)})}var SO=Xe(function(s,u){return $t(s)?is(s,u):[]}),CO=Xe(function(s){return gv(ba(s,$t))}),TO=Xe(function(s){var u=dn(s);return $t(u)&&(u=r),gv(ba(s,$t),Fe(u,2))}),PO=Xe(function(s){var u=dn(s);return u=typeof u=="function"?u:r,gv(ba(s,$t),r,u)}),AO=Xe(Rv);function DO(s,u){return Py(s||[],u||[],as)}function kO(s,u){return Py(s||[],u||[],us)}var _O=Xe(function(s){var u=s.length,h=u>1?s[u-1]:r;return h=typeof h=="function"?(s.pop(),h):r,u0(s,h)});function l0(s){var u=k(s);return u.__chain__=!0,u}function RO(s,u){return u(s),s}function Bl(s,u){return u(s)}var OO=Zn(function(s){var u=s.length,h=u?s[0]:0,x=this.__wrapped__,C=function(R){return rv(R,s)};return u>1||this.__actions__.length||!(x instanceof et)||!Qn(h)?this.thru(C):(x=x.slice(h,+h+(u?1:0)),x.__actions__.push({func:Bl,args:[C],thisArg:r}),new fn(x,this.__chain__).thru(function(R){return u&&!R.length&&R.push(r),R}))});function LO(){return l0(this)}function IO(){return new fn(this.value(),this.__chain__)}function MO(){this.__values__===r&&(this.__values__=S0(this.value()));var s=this.__index__>=this.__values__.length,u=s?r:this.__values__[this.__index__++];return{done:s,value:u}}function BO(){return this}function NO(s){for(var u,h=this;h instanceof xl;){var x=r0(h);x.__index__=0,x.__values__=r,u?C.__wrapped__=x:u=x;var C=x;h=h.__wrapped__}return C.__wrapped__=s,u}function FO(){var s=this.__wrapped__;if(s instanceof et){var u=s;return this.__actions__.length&&(u=new et(this)),u=u.reverse(),u.__actions__.push({func:Bl,args:[_v],thisArg:r}),new fn(u,this.__chain__)}return this.thru(_v)}function zO(){return Ty(this.__wrapped__,this.__actions__)}var $O=Dl(function(s,u,h){mt.call(s,h)?++s[h]:Yn(s,h,1)});function qO(s,u,h){var x=Ge(s)?Fm:R_;return h&&Cr(s,u,h)&&(u=r),x(s,Fe(u,3))}function VO(s,u){var h=Ge(s)?ba:uy;return h(s,Fe(u,3))}var WO=By(n0),UO=By(a0);function HO(s,u){return cr(Nl(s,u),1)}function GO(s,u){return cr(Nl(s,u),q)}function KO(s,u,h){return h=h===r?1:Ke(h),cr(Nl(s,u),h)}function f0(s,u){var h=Ge(s)?un:Sa;return h(s,Fe(u,3))}function c0(s,u){var h=Ge(s)?vk:sy;return h(s,Fe(u,3))}var YO=Dl(function(s,u,h){mt.call(s,h)?s[h].push(u):Yn(s,h,[u])});function XO(s,u,h,x){s=Lr(s)?s:eo(s),h=h&&!x?Ke(h):0;var C=s.length;return h<0&&(h=Qt(C+h,0)),Vl(s)?h<=C&&s.indexOf(u,h)>-1:!!C&&Vi(s,u,h)>-1}var ZO=Xe(function(s,u,h){var x=-1,C=typeof u=="function",R=Lr(s)?ae(s.length):[];return Sa(s,function(z){R[++x]=C?Ur(u,z,h):os(z,u,h)}),R}),QO=Dl(function(s,u,h){Yn(s,h,u)});function Nl(s,u){var h=Ge(s)?Dt:hy;return h(s,Fe(u,3))}function JO(s,u,h,x){return s==null?[]:(Ge(u)||(u=u==null?[]:[u]),h=x?r:h,Ge(h)||(h=h==null?[]:[h]),yy(s,u,h))}var jO=Dl(function(s,u,h){s[h?0:1].push(u)},function(){return[[],[]]});function eL(s,u,h){var x=Ge(s)?Wc:Vm,C=arguments.length<3;return x(s,Fe(u,4),h,C,Sa)}function tL(s,u,h){var x=Ge(s)?dk:Vm,C=arguments.length<3;return x(s,Fe(u,4),h,C,sy)}function rL(s,u){var h=Ge(s)?ba:uy;return h(s,$l(Fe(u,3)))}function nL(s){var u=Ge(s)?ny:X_;return u(s)}function aL(s,u,h){(h?Cr(s,u,h):u===r)?u=1:u=Ke(u);var x=Ge(s)?P_:Z_;return x(s,u)}function iL(s){var u=Ge(s)?A_:J_;return u(s)}function oL(s){if(s==null)return 0;if(Lr(s))return Vl(s)?Ui(s):s.length;var u=xr(s);return u==me||u==Ue?s.size:uv(s).length}function sL(s,u,h){var x=Ge(s)?Uc:j_;return h&&Cr(s,u,h)&&(u=r),x(s,Fe(u,3))}var uL=Xe(function(s,u){if(s==null)return[];var h=u.length;return h>1&&Cr(s,u[0],u[1])?u=[]:h>2&&Cr(u[0],u[1],u[2])&&(u=[u[0]]),yy(s,cr(u,1),[])}),Fl=Vk||function(){return fr.Date.now()};function lL(s,u){if(typeof u!="function")throw new ln(o);return s=Ke(s),function(){if(--s<1)return u.apply(this,arguments)}}function v0(s,u,h){return u=h?r:u,u=s&&u==null?s.length:u,Xn(s,P,r,r,r,r,u)}function d0(s,u){var h;if(typeof u!="function")throw new ln(o);return s=Ke(s),function(){return--s>0&&(h=u.apply(this,arguments)),s<=1&&(u=r),h}}var Ov=Xe(function(s,u,h){var x=y;if(h.length){var C=xa(h,Ji(Ov));x|=A}return Xn(s,x,u,h,C)}),h0=Xe(function(s,u,h){var x=y|b;if(h.length){var C=xa(h,Ji(h0));x|=A}return Xn(u,x,s,h,C)});function g0(s,u,h){u=h?r:u;var x=Xn(s,S,r,r,r,r,r,u);return x.placeholder=g0.placeholder,x}function p0(s,u,h){u=h?r:u;var x=Xn(s,T,r,r,r,r,r,u);return x.placeholder=p0.placeholder,x}function m0(s,u,h){var x,C,R,z,U,X,ve=0,de=!1,pe=!1,Ee=!0;if(typeof s!="function")throw new ln(o);u=hn(u)||0,Rt(h)&&(de=!!h.leading,pe="maxWait"in h,R=pe?Qt(hn(h.maxWait)||0,u):R,Ee="trailing"in h?!!h.trailing:Ee);function Re(qt){var Sn=x,ea=C;return x=C=r,ve=qt,z=s.apply(ea,Sn),z}function qe(qt){return ve=qt,U=cs(Je,u),de?Re(qt):z}function Ye(qt){var Sn=qt-X,ea=qt-ve,B0=u-Sn;return pe?wr(B0,R-ea):B0}function Ve(qt){var Sn=qt-X,ea=qt-ve;return X===r||Sn>=u||Sn<0||pe&&ea>=R}function Je(){var qt=Fl();if(Ve(qt))return tt(qt);U=cs(Je,Ye(qt))}function tt(qt){return U=r,Ee&&x?Re(qt):(x=C=r,z)}function Yr(){U!==r&&Ay(U),ve=0,x=X=C=U=r}function Tr(){return U===r?z:tt(Fl())}function Xr(){var qt=Fl(),Sn=Ve(qt);if(x=arguments,C=this,X=qt,Sn){if(U===r)return qe(X);if(pe)return Ay(U),U=cs(Je,u),Re(X)}return U===r&&(U=cs(Je,u)),z}return Xr.cancel=Yr,Xr.flush=Tr,Xr}var fL=Xe(function(s,u){return oy(s,1,u)}),cL=Xe(function(s,u,h){return oy(s,hn(u)||0,h)});function vL(s){return Xn(s,_)}function zl(s,u){if(typeof s!="function"||u!=null&&typeof u!="function")throw new ln(o);var h=function(){var x=arguments,C=u?u.apply(this,x):x[0],R=h.cache;if(R.has(C))return R.get(C);var z=s.apply(this,x);return h.cache=R.set(C,z)||R,z};return h.cache=new(zl.Cache||Kn),h}zl.Cache=Kn;function $l(s){if(typeof s!="function")throw new ln(o);return function(){var u=arguments;switch(u.length){case 0:return!s.call(this);case 1:return!s.call(this,u[0]);case 2:return!s.call(this,u[0],u[1]);case 3:return!s.call(this,u[0],u[1],u[2])}return!s.apply(this,u)}}function dL(s){return d0(2,s)}var hL=eR(function(s,u){u=u.length==1&&Ge(u[0])?Dt(u[0],Hr(Fe())):Dt(cr(u,1),Hr(Fe()));var h=u.length;return Xe(function(x){for(var C=-1,R=wr(x.length,h);++C<R;)x[C]=u[C].call(this,x[C]);return Ur(s,this,x)})}),Lv=Xe(function(s,u){var h=xa(u,Ji(Lv));return Xn(s,A,r,u,h)}),y0=Xe(function(s,u){var h=xa(u,Ji(y0));return Xn(s,D,r,u,h)}),gL=Zn(function(s,u){return Xn(s,L,r,r,r,u)});function pL(s,u){if(typeof s!="function")throw new ln(o);return u=u===r?u:Ke(u),Xe(s,u)}function mL(s,u){if(typeof s!="function")throw new ln(o);return u=u==null?0:Qt(Ke(u),0),Xe(function(h){var x=h[u],C=Pa(h,0,u);return x&&wa(C,x),Ur(s,this,C)})}function yL(s,u,h){var x=!0,C=!0;if(typeof s!="function")throw new ln(o);return Rt(h)&&(x="leading"in h?!!h.leading:x,C="trailing"in h?!!h.trailing:C),m0(s,u,{leading:x,maxWait:u,trailing:C})}function bL(s){return v0(s,1)}function wL(s,u){return Lv(mv(u),s)}function xL(){if(!arguments.length)return[];var s=arguments[0];return Ge(s)?s:[s]}function EL(s){return cn(s,m)}function SL(s,u){return u=typeof u=="function"?u:r,cn(s,m,u)}function CL(s){return cn(s,d|m)}function TL(s,u){return u=typeof u=="function"?u:r,cn(s,d|m,u)}function PL(s,u){return u==null||iy(s,u,rr(u))}function En(s,u){return s===u||s!==s&&u!==u}var AL=Ol(iv),DL=Ol(function(s,u){return s>=u}),ei=cy(function(){return arguments}())?cy:function(s){return Bt(s)&&mt.call(s,"callee")&&!Qm.call(s,"callee")},Ge=ae.isArray,kL=Om?Hr(Om):N_;function Lr(s){return s!=null&&ql(s.length)&&!Jn(s)}function $t(s){return Bt(s)&&Lr(s)}function _L(s){return s===!0||s===!1||Bt(s)&&Sr(s)==J}var Aa=Uk||Uv,RL=Lm?Hr(Lm):F_;function OL(s){return Bt(s)&&s.nodeType===1&&!vs(s)}function LL(s){if(s==null)return!0;if(Lr(s)&&(Ge(s)||typeof s=="string"||typeof s.splice=="function"||Aa(s)||ji(s)||ei(s)))return!s.length;var u=xr(s);if(u==me||u==Ue)return!s.size;if(fs(s))return!uv(s).length;for(var h in s)if(mt.call(s,h))return!1;return!0}function IL(s,u){return ss(s,u)}function ML(s,u,h){h=typeof h=="function"?h:r;var x=h?h(s,u):r;return x===r?ss(s,u,r,h):!!x}function Iv(s){if(!Bt(s))return!1;var u=Sr(s);return u==ge||u==ce||typeof s.message=="string"&&typeof s.name=="string"&&!vs(s)}function BL(s){return typeof s=="number"&&jm(s)}function Jn(s){if(!Rt(s))return!1;var u=Sr(s);return u==De||u==ze||u==G||u==Ie}function b0(s){return typeof s=="number"&&s==Ke(s)}function ql(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Y}function Rt(s){var u=typeof s;return s!=null&&(u=="object"||u=="function")}function Bt(s){return s!=null&&typeof s=="object"}var w0=Im?Hr(Im):$_;function NL(s,u){return s===u||sv(s,u,Cv(u))}function FL(s,u,h){return h=typeof h=="function"?h:r,sv(s,u,Cv(u),h)}function zL(s){return x0(s)&&s!=+s}function $L(s){if(SR(s))throw new He(i);return vy(s)}function qL(s){return s===null}function VL(s){return s==null}function x0(s){return typeof s=="number"||Bt(s)&&Sr(s)==we}function vs(s){if(!Bt(s)||Sr(s)!=Se)return!1;var u=hl(s);if(u===null)return!0;var h=mt.call(u,"constructor")&&u.constructor;return typeof h=="function"&&h instanceof h&&fl.call(h)==Fk}var Mv=Mm?Hr(Mm):q_;function WL(s){return b0(s)&&s>=-Y&&s<=Y}var E0=Bm?Hr(Bm):V_;function Vl(s){return typeof s=="string"||!Ge(s)&&Bt(s)&&Sr(s)==We}function Kr(s){return typeof s=="symbol"||Bt(s)&&Sr(s)==Qe}var ji=Nm?Hr(Nm):W_;function UL(s){return s===r}function HL(s){return Bt(s)&&xr(s)==O}function GL(s){return Bt(s)&&Sr(s)==j}var KL=Ol(lv),YL=Ol(function(s,u){return s<=u});function S0(s){if(!s)return[];if(Lr(s))return Vl(s)?wn(s):Or(s);if(jo&&s[jo])return Pk(s[jo]());var u=xr(s),h=u==me?Zc:u==Ue?sl:eo;return h(s)}function jn(s){if(!s)return s===0?s:0;if(s=hn(s),s===q||s===-q){var u=s<0?-1:1;return u*te}return s===s?s:0}function Ke(s){var u=jn(s),h=u%1;return u===u?h?u-h:u:0}function C0(s){return s?Za(Ke(s),0,I):0}function hn(s){if(typeof s=="number")return s;if(Kr(s))return re;if(Rt(s)){var u=typeof s.valueOf=="function"?s.valueOf():s;s=Rt(u)?u+"":u}if(typeof s!="string")return s===0?s:+s;s=Wm(s);var h=Lc.test(s);return h||Ua.test(s)?lk(s.slice(2),h?2:8):Oc.test(s)?re:+s}function T0(s){return Bn(s,Ir(s))}function XL(s){return s?Za(Ke(s),-Y,Y):s===0?s:0}function vt(s){return s==null?"":Gr(s)}var ZL=Zi(function(s,u){if(fs(u)||Lr(u)){Bn(u,rr(u),s);return}for(var h in u)mt.call(u,h)&&as(s,h,u[h])}),P0=Zi(function(s,u){Bn(u,Ir(u),s)}),Wl=Zi(function(s,u,h,x){Bn(u,Ir(u),s,x)}),QL=Zi(function(s,u,h,x){Bn(u,rr(u),s,x)}),JL=Zn(rv);function jL(s,u){var h=Xi(s);return u==null?h:ay(h,u)}var e5=Xe(function(s,u){s=wt(s);var h=-1,x=u.length,C=x>2?u[2]:r;for(C&&Cr(u[0],u[1],C)&&(x=1);++h<x;)for(var R=u[h],z=Ir(R),U=-1,X=z.length;++U<X;){var ve=z[U],de=s[ve];(de===r||En(de,Gi[ve])&&!mt.call(s,ve))&&(s[ve]=R[ve])}return s}),t5=Xe(function(s){return s.push(r,Wy),Ur(A0,r,s)});function r5(s,u){return zm(s,Fe(u,3),Mn)}function n5(s,u){return zm(s,Fe(u,3),av)}function a5(s,u){return s==null?s:nv(s,Fe(u,3),Ir)}function i5(s,u){return s==null?s:ly(s,Fe(u,3),Ir)}function o5(s,u){return s&&Mn(s,Fe(u,3))}function s5(s,u){return s&&av(s,Fe(u,3))}function u5(s){return s==null?[]:Cl(s,rr(s))}function l5(s){return s==null?[]:Cl(s,Ir(s))}function Bv(s,u,h){var x=s==null?r:Qa(s,u);return x===r?h:x}function f5(s,u){return s!=null&&Gy(s,u,L_)}function Nv(s,u){return s!=null&&Gy(s,u,I_)}var c5=Fy(function(s,u,h){u!=null&&typeof u.toString!="function"&&(u=cl.call(u)),s[u]=h},zv(Mr)),v5=Fy(function(s,u,h){u!=null&&typeof u.toString!="function"&&(u=cl.call(u)),mt.call(s,u)?s[u].push(h):s[u]=[h]},Fe),d5=Xe(os);function rr(s){return Lr(s)?ry(s):uv(s)}function Ir(s){return Lr(s)?ry(s,!0):U_(s)}function h5(s,u){var h={};return u=Fe(u,3),Mn(s,function(x,C,R){Yn(h,u(x,C,R),x)}),h}function g5(s,u){var h={};return u=Fe(u,3),Mn(s,function(x,C,R){Yn(h,C,u(x,C,R))}),h}var p5=Zi(function(s,u,h){Tl(s,u,h)}),A0=Zi(function(s,u,h,x){Tl(s,u,h,x)}),m5=Zn(function(s,u){var h={};if(s==null)return h;var x=!1;u=Dt(u,function(R){return R=Ta(R,s),x||(x=R.length>1),R}),Bn(s,Ev(s),h),x&&(h=cn(h,d|g|m,cR));for(var C=u.length;C--;)hv(h,u[C]);return h});function y5(s,u){return D0(s,$l(Fe(u)))}var b5=Zn(function(s,u){return s==null?{}:G_(s,u)});function D0(s,u){if(s==null)return{};var h=Dt(Ev(s),function(x){return[x]});return u=Fe(u),by(s,h,function(x,C){return u(x,C[0])})}function w5(s,u,h){u=Ta(u,s);var x=-1,C=u.length;for(C||(C=1,s=r);++x<C;){var R=s==null?r:s[Nn(u[x])];R===r&&(x=C,R=h),s=Jn(R)?R.call(s):R}return s}function x5(s,u,h){return s==null?s:us(s,u,h)}function E5(s,u,h,x){return x=typeof x=="function"?x:r,s==null?s:us(s,u,h,x)}var k0=qy(rr),_0=qy(Ir);function S5(s,u,h){var x=Ge(s),C=x||Aa(s)||ji(s);if(u=Fe(u,4),h==null){var R=s&&s.constructor;C?h=x?new R:[]:Rt(s)?h=Jn(R)?Xi(hl(s)):{}:h={}}return(C?un:Mn)(s,function(z,U,X){return u(h,z,U,X)}),h}function C5(s,u){return s==null?!0:hv(s,u)}function T5(s,u,h){return s==null?s:Cy(s,u,mv(h))}function P5(s,u,h,x){return x=typeof x=="function"?x:r,s==null?s:Cy(s,u,mv(h),x)}function eo(s){return s==null?[]:Xc(s,rr(s))}function A5(s){return s==null?[]:Xc(s,Ir(s))}function D5(s,u,h){return h===r&&(h=u,u=r),h!==r&&(h=hn(h),h=h===h?h:0),u!==r&&(u=hn(u),u=u===u?u:0),Za(hn(s),u,h)}function k5(s,u,h){return u=jn(u),h===r?(h=u,u=0):h=jn(h),s=hn(s),M_(s,u,h)}function _5(s,u,h){if(h&&typeof h!="boolean"&&Cr(s,u,h)&&(u=h=r),h===r&&(typeof u=="boolean"?(h=u,u=r):typeof s=="boolean"&&(h=s,s=r)),s===r&&u===r?(s=0,u=1):(s=jn(s),u===r?(u=s,s=0):u=jn(u)),s>u){var x=s;s=u,u=x}if(h||s%1||u%1){var C=ey();return wr(s+C*(u-s+uk("1e-"+((C+"").length-1))),u)}return cv(s,u)}var R5=Qi(function(s,u,h){return u=u.toLowerCase(),s+(h?R0(u):u)});function R0(s){return Fv(vt(s).toLowerCase())}function O0(s){return s=vt(s),s&&s.replace(zi,xk).replace(JD,"")}function O5(s,u,h){s=vt(s),u=Gr(u);var x=s.length;h=h===r?x:Za(Ke(h),0,x);var C=h;return h-=u.length,h>=0&&s.slice(h,C)==u}function L5(s){return s=vt(s),s&&yr.test(s)?s.replace(Wt,Ek):s}function I5(s){return s=vt(s),s&&Vr.test(s)?s.replace(qr,"\\$&"):s}var M5=Qi(function(s,u,h){return s+(h?"-":"")+u.toLowerCase()}),B5=Qi(function(s,u,h){return s+(h?" ":"")+u.toLowerCase()}),N5=My("toLowerCase");function F5(s,u,h){s=vt(s),u=Ke(u);var x=u?Ui(s):0;if(!u||x>=u)return s;var C=(u-x)/2;return Rl(yl(C),h)+s+Rl(ml(C),h)}function z5(s,u,h){s=vt(s),u=Ke(u);var x=u?Ui(s):0;return u&&x<u?s+Rl(u-x,h):s}function $5(s,u,h){s=vt(s),u=Ke(u);var x=u?Ui(s):0;return u&&x<u?Rl(u-x,h)+s:s}function q5(s,u,h){return h||u==null?u=0:u&&(u=+u),Yk(vt(s).replace(_t,""),u||0)}function V5(s,u,h){return(h?Cr(s,u,h):u===r)?u=1:u=Ke(u),vv(vt(s),u)}function W5(){var s=arguments,u=vt(s[0]);return s.length<3?u:u.replace(s[1],s[2])}var U5=Qi(function(s,u,h){return s+(h?"_":"")+u.toLowerCase()});function H5(s,u,h){return h&&typeof h!="number"&&Cr(s,u,h)&&(u=h=r),h=h===r?I:h>>>0,h?(s=vt(s),s&&(typeof u=="string"||u!=null&&!Mv(u))&&(u=Gr(u),!u&&Wi(s))?Pa(wn(s),0,h):s.split(u,h)):[]}var G5=Qi(function(s,u,h){return s+(h?" ":"")+Fv(u)});function K5(s,u,h){return s=vt(s),h=h==null?0:Za(Ke(h),0,s.length),u=Gr(u),s.slice(h,h+u.length)==u}function Y5(s,u,h){var x=k.templateSettings;h&&Cr(s,u,h)&&(u=r),s=vt(s),u=Wl({},u,x,Vy);var C=Wl({},u.imports,x.imports,Vy),R=rr(C),z=Xc(C,R),U,X,ve=0,de=u.interpolate||Ha,pe="__p += '",Ee=Qc((u.escape||Ha).source+"|"+de.source+"|"+(de===kr?Rc:Ha).source+"|"+(u.evaluate||Ha).source+"|$","g"),Re="//# sourceURL="+(mt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nk+"]")+`
`;s.replace(Ee,function(Ve,Je,tt,Yr,Tr,Xr){return tt||(tt=Yr),pe+=s.slice(ve,Xr).replace(tl,Sk),Je&&(U=!0,pe+=`' +
__e(`+Je+`) +
'`),Tr&&(X=!0,pe+=`';
`+Tr+`;
__p += '`),tt&&(pe+=`' +
((__t = (`+tt+`)) == null ? '' : __t) +
'`),ve=Xr+Ve.length,Ve}),pe+=`';
`;var qe=mt.call(u,"variable")&&u.variable;if(!qe)pe=`with (obj) {
`+pe+`
}
`;else if(kc.test(qe))throw new He(l);pe=(X?pe.replace(Oe,""):pe).replace(St,"$1").replace(pt,"$1;"),pe="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+pe+`return __p
}`;var Ye=I0(function(){return lt(R,Re+"return "+pe).apply(r,z)});if(Ye.source=pe,Iv(Ye))throw Ye;return Ye}function X5(s){return vt(s).toLowerCase()}function Z5(s){return vt(s).toUpperCase()}function Q5(s,u,h){if(s=vt(s),s&&(h||u===r))return Wm(s);if(!s||!(u=Gr(u)))return s;var x=wn(s),C=wn(u),R=Um(x,C),z=Hm(x,C)+1;return Pa(x,R,z).join("")}function J5(s,u,h){if(s=vt(s),s&&(h||u===r))return s.slice(0,Km(s)+1);if(!s||!(u=Gr(u)))return s;var x=wn(s),C=Hm(x,wn(u))+1;return Pa(x,0,C).join("")}function j5(s,u,h){if(s=vt(s),s&&(h||u===r))return s.replace(_t,"");if(!s||!(u=Gr(u)))return s;var x=wn(s),C=Um(x,wn(u));return Pa(x,C).join("")}function eI(s,u){var h=F,x=N;if(Rt(u)){var C="separator"in u?u.separator:C;h="length"in u?Ke(u.length):h,x="omission"in u?Gr(u.omission):x}s=vt(s);var R=s.length;if(Wi(s)){var z=wn(s);R=z.length}if(h>=R)return s;var U=h-Ui(x);if(U<1)return x;var X=z?Pa(z,0,U).join(""):s.slice(0,U);if(C===r)return X+x;if(z&&(U+=X.length-U),Mv(C)){if(s.slice(U).search(C)){var ve,de=X;for(C.global||(C=Qc(C.source,vt(el.exec(C))+"g")),C.lastIndex=0;ve=C.exec(de);)var pe=ve.index;X=X.slice(0,pe===r?U:pe)}}else if(s.indexOf(Gr(C),U)!=U){var Ee=X.lastIndexOf(C);Ee>-1&&(X=X.slice(0,Ee))}return X+x}function tI(s){return s=vt(s),s&&zt.test(s)?s.replace(er,_k):s}var rI=Qi(function(s,u,h){return s+(h?" ":"")+u.toUpperCase()}),Fv=My("toUpperCase");function L0(s,u,h){return s=vt(s),u=h?r:u,u===r?Tk(s)?Lk(s):pk(s):s.match(u)||[]}var I0=Xe(function(s,u){try{return Ur(s,r,u)}catch(h){return Iv(h)?h:new He(h)}}),nI=Zn(function(s,u){return un(u,function(h){h=Nn(h),Yn(s,h,Ov(s[h],s))}),s});function aI(s){var u=s==null?0:s.length,h=Fe();return s=u?Dt(s,function(x){if(typeof x[1]!="function")throw new ln(o);return[h(x[0]),x[1]]}):[],Xe(function(x){for(var C=-1;++C<u;){var R=s[C];if(Ur(R[0],this,x))return Ur(R[1],this,x)}})}function iI(s){return __(cn(s,d))}function zv(s){return function(){return s}}function oI(s,u){return s==null||s!==s?u:s}var sI=Ny(),uI=Ny(!0);function Mr(s){return s}function $v(s){return dy(typeof s=="function"?s:cn(s,d))}function lI(s){return gy(cn(s,d))}function fI(s,u){return py(s,cn(u,d))}var cI=Xe(function(s,u){return function(h){return os(h,s,u)}}),vI=Xe(function(s,u){return function(h){return os(s,h,u)}});function qv(s,u,h){var x=rr(u),C=Cl(u,x);h==null&&!(Rt(u)&&(C.length||!x.length))&&(h=u,u=s,s=this,C=Cl(u,rr(u)));var R=!(Rt(h)&&"chain"in h)||!!h.chain,z=Jn(s);return un(C,function(U){var X=u[U];s[U]=X,z&&(s.prototype[U]=function(){var ve=this.__chain__;if(R||ve){var de=s(this.__wrapped__),pe=de.__actions__=Or(this.__actions__);return pe.push({func:X,args:arguments,thisArg:s}),de.__chain__=ve,de}return X.apply(s,wa([this.value()],arguments))})}),s}function dI(){return fr._===this&&(fr._=zk),this}function Vv(){}function hI(s){return s=Ke(s),Xe(function(u){return my(u,s)})}var gI=bv(Dt),pI=bv(Fm),mI=bv(Uc);function M0(s){return Pv(s)?Hc(Nn(s)):K_(s)}function yI(s){return function(u){return s==null?r:Qa(s,u)}}var bI=zy(),wI=zy(!0);function Wv(){return[]}function Uv(){return!1}function xI(){return{}}function EI(){return""}function SI(){return!0}function CI(s,u){if(s=Ke(s),s<1||s>Y)return[];var h=I,x=wr(s,I);u=Fe(u),s-=I;for(var C=Yc(x,u);++h<s;)u(h);return C}function TI(s){return Ge(s)?Dt(s,Nn):Kr(s)?[s]:Or(t0(vt(s)))}function PI(s){var u=++Nk;return vt(s)+u}var AI=_l(function(s,u){return s+u},0),DI=wv("ceil"),kI=_l(function(s,u){return s/u},1),_I=wv("floor");function RI(s){return s&&s.length?Sl(s,Mr,iv):r}function OI(s,u){return s&&s.length?Sl(s,Fe(u,2),iv):r}function LI(s){return qm(s,Mr)}function II(s,u){return qm(s,Fe(u,2))}function MI(s){return s&&s.length?Sl(s,Mr,lv):r}function BI(s,u){return s&&s.length?Sl(s,Fe(u,2),lv):r}var NI=_l(function(s,u){return s*u},1),FI=wv("round"),zI=_l(function(s,u){return s-u},0);function $I(s){return s&&s.length?Kc(s,Mr):0}function qI(s,u){return s&&s.length?Kc(s,Fe(u,2)):0}return k.after=lL,k.ary=v0,k.assign=ZL,k.assignIn=P0,k.assignInWith=Wl,k.assignWith=QL,k.at=JL,k.before=d0,k.bind=Ov,k.bindAll=nI,k.bindKey=h0,k.castArray=xL,k.chain=l0,k.chunk=_R,k.compact=RR,k.concat=OR,k.cond=aI,k.conforms=iI,k.constant=zv,k.countBy=$O,k.create=jL,k.curry=g0,k.curryRight=p0,k.debounce=m0,k.defaults=e5,k.defaultsDeep=t5,k.defer=fL,k.delay=cL,k.difference=LR,k.differenceBy=IR,k.differenceWith=MR,k.drop=BR,k.dropRight=NR,k.dropRightWhile=FR,k.dropWhile=zR,k.fill=$R,k.filter=VO,k.flatMap=HO,k.flatMapDeep=GO,k.flatMapDepth=KO,k.flatten=i0,k.flattenDeep=qR,k.flattenDepth=VR,k.flip=vL,k.flow=sI,k.flowRight=uI,k.fromPairs=WR,k.functions=u5,k.functionsIn=l5,k.groupBy=YO,k.initial=HR,k.intersection=GR,k.intersectionBy=KR,k.intersectionWith=YR,k.invert=c5,k.invertBy=v5,k.invokeMap=ZO,k.iteratee=$v,k.keyBy=QO,k.keys=rr,k.keysIn=Ir,k.map=Nl,k.mapKeys=h5,k.mapValues=g5,k.matches=lI,k.matchesProperty=fI,k.memoize=zl,k.merge=p5,k.mergeWith=A0,k.method=cI,k.methodOf=vI,k.mixin=qv,k.negate=$l,k.nthArg=hI,k.omit=m5,k.omitBy=y5,k.once=dL,k.orderBy=JO,k.over=gI,k.overArgs=hL,k.overEvery=pI,k.overSome=mI,k.partial=Lv,k.partialRight=y0,k.partition=jO,k.pick=b5,k.pickBy=D0,k.property=M0,k.propertyOf=yI,k.pull=JR,k.pullAll=s0,k.pullAllBy=jR,k.pullAllWith=eO,k.pullAt=tO,k.range=bI,k.rangeRight=wI,k.rearg=gL,k.reject=rL,k.remove=rO,k.rest=pL,k.reverse=_v,k.sampleSize=aL,k.set=x5,k.setWith=E5,k.shuffle=iL,k.slice=nO,k.sortBy=uL,k.sortedUniq=fO,k.sortedUniqBy=cO,k.split=H5,k.spread=mL,k.tail=vO,k.take=dO,k.takeRight=hO,k.takeRightWhile=gO,k.takeWhile=pO,k.tap=RO,k.throttle=yL,k.thru=Bl,k.toArray=S0,k.toPairs=k0,k.toPairsIn=_0,k.toPath=TI,k.toPlainObject=T0,k.transform=S5,k.unary=bL,k.union=mO,k.unionBy=yO,k.unionWith=bO,k.uniq=wO,k.uniqBy=xO,k.uniqWith=EO,k.unset=C5,k.unzip=Rv,k.unzipWith=u0,k.update=T5,k.updateWith=P5,k.values=eo,k.valuesIn=A5,k.without=SO,k.words=L0,k.wrap=wL,k.xor=CO,k.xorBy=TO,k.xorWith=PO,k.zip=AO,k.zipObject=DO,k.zipObjectDeep=kO,k.zipWith=_O,k.entries=k0,k.entriesIn=_0,k.extend=P0,k.extendWith=Wl,qv(k,k),k.add=AI,k.attempt=I0,k.camelCase=R5,k.capitalize=R0,k.ceil=DI,k.clamp=D5,k.clone=EL,k.cloneDeep=CL,k.cloneDeepWith=TL,k.cloneWith=SL,k.conformsTo=PL,k.deburr=O0,k.defaultTo=oI,k.divide=kI,k.endsWith=O5,k.eq=En,k.escape=L5,k.escapeRegExp=I5,k.every=qO,k.find=WO,k.findIndex=n0,k.findKey=r5,k.findLast=UO,k.findLastIndex=a0,k.findLastKey=n5,k.floor=_I,k.forEach=f0,k.forEachRight=c0,k.forIn=a5,k.forInRight=i5,k.forOwn=o5,k.forOwnRight=s5,k.get=Bv,k.gt=AL,k.gte=DL,k.has=f5,k.hasIn=Nv,k.head=o0,k.identity=Mr,k.includes=XO,k.indexOf=UR,k.inRange=k5,k.invoke=d5,k.isArguments=ei,k.isArray=Ge,k.isArrayBuffer=kL,k.isArrayLike=Lr,k.isArrayLikeObject=$t,k.isBoolean=_L,k.isBuffer=Aa,k.isDate=RL,k.isElement=OL,k.isEmpty=LL,k.isEqual=IL,k.isEqualWith=ML,k.isError=Iv,k.isFinite=BL,k.isFunction=Jn,k.isInteger=b0,k.isLength=ql,k.isMap=w0,k.isMatch=NL,k.isMatchWith=FL,k.isNaN=zL,k.isNative=$L,k.isNil=VL,k.isNull=qL,k.isNumber=x0,k.isObject=Rt,k.isObjectLike=Bt,k.isPlainObject=vs,k.isRegExp=Mv,k.isSafeInteger=WL,k.isSet=E0,k.isString=Vl,k.isSymbol=Kr,k.isTypedArray=ji,k.isUndefined=UL,k.isWeakMap=HL,k.isWeakSet=GL,k.join=XR,k.kebabCase=M5,k.last=dn,k.lastIndexOf=ZR,k.lowerCase=B5,k.lowerFirst=N5,k.lt=KL,k.lte=YL,k.max=RI,k.maxBy=OI,k.mean=LI,k.meanBy=II,k.min=MI,k.minBy=BI,k.stubArray=Wv,k.stubFalse=Uv,k.stubObject=xI,k.stubString=EI,k.stubTrue=SI,k.multiply=NI,k.nth=QR,k.noConflict=dI,k.noop=Vv,k.now=Fl,k.pad=F5,k.padEnd=z5,k.padStart=$5,k.parseInt=q5,k.random=_5,k.reduce=eL,k.reduceRight=tL,k.repeat=V5,k.replace=W5,k.result=w5,k.round=FI,k.runInContext=K,k.sample=nL,k.size=oL,k.snakeCase=U5,k.some=sL,k.sortedIndex=aO,k.sortedIndexBy=iO,k.sortedIndexOf=oO,k.sortedLastIndex=sO,k.sortedLastIndexBy=uO,k.sortedLastIndexOf=lO,k.startCase=G5,k.startsWith=K5,k.subtract=zI,k.sum=$I,k.sumBy=qI,k.template=Y5,k.times=CI,k.toFinite=jn,k.toInteger=Ke,k.toLength=C0,k.toLower=X5,k.toNumber=hn,k.toSafeInteger=XL,k.toString=vt,k.toUpper=Z5,k.trim=Q5,k.trimEnd=J5,k.trimStart=j5,k.truncate=eI,k.unescape=tI,k.uniqueId=PI,k.upperCase=rI,k.upperFirst=Fv,k.each=f0,k.eachRight=c0,k.first=o0,qv(k,function(){var s={};return Mn(k,function(u,h){mt.call(k.prototype,h)||(s[h]=u)}),s}(),{chain:!1}),k.VERSION=n,un(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){k[s].placeholder=k}),un(["drop","take"],function(s,u){et.prototype[s]=function(h){h=h===r?1:Qt(Ke(h),0);var x=this.__filtered__&&!u?new et(this):this.clone();return x.__filtered__?x.__takeCount__=wr(h,x.__takeCount__):x.__views__.push({size:wr(h,I),type:s+(x.__dir__<0?"Right":"")}),x},et.prototype[s+"Right"]=function(h){return this.reverse()[s](h).reverse()}}),un(["filter","map","takeWhile"],function(s,u){var h=u+1,x=h==M||h==W;et.prototype[s]=function(C){var R=this.clone();return R.__iteratees__.push({iteratee:Fe(C,3),type:h}),R.__filtered__=R.__filtered__||x,R}}),un(["head","last"],function(s,u){var h="take"+(u?"Right":"");et.prototype[s]=function(){return this[h](1).value()[0]}}),un(["initial","tail"],function(s,u){var h="drop"+(u?"":"Right");et.prototype[s]=function(){return this.__filtered__?new et(this):this[h](1)}}),et.prototype.compact=function(){return this.filter(Mr)},et.prototype.find=function(s){return this.filter(s).head()},et.prototype.findLast=function(s){return this.reverse().find(s)},et.prototype.invokeMap=Xe(function(s,u){return typeof s=="function"?new et(this):this.map(function(h){return os(h,s,u)})}),et.prototype.reject=function(s){return this.filter($l(Fe(s)))},et.prototype.slice=function(s,u){s=Ke(s);var h=this;return h.__filtered__&&(s>0||u<0)?new et(h):(s<0?h=h.takeRight(-s):s&&(h=h.drop(s)),u!==r&&(u=Ke(u),h=u<0?h.dropRight(-u):h.take(u-s)),h)},et.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},et.prototype.toArray=function(){return this.take(I)},Mn(et.prototype,function(s,u){var h=/^(?:filter|find|map|reject)|While$/.test(u),x=/^(?:head|last)$/.test(u),C=k[x?"take"+(u=="last"?"Right":""):u],R=x||/^find/.test(u);C&&(k.prototype[u]=function(){var z=this.__wrapped__,U=x?[1]:arguments,X=z instanceof et,ve=U[0],de=X||Ge(z),pe=function(Je){var tt=C.apply(k,wa([Je],U));return x&&Ee?tt[0]:tt};de&&h&&typeof ve=="function"&&ve.length!=1&&(X=de=!1);var Ee=this.__chain__,Re=!!this.__actions__.length,qe=R&&!Ee,Ye=X&&!Re;if(!R&&de){z=Ye?z:new et(this);var Ve=s.apply(z,U);return Ve.__actions__.push({func:Bl,args:[pe],thisArg:r}),new fn(Ve,Ee)}return qe&&Ye?s.apply(this,U):(Ve=this.thru(pe),qe?x?Ve.value()[0]:Ve.value():Ve)})}),un(["pop","push","shift","sort","splice","unshift"],function(s){var u=ul[s],h=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",x=/^(?:pop|shift)$/.test(s);k.prototype[s]=function(){var C=arguments;if(x&&!this.__chain__){var R=this.value();return u.apply(Ge(R)?R:[],C)}return this[h](function(z){return u.apply(Ge(z)?z:[],C)})}}),Mn(et.prototype,function(s,u){var h=k[u];if(h){var x=h.name+"";mt.call(Yi,x)||(Yi[x]=[]),Yi[x].push({name:u,func:h})}}),Yi[kl(r,b).name]=[{name:"wrapper",func:r}],et.prototype.clone=t_,et.prototype.reverse=r_,et.prototype.value=n_,k.prototype.at=OO,k.prototype.chain=LO,k.prototype.commit=IO,k.prototype.next=MO,k.prototype.plant=NO,k.prototype.reverse=FO,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=zO,k.prototype.first=k.prototype.head,jo&&(k.prototype[jo]=BO),k},Hi=Ik();Ga?((Ga.exports=Hi)._=Hi,$c._=Hi):fr._=Hi}).call(to)}(Ju,Ju.exports),Ju.exports;const ID=["CHARACTER","SEQUEL","SIDE_STORY","SOURCE","ALTERNATIVE","SPIN_OFF","SUMMARY","COMPILATION","CONTAINS","PREQUEL","ADAPTATION","PARENT","OTHER"],MD=(()=>{const t={};return ID.map((e,r)=>{t[e]=r}),t})(),BD={FINISHED:{id:"FINISHED",label:"Finished",icon:gn.jsx(mo,{}),tooltip:"Has completed and is no longer being released",color:"secondary"},RELEASING:{id:"RELEASING",label:"Releasing",icon:gn.jsx(mo,{}),tooltip:"Currently releasing",color:"secondary"},NOT_YET_RELEASED:{id:"NOT_YET_RELEASED",label:"Not Yet Released",icon:gn.jsx(Af,{}),tooltip:"To be released at a later date",color:"primary"},CANCELLED:{id:"CANCELLED",label:"Cancelled",icon:gn.jsx(Af,{}),tooltip:"Ended before the work could be finished",color:"primary"},HIATUS:{id:"HIATUS",label:"Hiatus",icon:gn.jsx(mo,{}),tooltip:"Is currently paused from releasing and will resume at a later date",color:"secondary"},UNKNOWN:{id:"UNKNOWN",label:"Unknown",icon:gn.jsx(mo,{}),tooltip:"A true mistery!",color:"secondary"}};new Proxy(BD,{get:function(t,e,r){return e in t?t[e]:t.UNKNOWN}});function ND(t,e,r){console.log("ComputeData");const n=Wa({headless:!0}),a=()=>r.map(p=>`#${p}`).join(", "),i=p=>{const w=y=>{if(y.status==="NOT_YET_RELEASED")return 1;if(y.chapters)return y.chapters*5;if(y.volumes)return y.volumes*50;if(y.episodes&&y.duration)return y.episodes*y.duration;if(y.nextAiringEpisode?.episode&&y.duration)return y.nextAiringEpisode?.episode*y.duration;const b=Object.values(y.startDate).filter(S=>S!=="FuzzyDate"&&S).join("-"),E=(Date.now()-Date.parse(b))/864e5;return y.format==="MANGA"?Math.round(E/8.2)*5:(y.format==="TV",Math.round(E/8.2)*20)};return{id:p.id,status:"NO",airStatus:p.status??"",format:p.format??"SPECIAL",title:p.title.userPreferred,titles:[...Object.values(p.title),...p.synonyms].filter(y=>!["MediaTitle",null].includes(y)),siteUrl:p.siteUrl,bannerImage:p.bannerImage,popularity:p.popularity,cover:p.coverImage.extraLarge,coverColor:p.coverImage.color,compWeight:w(p),startDate:Object.values(p.startDate).filter(y=>y!=="FuzzyDate"&&y).join("-")}},o=p=>{const w=new Map,y=new Map;console.log(p);for(const b of p)for(const E of b.entries){w.set(E.media.id,{data:{...i(E.media),status:E.status}});for(const S of E.media.relations.nodes)w.get(S.id)||w.set(S.id,{data:{...i(S),status:"NO"}});for(const S of E.media.relations.edges)y.set(S.id,{data:{id:"L"+S.id,source:E.media.id,target:S.node.id,relation:S.relationType}})}return[w,y]},[l,f]=o(t);console.log(l,f),n.add(Array.from(l.values()).concat(Array.from(f.values())));const c=n.elements().components(),v=[];c.map(p=>{let w=n.collection();p.edges().map(y=>{const b=y.parallelEdges().sort((E,S)=>e[E.data("relation")]-e[S.data("relation")])[0];switch(b.data("relation")){case"ADAPTATION":b.move({source:b.data("target"),target:b.data("source")}),b.data({relation:"SOURCE"});break;case"PREQUEL":b.move({source:b.data("target"),target:b.data("source")}),b.data({relation:"SEQUEL"});break}w=w.union(b)}),p=p.nodes().union(w),w.map(y=>{y.restore()}),p.filter("node, edge[relation!='CHARACTER']").difference(a()).components().map(y=>{y.nodes().length!==y.filter("node[status='NO']").length&&v.push({series:y,serieComplete:p.subtract(y)})})});const g=v.map(p=>{const w=p.series.sort((y,b)=>{const E=parseInt(y.data("popularity")),S=parseInt(b.data("popularity"));return isNaN(E)?999:isNaN(S)?-1:S-E});return{seriesPrime:w.nodes()[0],series:w,serieComplete:p.serieComplete}}).map(p=>{const w={};for(const y of["TV","TV_SHORT","MOVIE","SPECIAL","OVA","ONA","MUSIC","MANGA","NOVEL","ONE_SHOT"]){const b=p.series.nodes().filter(`node[format='${y}'][airStatus!="CANCELLED"]`);w[y]={tot:b.length??0,miss:b.filter("node[status='NO']").length??0,got:b.filter("node[status='COMPLETED'],node[status='DROPPED'],node[status='REPEATING']").length??0,plan:b.filter("node[status='PLANNING'],node[status='CURRENT'],node[status='PAUSED']").length??0,totWeight:b.map(E=>E.data("compWeight"))?.reduce?.((E,S)=>E+S,0),missWeight:b.filter("node[status='NO']").map(E=>E.data("compWeight"))?.reduce?.((E,S)=>E+S,0),gotWeight:b.filter("node[status='COMPLETED'],node[status='DROPPED'],node[status='REPEATING']").map(E=>E.data("compWeight"))?.reduce?.((E,S)=>E+S,0),planWeight:b.filter("node[status='PLANNING'],node[status='CURRENT'],node[status='PAUSED']").map(E=>E.data("compWeight"))?.reduce?.((E,S)=>E+S,0)}}return{...p,stats:w,status:"ERR"}}),m={};return g.map(p=>{m[p.seriesPrime.data("id")]={...p,seriesPrime:p.seriesPrime.data(),series:{nodes:p.series.nodes().map(w=>w.data()),edges:p.series.edges().map(w=>w.data())},serieComplete:{nodes:p.serieComplete.nodes().map(w=>w.data()),edges:p.serieComplete.edges().map(w=>w.data())}}}),console.log(Object.values(m).length),m}const hm=`
query ($user: String!, $type: MediaType){
  MediaListCollection(userName: $user, type: $type) {
    lists {
      entries {
        id
        status
        media {
          id
          title {
            userPreferred
            romaji
            english
          }
          synonyms
          startDate {
            year
            month
            day
          }
          format
          coverImage {
            extraLarge
            medium
            color
          }
          bannerImage
          popularity
          siteUrl
          chapters
          volumes
          episodes
          duration
          nextAiringEpisode {
            episode
          }
          status(version: 2)
          relations {
            nodes {
              id
              title {
                userPreferred
                romaji
                english
              }
              synonyms
              startDate {
                year
                month
                day
              }
              format
              coverImage {
                extraLarge
                medium
                color
              }
              bannerImage
              popularity
              siteUrl
              chapters
              volumes
              episodes
              duration
              nextAiringEpisode {
                episode
              }
              status(version: 2)
            }
            edges {
              id
              relationType(version: 2)
              node {
                id
              }
            }
          }
        }
      }
      name
      isCustomList
      isSplitCompletedList
    }

  }
}
`,Dc={fullUpdate:!1};self.onmessage=async t=>{const e=t.data;if(console.log(t),e.type==="start")switch(e.action){case"fullUpdate":if(Dc.fullUpdate){console.log("Already executing the action");return}Dc.fullUpdate=!0,self.postMessage({type:"status",status:"loading",log:"Loading your Anime&Manga List"});const r=fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:hm,variables:{user:e.arguments.user,type:"ANIME"}})}),n=fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:hm,variables:{user:e.arguments.user,type:"MANGA"}})}),[a,i]=await Promise.all([r,n]).then(([l,f])=>Promise.all([l.json(),f.json()]));console.log(a,i),self.postMessage({type:"status",status:"loading",log:" Computing received data"});const o=ND([...a.data.MediaListCollection.lists,...i.data.MediaListCollection.lists],MD,F0);self.postMessage({type:"status",status:"success",log:" Computation Completed!"}),self.postMessage({type:"result",action:"fullUpdate",result:o}),Dc.fullUpdate=!1;break;default:console.log("Unknown action");break}}})();
